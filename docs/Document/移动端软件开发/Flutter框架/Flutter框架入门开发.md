# Flutter æ¡†æ¶å…¥é—¨å¼€å‘

## å‚è€ƒå¼€å‘

æ–‡æ¡£ï¼š

- <https://itsallwidgets.com/>
- <https://flutterawesome.com/>
- <https://startflutter.com/>

ä¸­æ–‡å®˜ç½‘ï¼š<https://flutter.cn/>

## é¡¹ç›®å·¥ç¨‹æ–‡ä»¶ç»“æ„è¯¦è§£

ğŸŸ androidï¼šå­˜æ”¾ android å¹³å°ç›¸å…³ä»£ç 

ğŸŸ¡iosï¼šå­˜æ”¾ ios å¹³å°ç›¸å…³ä»£ç 

ğŸŸ¢libï¼šflutter ä»£ç ï¼Œå³ dart æ–‡ä»¶ï¼ˆæˆ‘ä»¬ç¼–å†™çš„ä»£ç å­˜æ”¾ä½ç½®ï¼‰

ğŸ”µtestï¼šå­˜æ”¾æµ‹è¯•ä»£ç 

ğŸŸ£pubspec.yamlï¼šé…ç½®æ–‡ä»¶ï¼Œå­˜æ”¾ä¸€äº›ç¬¬ä¸‰æ–¹çš„ä¾èµ–èµ„æº

æˆ‘ä»¬åœ¨å­¦ä¹  flutter å…¥é—¨ï¼Œå…¶å®ä¹Ÿå¯ä»¥ä¸ç”¨ç®¡å‰ä¸¤ä¸ªï¼Œæˆ‘ä»¬é‡ç‚¹æ”¾åœ¨ lib æ–‡ä»¶å¤¹å’Œ pubspec.yaml æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å­˜æ”¾æˆ‘ä»¬ä»£ç ç¼–è¾‘çš„ä½ç½®ã€‚

## Flutter å‘½ä»¤è¡Œ

- flutter

  - æŸ¥çœ‹åé¢å¯ä»¥æ¥ä»€ä¹ˆå‘½ä»¤

- flutter doctor

  - æŸ¥çœ‹éœ€è¦å®‰è£…çš„ä¾èµ–

- flutter create demo1

  - åˆ›å»ºé¡¹ç›®

- flutter -v

  - æŸ¥çœ‹å½“å‰ç‰ˆæœ¬

- flutter version

  - æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬

- flutter analyze

  - åˆ†æé¡¹ç›®çš„ Dart ä»£ç ã€‚

- flutter run -v

  - ç¼–è¯‘è¿è¡Œ

- flutter run

  - è¿è¡Œä½ çš„ Flutter åº”ç”¨ç¨‹åº

- flutter stop

  - åœæ­¢åœ¨é™„åŠ è®¾å¤‡ä¸Šçš„ Flutter åº”ç”¨

- flutter test

  - å¯¹å½“å‰é¡¹ç›®çš„ Flutter å•å…ƒæµ‹è¯•

- flutter trace

  - å¼€å§‹å¹¶åœæ­¢è·Ÿè¸ªè¿è¡Œçš„ Flutter åº”ç”¨ç¨‹åº

- flutter upgrade

  - å‡çº§ä½ çš„ Flutter å‰¯æœ¬

- flutter build

  - Flutter æ„å»ºå‘½ä»¤ã€‚

- flutter channel

  - åˆ—è¡¨æˆ–å¼€å…³ Flutter é€šé“

- flutter clean

  - åˆ é™¤æ„å»º/ç›®å½•

- flutter config

  - é…ç½® Flutter è®¾ç½®

- flutter devices

  - åˆ—å‡ºæ‰€æœ‰è¿æ¥çš„è®¾å¤‡

- flutter drive

  - ä¸ºå½“å‰é¡¹ç›®è¿è¡Œ Flutter é©±åŠ¨ç¨‹åºæµ‹è¯•

- flutter format

  - æ ¼å¼ä¸€ä¸ªæˆ–å¤šä¸ª Dart æ–‡ä»¶

- flutter fuchsia_reload

  - åœ¨ Fuchsia ä¸Šè¿›è¡Œçƒ­é‡è½½

- flutter install

  - åœ¨é™„åŠ è®¾å¤‡ä¸Šå®‰è£… Flutter åº”ç”¨ç¨‹åº

- flutter logs

  - æ˜¾ç¤ºç”¨äºè¿è¡Œ Flutter åº”ç”¨ç¨‹åºçš„æ—¥å¿—è¾“å‡º

- flutter packages

  - å‘½ä»¤ç”¨äºç®¡ç† Flutter åŒ…

- flutter precache

  - å¡«å……äº† Flutter å·¥å…·çš„äºŒè¿›åˆ¶å·¥ä»¶ç¼“å­˜

- flutter screenshot
  - ä»ä¸€ä¸ªè¿æ¥çš„è®¾å¤‡æˆªå›¾

## Flutter æ¨¡æ‹Ÿå™¨æ“ä½œ

### æ¨¡æ‹Ÿå™¨æ“ä½œ

è¿è¡Œé¡¹ç›®

```bash
flutter run
```

æ¨¡æ‹Ÿå™¨åˆ—è¡¨

```bash
flutter emulators
```

å¯åŠ¨æ¨¡æ‹Ÿå™¨,åªæœ‰å¯åŠ¨æ¨¡æ‹Ÿå™¨æ‰å¯ä»¥è¿è¡Œæ¨¡æ‹Ÿå™¨

```bash
flutter emulators --launch <emulator id>
```

ä¾‹å¦‚æœªå¯åŠ¨æ¨¡æ‹Ÿå™¨åˆ—è¡¨:

```bash
Nexus_5X_API_28 â€¢ Nexus 5X â€¢ Google â€¢ Nexus 5X API 28

apple_ios_simulator â€¢ iOS Simulator â€¢ Apple
```

å¯åŠ¨å®‰å“æ¨¡æ‹Ÿå™¨

```bash
flutter emulators --launch Nexus_5X_API_28
```

è¿è¡Œæ‰€æœ‰æ¨¡æ‹Ÿå™¨

```bash
flutter run -d all
```

è¿è¡ŒæŒ‡å®šæ¨¡æ‹Ÿå™¨

```bash
flutter run -d <deviceid>
```

ä¾‹å¦‚æ¨¡æ‹Ÿå™¨åˆ—è¡¨:

```bash
Android SDK built for x86 â€¢ emulator-5554 â€¢ android-x86 â€¢ Android 9 (API 28) (emulator)
```

2

```bash
xxxçš„ iPhone â€¢ 00008020-001838491169002E â€¢ ios â€¢ iOS 12.2
```

è¿è¡Œå®‰å“æ¨¡æ‹Ÿå™¨

```bash
flutter run -d emulator-5554
```

è¿è¡Œ IOS çœŸæœº

```bash
flutter run -d 00008020-001838491169002E
```

è¿è¡Œæ‰€æœ‰æ¨¡æ‹Ÿå™¨

```bash
flutter run -d all
```

### è¿è¡Œæ¨¡æ‹Ÿå™¨è¿‡ç¨‹ä¸­å‘½ä»¤

- çƒ­æ›´æ–°åˆ·æ–°

  - r

- çƒ­é‡å¯åˆ·æ–°

  - R

- é€€å‡ºè¿è¡Œæ¨¡æ‹Ÿå™¨ app

  - q

- åˆ‡æ¢æ¨¡æ‹Ÿå™¨ç³»ç»Ÿçš„æ•ˆæœ (å®‰å“å’Œè‹¹æœç³»ç»Ÿ)
  - o

## Flutter è¿è¡Œè°ƒè¯•

### æ–­ç‚¹è°ƒè¯•

åœ¨ Flutter è¿›è¡Œæ–­ç‚¹è°ƒè¯•éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨ Vscode ä¸Šæ‰“ä¸Šä¸€ä¸ªæ–­ç‚¹ï¼ŒæŒ‰ F5 å°±ä¼šåœåœ¨æ–­ç‚¹å¤„ã€‚é€šè¿‡å·¦è¾¹çš„è°ƒè¯•æ ï¼Œè§‚å¯Ÿæ–­ç‚¹å¤„çš„å˜é‡ä»¥åŠæ ˆå †æƒ…å†µã€‚

### debugger è°ƒè¯•

ä½¿ç”¨ debugger API çš„æ–¹å¼

```dart
import 'dart:developer';

void someFunction(double offset) {
    debugger(when: offset > 30.0, message: 'offset å¤§äº 30 æ—¶ï¼Œä¸­æ–­');
    // ...
}
```

debugger ä»£ç åªä¼šåœ¨å¼€å‘é˜¶æ®µè¿è¡Œ

### rendering è°ƒè¯•

rendering å³å¼€å¯å¸ƒå±€çº¿ï¼Œå½“æ‰“å¼€ rendering æ—¶ï¼Œä¼šåœ¨ç•Œé¢ä¸Šçœ‹åˆ°ä¸€äº›å¸ƒå±€çº¿ï¼Œä»¥ä¾¿äºä¿®å¤å¸ƒå±€æ•ˆæœã€‚

```dart
import 'package:flutter/rendering.dart';

void main() {
    debugPaintSizeEnabled = !true;
    runApp(new MyApp());
}
```

æ•ˆæœ

### æ—¥å¿—è°ƒè¯•

ç›´æ¥ä½¿ç”¨ print è¾“å‡ºå†…å®¹å³å¯ï¼Œåœ¨ ASã€Vscode é‡Œçš„æ§åˆ¶å°/è°ƒè¯•æ§åˆ¶å°éƒ½å¯ä»¥çœ‹åˆ°ã€‚

ä¸ºäº†æ–¹ä¾¿ï¼Œå®šä¹‰ä¸€ä¸ª Debug ç±»ã€‚

```dart
class Debug {
    static log(String tag, String text) {
        print('[$tag] $text');
    }
    static info(String tag, String text) {
        print('[$tag] $text');
    }
    static success(String tag, String text) {
        print('[$tag] $text');
    }
    static error(String tag, String text) {
        print('[$tag] $text');
    }
}
```

### è¿è¡ŒçŠ¶æ€è°ƒè¯•

åœ¨ä½¿ç”¨å‘½ä»¤ï¼šflutter run æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ª Observatory URL åœ°å€æä¾›ï¼ˆä¸€èˆ¬ä¸ºï¼šhttp://127.0.0.1:8108/ï¼‰ï¼Œé‚£å°±æ˜¯è¿è¡ŒçŠ¶æ€è°ƒè¯•ï¼Œæ‰“å¼€ä¹‹åå¯ä»¥çœ‹åˆ°åº”ç”¨çš„ GCã€VM æ–¹é¢çš„ä¿¡æ¯ã€‚æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨ F5 å¯åŠ¨ï¼Œåˆ™æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚

æ•ˆæœ

### çœŸæœºè°ƒè¯•

å¼€å¯çœŸæœºè°ƒè¯•çš„æ­¥éª¤ï¼š

- 1.æ‰“å¼€ å¼€å‘è€…é€‰é¡¹ è¿˜æœ‰ USB è°ƒè¯•ã€‚

- 2.ä½¿ç”¨ USB å°†æ‰‹æœºè¿æ¥ç”µè„‘ï¼Œè‹¥æ‰‹æœºå‡ºç°æç¤ºï¼Œæˆæƒç”µè„‘è®¿é—®æ‰‹æœºã€‚

- 3.åœ¨å‘½ä»¤æ‰§è¡Œ flutter devices ç¡®è®¤è¿æ¥ç”µè„‘çš„è®¾å¤‡ã€‚

- 4.ç„¶åå¯é€šè¿‡æ‰§è¡Œ flutter run è¿è¡Œæˆ‘ä»¬çš„ appã€‚

- 5.åœ¨æ‰‹æœºä¸Šå¼€å¯ USB è°ƒè¯•æ¨¡å¼ã€‚

Android Studio åˆ‡æ¢å•ç‹¬è¿è¡Œ android ç›®å½• çš„é¡¹ç›®

## é¡¹ç›®ç›®å½•ç»“æ„

- .dart_tool

  - è®°å½•äº†ä¸€äº› dart å·¥å…·åº“æ‰€åœ¨çš„ä½ç½®å’Œä¿¡æ¯

- .idea

  - android studio æ˜¯åŸºäº idea å¼€å‘çš„ï¼Œ.idea è®°å½•äº†é¡¹ç›®çš„ä¸€äº›æ–‡ä»¶çš„å˜æ›´è®°å½•

- android

  - android é¡¹ç›®éœ€è¦æ‰“åŒ…ä¸Šæ¶çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨æ­¤æ–‡ä»¶å¤¹é‡Œé¢çš„æ–‡ä»¶ã€‚åŒæ ·çš„å¦‚æœæˆ‘ä»¬éœ€è¦åŸç”Ÿä»£ç çš„æ”¯æŒï¼ŒåŸç”Ÿä»£ç ä¹Ÿæ˜¯æ”¾åœ¨è¿™é‡Œ

- ios

  - åŒ…å«äº† iOS é¡¹ç›®ç›¸å…³çš„é…ç½®å’Œæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬çš„é¡¹ç›®éœ€è¦æ‰“åŒ…ä¸Šçº¿çš„æ—¶å€™ï¼Œéœ€è¦æ‰“å¼€è¯¥æ–‡ä»¶å†…çš„ Runner.xcworkspace æ–‡ä»¶è¿›è¡Œç¼–è¯‘å’Œæ‰“åŒ…å·¥ä½œ

- lib

  - æ—¥å¸¸å¼€å‘çš„ dart è¯­è¨€ä»£ç éƒ½æ”¾åœ¨è¿™é‡Œï¼Œå¯ä»¥è¯´æ˜¯æˆ‘ä»¬çš„â€œæ ¸å¿ƒå·¥ä½œæ–‡ä»¶å¤¹â€

- test

  - å­˜æ”¾åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­çš„æµ‹è¯•ä»£ç ï¼Œè‰¯å¥½çš„æµ‹è¯•ä¹ æƒ¯æ˜¯ä¿è¯ä»£ç è´¨é‡çš„å¿…è¦æ‰‹æ®µï¼Œå¸Œæœ›å¤§å®¶åœ¨ test æ–‡ä»¶é‡Œå†™æ›´å¤šçš„ä»£ç 

- .gitignore

  - git å¿½ç•¥é…ç½®æ–‡ä»¶

- .metadata

  - IDE ç”¨æ¥è®°å½•æŸä¸ª Flutter é¡¹ç›®å±æ€§çš„çš„éšè—æ–‡ä»¶

- .packages

  - pub å·¥å…·éœ€è¦ä½¿ç”¨çš„ï¼ŒåŒ…å« package ä¾èµ–çš„ yaml æ ¼å¼çš„æ–‡ä»¶

- flutter_app.iml

  - å·¥ç¨‹æ–‡ä»¶çš„æœ¬åœ°è·¯å¾„é…ç½®

- pubspec.lock

  - å½“å‰é¡¹ç›®ä¾èµ–æ‰€ç”Ÿæˆçš„æ–‡ä»¶

- pubspec.yaml

  - å½“å‰é¡¹ç›®çš„ä¸€äº›é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ã€å›¾ç‰‡èµ„æºæ–‡ä»¶ç­‰

- README.md
  - è‡ªè¿°é¡¹ç›®ä¿¡æ¯(html æ ‡ç­¾)

## è¿è¡Œåˆ«äººçš„é¡¹ç›®

### æ¸…ç†

- flutter clean

### ä¸‹è½½åŒ…

- flutter pub cache repair

- flutter packages get

- flutter pub get

- flutter packages upgrade

### é‡æ–°ç”Ÿæˆå‘½ä»¤ç”Ÿæˆç¼ºå¤±çš„è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶

- flutter create .

### æŠ¥é”™â€œInvalid plugin specification. Invalid â€œmacosâ€ plugin specification.â€

æ›´æ–° Flutter SDK

- flutter upgrade

### gradle ç‰ˆæœ¬

\android\gradle\wrapper\gradle-wrapper.properties é‡Œé¢çš„ distributionUrl å€¼

- `distributionUrl=https\://services.gradle.org/distributions/gradle-4.10.2-all.zip `//è¿™é‡Œå°±æ˜¯ä½ æœ¬åœ°çš„ç‰ˆæœ¬

\android\build.gradle é‡Œé¢çš„ å¦‚ï¼š `dependencies {    classpath 'com.android.tools.build:gradle:3.2.1' //å¡«å†™æœ¬åœ°ç‰ˆæœ¬å· }`

- é€šè¿‡ flutter packages get å‘½ä»¤ä¸‹è½½æ‰€æœ‰ä¾èµ–çš„æ’ä»¶

## Flutter ç»„ä»¶

### main.dart ç¨‹åºå…¥å£æ–‡ä»¶

```dart
// ç¨‹åºå…¥å£
void main() => runApp(
  // æ­å»ºAppç»“æ„ä¸»é¢˜
  MaterialApp(
    // appè„šæ‰‹æ¶æ­å»ºç»“æ„
    home:Scaffold(
      body:
    )
  )
)
```

### å­—ä½“è®¾ç½®

- ios é¡¹ç›®

  - é¡¹ç›®ä¸­å¼•å…¥ ttf æ–‡ä»¶ ï¼Œå¹¶åœ¨ info.plist ä¸­è®¾ç½®å¼•ç”¨

- Android é¡¹ç›®

  - åˆ›å»ºä¸€ä¸ª Font èµ„æºæ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¼ é€’åˆ° TextView çš„ FontFamily å‚æ•°ä¸­

- Flutter é¡¹ç›®
  - åœ¨æ–‡ä»¶å¤¹ä¸­æ”¾ç½®å­—ä½“æ–‡ä»¶ï¼Œå¹¶åœ¨ pubspec.yaml ä¸­å¼•ç”¨

### ç»„ä»¶æ–‡æ¡£

- https://flutterchina.club/widgets/basics/

- http://laomengit.com/guide/widgets/Button.html

### ç»„ä»¶åˆ†ç±»

#### æ— çŠ¶æ€ç»„ä»¶ StatelessWidget

ä½œç”¨

- å¤ç”¨ç»„ä»¶

è‡ªå®šä¹‰æœ¨å¶ç»„ä»¶

```dart
class MyApp extends StatelessWidget{
  @override
  widget build(BuildContext context){
    return Container();
  }
}
```

#### æœ‰çŠ¶æ€ç»„ä»¶ StatefullWidget

ä½œç”¨ï¼šæ•°æ®ã€é€»è¾‘å¤„ç†

è‡ªå®šä¹‰ç»„ä»¶

```dart
class MyHomePage extends StatefulWidget {
  MyHomePage({Key? key, required this.title}) : super(key: key);
  final String title;

  @override
  _MyHomePageState createState() => _MyHomePageState();
}
```

### å¸ƒå±€ç»„ä»¶

#### Container å®¹å™¨ç»„ä»¶

Container ç»„ä»¶æ˜¯æœ€å¸¸ç”¨çš„å¸ƒå±€ç»„ä»¶ä¹‹ä¸€ï¼Œå¯ä»¥è®¤ä¸ºå®ƒæ˜¯ web å¼€å‘ä¸­çš„ divï¼Œrn å¼€å‘ä¸­çš„ Viewã€‚å…¶å¾€å¾€å¯ä»¥ç”¨æ¥æ§åˆ¶å¤§å°ã€èƒŒæ™¯é¢œè‰²ã€è¾¹æ¡†ã€é˜´å½±ã€å†…å¤–è¾¹è·å’Œå†…å®¹æ’åˆ—æ–¹å¼ç­‰

- width: å®½

  - å®½

  - å€¼
    - 300

- height: é«˜

  - é«˜

  - å€¼
    - 300

- color: é¢œè‰²

  - é¢œè‰²

  - å€¼

    - Colors.red

    - Color(0xFFFF0000)

- margin: å¤–è¾¹è·

  - å¤–è¾¹è·

  - å€¼

    - å››ä¸ªæ–¹å‘

      - EdgeInsets.all(100)

    - å•ä¸ªæ–¹å‘

      - EdgeInsets.only(left:100,top:100,right:100,bottom:100)

    - æ°´å¹³å’Œå‚ç›´

      - EdgeInsets.symmetric(horizontal: 20,vertical: 20)

    - é¡ºåºæ–¹å‘è®¾ç½®å€¼
      - EdgeInsets.fromLTRB(100, 100, 100, 200)

- padding: å†…è¾¹è·

  - å†…è¾¹è·

  - å€¼

    - å››ä¸ªæ–¹å‘

      - EdgeInsets.all(100)

    - å•ä¸ªæ–¹å‘

      - EdgeInsets.only(left:100,top:100,right:100,bottom:100)

    - æ°´å¹³å’Œå‚ç›´

      - EdgeInsets.symmetric(horizontal: 20,vertical: 20)

    - é¡ºåºæ–¹å‘è®¾ç½®å€¼
      - EdgeInsets.fromLTRB(100, 100, 100, 200)

- alingnment: å­å®¹å™¨å¯¹é½çˆ¶å®¹å™¨

  - å€¼

    - Alignment.topLeft: å·¦ä¸Š

    - Alignment.topCenter: ä¸Šä¸­

    - Alignment.topRight: å³ä¸Š

    - Alignment.centerLeft: å·¦ä¸­

    - Alignment.center: å±…ä¸­

    - Alignment.centerRight: å³ä¸­

    - Alignment.bottomLeft: å·¦ä¸‹

    - Alignment.bottomCenter: ä¸‹ä¸­

    - Alignment.bottomRight: å³ä¸‹

- BoxConstraints é™åˆ¶å®¹å™¨çš„å®½é«˜

  - å€¼

    - minWidth

    - maxWidth

    - minHeight

    - maxHeight

  - ä¾‹å­

    ```dart
    // å®¹å™¨çš„å¤§å°å°†è¢«é™åˆ¶åœ¨[100*100 ~ 200*200]å†…
    BoxConstraints(
      minWidth: 100,
      maxWidth: 200,
      minHeight: 100,
      maxHeight: 200,
    )
    ```

- decoration: è£…é¥°

  - è¾¹æ¡† border

    - Border.all()

      - å››ä¸ªè¾¹æ¡†

    - Border(top:BorderSide(color:value,width:1,style:BorderStyle.solid),)

      - é¡¶éƒ¨é¢œè‰²ã€å®½ã€è¾¹æ¡†æ ·å¼å®çº¿

    - ä»£ç ä¾‹å­

      - ```dart
        // åŒæ—¶è®¾ç½®4æ¡è¾¹æ¡†ï¼š1pxç²—ç»†çš„é»‘è‰²å®çº¿è¾¹æ¡†
        BoxDecoration(
          border: Border.all(color: Colors.black, width: 1, style: BorderStyle.solid)
        )

        // è®¾ç½®å•è¾¹æ¡†ï¼šä¸Šè¾¹æ¡†ä¸º1pxç²—ç»†çš„é»‘è‰²å®çº¿è¾¹æ¡†ï¼Œå³è¾¹æ¡†ä¸º1pxç²—ç»†çš„çº¢è‰²å®çº¿è¾¹æ¡†
        BoxDecoration(
          border: Border(
            top: BorderSide(color: Colors.black, width: 1, style: BorderStyle.solid),
            right: BorderSide(color: Colors.red, width: 1, style: BorderStyle.solid),
          ),
        )
        ```

  - é˜´å½± boxShadow

    - å¯ä»¥æŒ‡å®š xï¼Œyï¼Œblurï¼Œspreadï¼Œcolor ç­‰å±æ€§

    - ```dart
      BoxDecoration(
        boxShadow: [
          BoxShadow(
            offset: Offset(0, 0),
            blurRadius: 6,
            spreadRadius: 10,
            color: Color.fromARGB(20, 0, 0, 0),
          ),
        ],
      )
      ```

    -

  - æ¸å˜ gradient

    - ä¸‰ç§æ¸å˜

      - LinearGradientï¼šçº¿æ€§æ¸å˜

        - ```dart
          // ä»å·¦åˆ°å³ï¼Œçº¢è‰²åˆ°è“è‰²çš„çº¿æ€§æ¸å˜
          BoxDecoration(
            gradient: LinearGradient(
              begin: Alignment.centerLeft,
              end: Alignment.centerRight,
              colors: [Colors.red, Colors.blue],
            ),
          )
          ```

        -

      - RadialGradientï¼šæ”¾å°„çŠ¶æ¸å˜

        - ```dart
          // ä»ä¸­å¿ƒå‘å››å‘¨æ‰©æ•£ï¼Œçº¢è‰²åˆ°è“è‰²çš„å¾„å‘æ¸å˜
          BoxDecoration(
            gradient: RadialGradient(
              center: Alignment.center,
              colors: [Colors.red, Colors.blue],
            ),
          )
          ```

      - SweepGradientï¼šæ‰‡å½¢æ¸å˜

```dart
  BoxDecoration(
    gradient: SweepGradient(
        colors: <color>[
            Colors.red,
            Colors.blue
        ],
      )
  )
```

    - widgetå½¢å¼

```dart
    Container(
      decoration: BoxDecoration(
        gradient: LinearGradient(
          begin: Alignment.topLeft,
          end: Alignment(0.8, 0.0), // 10% of the width, so there are ten blinds.
          colors: [const Color(0xFFFFFFEE), const Color(0xFF999999)], // whitish to gray
          tileMode: TileMode.repeated, // repeats the gradient over the canvas
        ),
      ),
    )
```

    - å‡½æ•°å½¢å¼

```dart
  class Sky extends CustomPainter {
    @override
    void paint(Canvas canvas, Size size) {
      var rect = Offset.zero & size;
      var gradient = RadialGradient(
        center: const Alignment(0.7, -0.6),
        radius: 0.2,
          Colors.white,
          Colors.black,
          Colors.red,
        stops: [0.4, 1.0],
      );
      canvas.drawRect(
        rect,
        Paint()..shader = gradient.createShader(rect),
      );
    }
    @override
    bool shouldRepaint(Sky oldDelegate) => false;
    @override
    bool shouldRebuildSemantics(Sky oldDelegate) => false;
  }
  ///è°ƒç”¨
  CustomPaint(
    size: Size(300, 300), //æŒ‡å®šç”»å¸ƒå¤§å°
    painter: Sky(),
  );
```

- åœ†è§’ borderRadius

  - BorderRadius.circular è®¾ç½® 4 ä¸ªè§’çš„åœ†è§’

    - ```dart
      // åŒæ—¶è®¾ç½®4ä¸ªè§’çš„åœ†è§’ä¸º5
      BoxDecoration(
        borderRadius: BorderRadius.circular(5),
      )
      ```

    -

  - BorderRadius.only è®¾ä¸“é—¨å•ä¸ªè§’

    - ```dart
      // è®¾ç½®å•åœ†è§’ï¼šå·¦ä¸Šè§’çš„åœ†è§’ä¸º5ï¼Œå³ä¸Šè§’çš„åœ†è§’ä¸º10
      BoxDecoration(
        borderRadius: BorderRadius.only(
          topLeft: Radius.circular(5),
          topRight: Radius.circular(10),
        ),
      )
      ```

- å½¢çŠ¶ shape

  - shape: BoxShape.circle,

    - å…¨åœ†åœ†å½¢

    - å’Œåœ†è§’è®¾ç½®çš„åœ†å½¢ - ä¸¤ä¸ªåœ†å½¢å½¢çŠ¶ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™

  - shape: BoxShape.rectangle // æ–¹å½¢å½¢çŠ¶

- èƒŒæ™¯

  - é¢œè‰²

    - color: Colors.grey[100],

  - å›¾ç‰‡

    - ```dart
      // èƒŒæ™¯è®¾ç½®
            decoration: BoxDecoration(
              image: DecorationImage(
                image: NetworkImage('https://c-ssl.duitang.com/uploads/blog/202105/08/20210508151655_73f2f.jpeg'),
                alignment: Alignment.topCenter,
                // repeat: ImageRepeat.noRepeat,
                // å›¾ç‰‡é“ºæ»¡
                fit: BoxFit.cover,
                // æ»¤é•œ
                colorFilter: ColorFilter.mode(
                  Colors.indigoAccent[400]!. withOpacity(0.5),
                  BlendMode.hardLight
                )
              )
            ),
      ```

    -

- transform: åŠ¨ç”»

  - å¹³ç§»

    - translationValues(x, y, z): å¹³ç§» x, y, zï¼›

  - ç¼©æ”¾

  - æ—‹è½¬

    - rotationX()

      - rotationX(radians): x è½´æ—‹è½¬ radians å¼§åº¦ï¼›

    - rotationY()

      - rotationY(radians): y è½´æ—‹è½¬ radians å¼§åº¦ï¼›

    - rotationZ()
      - rotationZ(radians): z è½´æ—‹è½¬ radians å¼§åº¦ï¼›

  - å€¾æ–œ

    - skew()

      - skew(alpha, beta): x è½´å€¾æ–œ alpha åº¦ï¼Œy è½´å€¾æ–œ beta åº¦ï¼›

    - skewX()

      - skewX(alpha): x è½´å€¾æ–œ alpha åº¦ï¼›

    - skewY()
      - skewY(beta): y è½´å€¾æ–œ beta åº¦ï¼›

- child:å®¹å™¨å…ƒä»¶å()

  - å­å®¹å™¨

- ç¤ºä¾‹

  - ```dart
    Container(
        width: 300, //å®½åº¦
        height: 300, //é«˜åº¦
        decoration: BoxDecoration(
            borderRadius: BorderRadius.circular(5), //åœ†è§’
            border: Border.all(width: 2.0, color: Colors.blueAccent //è¾¹æ¡†
            ),
            color: Colors.green,  //é¢œè‰²
        ),
        alignment: Alignment.center,  //å¯¹é½æ–¹å¼
        padding: EdgeInsets.all(10),  //å†…è¾¹è·
        margin: EdgeInsets.all(10),   //å¤–è¾¹è·
        child: Text('æµ‹è¯•'),    //å­ç»„ä»¶
    );
    ```

  -

#### Row/Column åˆ—è¡¨(è¡Œ/åˆ—ç»„ä»¶)

å€¼

- mainAxisAlignment ä¸»è½´æ’åˆ—æ–¹å¼

  - MainAxisAlignment.start

  - MainAxisAlignment.end

  - MainAxisAlignment.center

  - MainAxisAlignment.spaceBetween

  - MainAxisAlignment.spaceAround

  - MainAxisAlignment.spaceEvenly

- crossAxisAlignment æ¬¡è½´æ’åˆ—æ–¹å¼

  - ç‰¹åˆ«æ³¨æ„

    - ç”±äº Column ç»„ä»¶æ¬¡è½´æ–¹å‘ä¸Šï¼ˆå³æ°´å¹³ï¼‰é»˜è®¤æ˜¯å±…ä¸­å¯¹é½ï¼Œæ‰€ä»¥æ°´å¹³æ–¹å‘ä¸Šä¸ä¼šæ’‘æ»¡å…¶çˆ¶å®¹å™¨ï¼Œæ­¤æ—¶éœ€è¦æŒ‡å®š CrossAxisAlignment.stretch æ‰å¯ä»¥

  - crossAxisAlignment.start

  - crossAxisAlignment.end

  - crossAxisAlignment.center

  - crossAxisAlignment.stretch

  - crossAxisAlignment.baseline

- mainAxisSize åœ¨ä¸»è½´ä¸Šçš„å°ºå¯¸

  - æŒ‡åœ¨ä¸»è½´æ–¹å‘ä¸Šï¼Œæ˜¯åŒ…è£¹å…¶å†…å®¹ï¼Œè¿˜æ˜¯æ’‘æ»¡å…¶çˆ¶å®¹å™¨

  - MainAxisSize.min

    - åŒ…è£¹å…¶å†…å®¹

  - MainAxisSize.max

    - æ’‘æ»¡çˆ¶å®¹å™¨

    - é»˜è®¤å€¼

##### Row æ°´å¹³æ–¹å‘ä¸Šæ’åˆ—å­ widget çš„åˆ—è¡¨

```dart
Row(
    mainAxisAlignment: MainAxisAlignment.spaceBetween, //ä¸»é˜Ÿé½æ–¹å¼
    crossAxisAlignment: CrossAxisAlignment.center, //ç«–å¯¹é½æ–¹å¼
    children: [ //ç»„ä»¶æ•°ç»„
        Text('æµ‹è¯•1'),
        Expanded( //æ‰©å±•ç»„ä»¶
            child: Text(
                'æµ‹è¯•2',
                textAlign: TextAlign.center,
            ),
            flex: 1, //å‰©ä¸‹çš„éƒ½æ˜¯æˆ‘çš„
        ),
        Text('æµ‹è¯•3'),
    ],
),
```

##### Column å‚ç›´æ–¹å‘ä¸Šæ’åˆ—å­ widget çš„åˆ—è¡¨

```dart
Column(
    mainAxisAlignment: MainAxisAlignment.spaceEvenly, //ä¸»é˜Ÿé½æ–¹å¼
    crossAxisAlignment: CrossAxisAlignment.center, //æ¨ªå¯¹é½æ–¹å¼
    children: [    //ç»„ä»¶æ•°ç»„
        Text('æµ‹è¯•1'),
        Text('æµ‹è¯•2'),
        Text('æµ‹è¯•3'),
    ],
),
```

#### Stack/Positoned (ç»å¯¹ç›¸å¯¹å®šä½å¸ƒå±€ç»„ä»¶)

Stack ç»å¯¹å®šä½çš„å®¹å™¨

Positioned ç›¸å¯¹å®šä½å®¹å™¨

ä»£ç ä¾‹å­

```dart
Container(
  height: 100,
  color: Colors.yellow,
  child: Stack(
    children: <widget>[
      Positioned(
        left: 10,
        top: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
      Positioned(
        right: 10,
        top: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
      Positioned(
        left: 10,
        bottom: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
      Positioned(
        right: 10,
        bottom: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
    ],
  ),
)
```

#### Center å°†å…¶å­ widget å±…ä¸­æ˜¾ç¤ºåœ¨ è‡ªèº«å†…éƒ¨çš„ widget

```dart
Container(
    width: 100,
    height: 100,
    color: Colors.yellow,
    child: Center(
        child: Text('æµ‹è¯•'),
    ),
);
```

#### Align å°†å…¶å­ widget å¯¹é½ï¼Œå¹¶å¯ä»¥æ ¹æ® å­ widget çš„å¤§å°è‡ªåŠ¨è°ƒæ•´å¤§å°

```dart
Container(
    width: 100,
    height: 100,
    color: Colors.yellow,
    child: Align(
        alignment: Alignment(0, 0), //èŒƒå›´-1~1ï¼Œ0ä¸ºä¸­é—´
        child: Text('æµ‹è¯•'),
    ),
);
```

#### AspectRatio å°†å­ widget çš„å¤§å°æŒ‡å®šä¸ºæŸä¸ªç‰¹å®šçš„é•¿å®½æ¯”ã€‚ è‡ªèº«çš„æ¯”ä¾‹

```dart
Container(
    alignment: Alignment.center,
    height: 200,
    color: Colors.blueAccent,
    child: AspectRatio(
        aspectRatio: 3,   //æ˜¯è‡ªèº«çš„å®½é«˜æ¯”3ï¼š1
            child: Container(
                color: Colors.yellow,
            ),
        ),
    );
```

#### SizeBox ç‰¹å®šå¤§å°çš„ç›’å­

```dart
SizedBox(
    width: 100,
    height: 100,
    child: Center(
        child: Text("æµ‹è¯•"),
    ),
);
```

### åŸºç¡€ç»„ä»¶

#### MateralApp

å®ƒå°è£…äº†åº”ç”¨ç¨‹åºå®ç° Material Design æ‰€éœ€è¦çš„ä¸€äº› widget

```dart
MaterialApp(
    debugShowCheckedModeBanner: false, //æ˜¯å¦æ˜¾ç¤ºæµ‹è¯•
    home: Home(), //ä¸»é¡µ
    theme: ThemeData(primaryColor: Colors.yellow), //ä¸»é¢˜è®¾ç½®
    routes: {    //è·¯ç”±é›†åˆ
        "/about": (context) => Test(),
    },
);
```

#### Scaffold

Material Design å¸ƒå±€ç»“æ„çš„åŸºæœ¬å®ç°

æ­¤ç±»æä¾›äº†ç”¨äºæ˜¾ç¤º drawerã€snackbar å’Œåº•éƒ¨ sheet çš„ APIã€‚

ä»£ç ä¾‹å­

```dart
Scaffold(
    appBar: AppBar( //å¯¼èˆªæ 
    title: Text("Flutter Demo"),  ),
    body: Test(), //å†…å®¹
    backgroundColor: Colors.grey[100], //èƒŒæ™¯é¢œè‰²
    bottomNavigationBar: BottomNavigationBar( //åº•éƒ¨æ 
        onTap: (index) {
            print('ç‚¹å‡»çš„æ˜¯ç¬¬$indexä¸ª');
        },
        currentIndex: 0,
        items: [
            BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Home'),
            BottomNavigationBarItem(icon: Icon(Icons.school), label: 'School'),
        ],
    ),
);
```

#### Drawer æŠ½å±‰

```dart
Scaffold(
    drawer: Drawer(  //å·¦æ»‘æŠ½å±‰
        child: ListView(
            children: [
                DrawerHeader(child: Text('Drawer Header')),
            ],
        ),
    ),
);
```

#### Image å›¾ç‰‡

å€¼

- image:

  - AssetImage

    - ä½¿ç”¨ AssetImage ä¹‹å‰ï¼Œéœ€è¦åœ¨ pubspec.yaml æ–‡ä»¶ä¸­å£°æ˜å¥½å›¾ç‰‡èµ„æºï¼Œç„¶åæ‰èƒ½ä½¿ç”¨ï¼›

  - NetworkImage
    - NextworkImage æŒ‡å®šå›¾ç‰‡çš„ç½‘ç»œåœ°å€å³å¯ï¼Œä¸»è¦æ˜¯åœ¨åŠ è½½ä¸€äº›ç½‘ç»œå›¾ç‰‡æ—¶ä¼šç”¨åˆ°ï¼›

- width: å›¾ç‰‡å®½åº¦ï¼›

- height: å›¾ç‰‡é«˜åº¦ï¼›

- color: å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²ï¼Œå½“ç½‘ç»œå›¾ç‰‡æœªåŠ è½½å®Œæ¯•ä¹‹å‰ï¼Œä¼šæ˜¾ç¤ºè¯¥èƒŒæ™¯é¢œè‰²ï¼›

- fit:

  - å›¾ç‰‡æ ¹æ®å®¹å™¨å¤§å°è¿›è¡Œé€‚é…

  - BoxFit()

    - fill

    - contain

    - cover

    - fitWidth

    - fitHeight

    - none

    - scaleDown

- repeat: å†³å®šå½“å›¾ç‰‡å®é™…å¤§å°ä¸è¶³æŒ‡å®šå¤§å°æ—¶æ˜¯å¦ä½¿ç”¨é‡å¤æ•ˆæœ

ä»£ç ä¾‹å­

```dart
Column(
    children: [
        Image(
            image: NetworkImage("ç½‘ç»œå›¾ç‰‡"),
            width: 100,
            fit: BoxFit.fitWidth, //ç¼©æ”¾æ¨¡å¼
        ),
        ClipOval(   //åœ†è§’å›¾ç‰‡
            child:  Image.asset(
                'æœ¬åœ°å›¾ç‰‡',
                width: 100,
                height: 100,
                fit: BoxFit.contain,
            ),
        )
    ],
),
```

æ„é€ å‡½æ•°è¯­æ³•ç³–

- Image.network()

  - å¯ä»¥ç¼©å†™æˆ Image()

- Image.asset

#### æ–‡æœ¬ç»„ä»¶

##### Text æ–‡æœ¬

å€¼

- style: æ–‡æœ¬æ ·å¼

  - TextStyle()

    - fontSize:13

    - fontWeight.bold

    - color:

      - Colors.red

      - Color(0xFF999999)

    - backgroundColor

    - shadows

- textAlign: æ–‡å­—å¯¹é½æ–¹å¼

  - TextAlign()

    - left

    - right

    - center

    - justify

- softWrap: æ–‡å­—æ˜¯å¦æ¢è¡Œ

- overflow: å½“æ–‡å­—æº¢å‡ºçš„æ—¶å€™ï¼Œ ä»¥ä½•ç§æ–¹å¼å¤„ç†ï¼ˆé»˜è®¤ç›´æ¥æˆªæ–­ï¼‰

  - TextOverflow()

    - clip

    - fade

    - ellipsis

    - visible

- maxLines: å½“æ–‡å­—è¶…è¿‡æœ€å¤§è¡Œæ•°è¿˜æ²¡æ˜¾ç¤ºå®Œçš„æ—¶å€™ï¼Œå°±ä¼šæ ¹æ® overflow å±æ€§å†³å®šå¦‚ä½•æˆªæ–­å¤„ç†ã€‚

ä»£ç ä¾‹å­

```dart
Text(
    'æµ‹è¯•',
    textAlign: TextAlign.center,  //å†…å®¹å¯¹é½æ–¹å¼
    overflow: TextOverflow.ellipsis,  //è¶…å‡º...
    style: TextStyle(   //å­—ä½“ç±»å‹
        fontSize: 16,
        fontWeight: FontWeight.bold,
        fontFamily: 'é»‘ä½“',
        color: Colors.blueAccent,
    ),
),
Text.rich(TextSpan( //å¯Œæ–‡æœ¬
    text: 'æµ‹è¯•',
    style: TextStyle(fontWeight: FontWeight.bold),
    children: <textspan>[
        TextSpan(text: 'å¯Œæ–‡æœ¬', style: TextStyle(fontSize: 16))
    ]
)),
```

##### å¯Œæ–‡æœ¬ç»„ä»¶

å¯ä»¥ç”¨ Flutter æä¾›çš„ Text.rich æ„é€ å‡½æ•° æ¥åˆ›å»ºç›¸åº”çš„æ–‡æœ¬ç»„ä»¶

- text å±æ€§æ˜¯ TextSpan

- TextSpan ä¸­çš„ style æ ·å¼éœ€è¦è®¾ç½®å±æ€§

- é»˜è®¤å­—ä½“æ ·å¼ DefaultTextStyle.of(context).style

Text.rich

```dart
Text.rich(TextSpan(
  children: [
    TextSpan(
      'ï¿¥',
      style: TextStyle(
        fontSize: 12,
        color: Color(0xFFFF7528),
      ),
    ),
    TextSpan(
      '258',
      style: TextStyle(
        fontSize: 15,
        color: Color(0xFFFF7528),
      ),
    ),
  ]
))
```

RichText()

```dart
RichText(
      text: TextSpan(
          style: DefaultTextStyle.of(context).style,
          children: <inlinespan>[
            TextSpan(text: 'è€å­Ÿ',style: TextStyle(color: Colors.red)),
            TextSpan(text: 'ï¼Œ'),
            TextSpan(text: 'ä¸€ä¸ªæœ‰æ€åº¦çš„ç¨‹åºå‘˜'),
          ]),
    )
```

å€¼

- textAlign: å¯¹é½

  - TextAlign.end

  - TextAlign.start

  - TextAlign.center

æ‰‹åŠ¿äº¤äº’

```dart
RichText(
      text: TextSpan(
          style: DefaultTextStyle.of(context).style,
          children: <inlinespan>[
            TextSpan(text: 'ç™»é™†å³è§†ä¸ºåŒæ„'),
            TextSpan(
              text: 'ã€ŠxxxæœåŠ¡åè®®ã€‹',
              style: TextStyle(color: Colors.red),
              recognizer: TapGestureRecognizer()..onTap = () {

              },
            ),
          ]),
    )
```

- recognizer å±æ€§æŒ‡å®šæ‰‹åŠ¿äº¤äº’ï¼Œç±»å‹æ˜¯ GestureRecognizer,GestureRecognizer æ˜¯æŠ½è±¡ç±»ï¼Œä¸€èˆ¬ä½¿ç”¨å…¶å­ç±» TapGestureRecognizer å®ç°ç‚¹å‡»äº¤äº’

##### TextField æ–‡æœ¬è¾“å…¥æ¡†

å€¼

- decoration: InputDecoration( border: InputBorder.none, // è¾¹æ¡†è®¾ç½® hintText: 'password', ),

  - decoration æ˜¯ TextField ç»„ä»¶çš„è£…é¥°ï¼ˆå¤–è§‚ï¼‰å‚æ•°ï¼Œç±»å‹æ˜¯ InputDecorationã€‚

  - icon æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„å‰é¢ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š

    - TextField( decoration: InputDecoration( icon: Icon(Icons.person), ), )

  - å€¼

    - è¡Œ

      - è¡Œå

        - labelText: 'å§“åï¼š',

      - è¡Œæ ·å¼
        - labelStyle: TextStyle(color:Colors.red)

    - é•¿åº¦

      - helperText: 'ç”¨æˆ·åé•¿åº¦ä¸º 6-10 ä¸ªå­—æ¯',

        - helperText æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„å·¦ä¸‹éƒ¨ï¼Œç”¨äºæç¤ºç”¨æˆ·

      - helperStyle: TextStyle(color: Colors.blue),

        - helperStyle å‚æ•°è¡¨ç¤ºæ–‡æœ¬æ ·å¼

      - helperMaxLines: 1

    - æç¤ºæ–‡å­—

      - hintText: 'è¯·è¾“å…¥ç”¨æˆ·å'
        - æ˜¯å½“è¾“å…¥æ¡†ä¸ºç©ºæ—¶çš„æç¤ºï¼Œä¸ä¸ºç©ºæ—¶ä¸åœ¨æ˜¾ç¤º

    - é”™è¯¯

      - errorText: 'ç”¨æˆ·åè¾“å…¥é”™è¯¯'

        - errorText æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„å·¦ä¸‹éƒ¨ï¼Œé»˜è®¤å­—ä½“ä¸ºçº¢è‰²

      - errorStyle: TextStyle(fontSize: 12),

      - errorMaxLines: 1,

      - errorBorder: OutlineInputBorder(borderSide: BorderSide(color: Colors.red)),

    - è¾“å…¥æ¡†å‰

      - prefixIcon: Icon(Icons.person)
        - prefix ç³»åˆ—çš„ç»„ä»¶æ˜¯è¾“å…¥æ¡†å‰é¢çš„éƒ¨åˆ†

    - è¾“å…¥æ¡†å°¾

      - suffixIcon: Icon(Icons.person)
        - å°¾éƒ¨çš„ Icon

    - è¾“å…¥ç»Ÿè®¡

      - counterText: '${\_textFieldValue.length}/32'
        - counter ç»„ä»¶ç»Ÿè®¡è¾“å…¥æ¡†æ–‡å­—çš„ä¸ªæ•°ï¼Œcounter ä»…ä»…æ˜¯å±•ç¤ºæ•ˆæœï¼Œä¸å…·å¤‡è‡ªåŠ¨ç»Ÿè®¡å­—æ•°çš„åŠŸèƒ½ï¼Œ è‡ªåŠ¨ç»Ÿè®¡å­—æ•°

    - fill æ ·å¼

      - fillColor: Color(0x30cccccc),

        - è¾“å…¥æ¡†èƒŒæ™¯

      - filled: true,
        - filled ä¸º true æ—¶ï¼Œè¾“å…¥æ¡†å°†ä¼šè¢« fillColor å¡«å……

    - åœ†è§’

      - ```dart
        enabledBorder: OutlineInputBorder(          borderSide: BorderSide(color: Color(0x00FF0000)),          borderRadius: BorderRadius.all(Radius.circular(100))),

        ```

      - ```dart
        focusedBorder: OutlineInputBorder(          borderSide: BorderSide(color: Color(0x00000000)),          borderRadius: BorderRadius.all(Radius.circular(100))),
        ```

    - controller æ§åˆ¶

      - æ˜¯è¾“å…¥æ¡†æ–‡æœ¬ç¼–è¾‘çš„æ§åˆ¶å™¨ï¼Œå¯ä»¥è·å– TextField çš„å†…å®¹ã€è®¾ç½® TextField çš„å†…å®¹

      - è·å–è¾“å…¥æ¡†çš„å†…å®¹ï¼Œå˜ä¸ºå¤§å†™

      - è¾“å…¥æ¡†åé¢å¸¦æœ‰â€œæ¸…é™¤â€åŠŸèƒ½

    - è½¯é”®ç›˜æ§åˆ¶

      - keyboardType æ§åˆ¶è½¯é”®ç›˜çš„ç±»å‹

        - textï¼šé€šç”¨é”®ç›˜ã€‚

        - multilineï¼šå½“ TextField ä¸ºå¤šè¡Œæ—¶ï¼ˆmaxLines è®¾ç½®å¤§äº 1ï¼‰ï¼Œå³ä¸‹è§’çš„ä¸ºâ€œæ¢è¡Œâ€ æŒ‰é”®ã€‚

        - numberï¼šæ•°å­—é”®ç›˜ã€‚

        - phoneï¼šæ‰‹æœºé”®ç›˜ï¼Œæ¯”æ•°å­—é”®ç›˜å¤š"\*"å’Œ "#"ã€‚

        - datetimeï¼šåœ¨ ios ä¸Šå’Œ text ä¸€æ ·ï¼Œåœ¨ android ä¸Šå‡ºç°æ•°å­—é”®ç›˜ã€":"å’Œ "-"ã€‚

        - emailAddressï¼šé‚®ç®±é”®ç›˜ï¼Œæœ‰"@" å’Œ "."æŒ‰é”®ã€‚

        - urlï¼šurl é”®ç›˜ï¼Œæœ‰"/" å’Œ "."æŒ‰é”®ã€‚

        - visiblePasswordï¼šæ—¢æœ‰å­—æ¯åˆæœ‰æ•°å­—çš„é”®ç›˜ã€‚

      - textInputAction æ§åˆ¶è½¯é”®ç›˜å³ä¸‹è§’çš„æŒ‰é”®

        - noneï¼šandroid ä¸Šæ˜¾ç¤ºè¿”å›é”®ï¼Œios ä¸æ”¯æŒã€‚

        - unspecifiedï¼šè®©æ“ä½œç³»ç»Ÿè‡ªå·±å†³å®šå“ªä¸ªåˆé€‚ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œandroid æ˜¾ç¤ºâ€œå®Œæˆâ€æˆ–è€…â€œè¿”å›â€ã€‚

        - doneï¼šandroid æ˜¾ç¤ºä»£è¡¨â€œå®Œæˆâ€çš„æŒ‰é’®ï¼Œios æ˜¾ç¤ºâ€œDoneâ€ï¼ˆä¸­æ–‡ï¼šå®Œæˆï¼‰ã€‚

        - goï¼šandroid æ˜¾ç¤ºè¡¨è¾¾ç”¨æˆ·å»å‘ç›®çš„åœ°çš„å›¾æ ‡ï¼Œæ¯”å¦‚å‘å³çš„ç®­å¤´ï¼Œios æ˜¾ç¤ºâ€œGoâ€ï¼ˆä¸­æ–‡ï¼šå‰å¾€ï¼‰ã€‚

        - searchï¼šandroid æ˜¾ç¤ºè¡¨è¾¾æœç´¢çš„æŒ‰é’®ï¼Œios æ˜¾ç¤º"Search"ï¼ˆä¸­æ–‡ï¼šæœç´¢ï¼‰ã€‚

        - sendï¼šandroid æ˜¾ç¤ºè¡¨è¾¾å‘é€æ„æ€çš„æŒ‰é’®ï¼Œæ¯”å¦‚â€œçº¸é£æœºâ€æŒ‰é’®ï¼Œios æ˜¾ç¤º"Send"ï¼ˆä¸­æ–‡ï¼šå‘é€ï¼‰ã€‚

        - nextï¼šandroid æ˜¾ç¤ºè¡¨è¾¾â€œå‰è¿›â€çš„æŒ‰é’®ï¼Œæ¯”å¦‚â€œå‘å³çš„ç®­å¤´â€,ios æ˜¾ç¤º"Next"ï¼ˆä¸­æ–‡ï¼šä¸‹ä¸€é¡¹ï¼‰ã€‚

        - previousï¼šandroid æ˜¾ç¤ºè¡¨è¾¾â€œåé€€â€çš„æŒ‰é’®ï¼Œæ¯”å¦‚â€œå‘å·¦çš„ç®­å¤´â€,ios ä¸æ”¯æŒã€‚

        - continueActionï¼šandroid ä¸æ”¯æŒï¼Œios ä»…åœ¨ ios9.0+æ˜¾ç¤º"Continue"ï¼ˆä¸­æ–‡ï¼šç»§ç»­ï¼‰ã€‚

        - joinï¼šAndroid å’Œ ios æ˜¾ç¤º"Join"ï¼ˆä¸­æ–‡ï¼šåŠ å…¥ï¼‰ã€‚

        - routeï¼šandroid ä¸æ”¯æŒï¼Œios æ˜¾ç¤º"Route"ï¼ˆä¸­æ–‡ï¼šè·¯çº¿ï¼‰ã€‚

        - emergencyCallï¼šandroid ä¸æ”¯æŒï¼Œios æ˜¾ç¤º"Emergency Call"ï¼ˆä¸­æ–‡ï¼šç´§æ€¥ç”µè¯ï¼‰ã€‚

        - newlineï¼šandroid æ˜¾ç¤ºè¡¨è¾¾â€œæ¢è¡Œâ€çš„æŒ‰é’®ï¼Œios æ˜¾ç¤ºâ€æ¢è¡Œâ€œã€‚

      - textCapitalization é…ç½®é”®ç›˜æ˜¯å¤§å†™è¿˜æ˜¯å°å†™ ä»…æ”¯æŒé”®ç›˜æ¨¡å¼ä¸º text

        - wordsï¼šæ¯ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ã€‚

        - sentencesï¼šæ¯ä¸€å¥è¯çš„é¦–å­—æ¯å¤§å†™ã€‚

        - charactersï¼šæ¯ä¸ªå­—æ¯éƒ½å¤§å†™

        - noneï¼šéƒ½å°å†™

    - å¯¹é½æ–¹å¼

      - textAlignVertical è¡¨ç¤ºå‚ç›´æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼ŒtextDirection è¡¨ç¤ºæ–‡æœ¬æ–¹å‘

        - ```dart
          TextField(  textAlignVertical: TextAlignVertical.center,  textDirection: TextDirection.rtl, )
          ```

    - toolbarOptions

    - cursor å…‰æ ‡

      - ```dart
        TextField(  showCursor: true,  cursorWidth: 3,  cursorRadius: Radius.circular(10),  cursorColor: Colors.red, )
        ```

    - å¯†ç æ¡†

      - obscureText: true,

    - inputFormatters

      - é™åˆ¶ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œæ¯”å¦‚åªæƒ³è®©ç”¨æˆ·è¾“å…¥å­—ç¬¦

        - ```dart
          TextField(  inputFormatters: [    WhitelistingTextInputFormatter(RegExp("[a-zA-Z]")),  ], )
          ```

    - æ–¹æ³•

      - onChanged

        - æ˜¯å½“å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶å›è°ƒ

      - onSubmitted

        - æ˜¯ç‚¹å‡»å›è½¦æˆ–è€…ç‚¹å‡»è½¯é”®ç›˜ä¸Šçš„å®Œæˆå›è°ƒ

      - onTap

        - ç‚¹å‡»è¾“å…¥æ¡†æ—¶å›è°ƒ

      - ä¾‹å­

        - ```dart
          TextField(  onChanged: (value){    print('onChanged:$value');  },  onEditingComplete: (){    print('onEditingComplete');  },    onTap: (){    print('onTap');  }, )
          ```

    - å­—æ•°ç»Ÿè®¡ 2

      - buildCounter

      - ä»£ç ä¾‹å­

        - ```dart
          TextField(  maxLength: 100,  buildCounter: (    BuildContext context, {    int currentLength,    int maxLength,    bool isFocused,  }) {    return Text(      '$currentLength/$maxLength',    );  }, )
          ```

    - ç„¦ç‚¹

      - åŠ¨æ€è·å–ç„¦ç‚¹

        - ```dart
          _focusNode = FocusNode(); TextField( focusNode: _focusNode, ... )

          ```

        - FocusScope.of(context).requestFocus(\_focusNode);

      - åŠ¨æ€å¤±å»ç„¦ç‚¹
        - \_focusNode.unfocus();

ä¾‹å­

```dart
TextField(
    decoration: InputDecoration(
        border: InputBorder.none, // è¾¹æ¡†è®¾ç½®
        hintText: 'password',  ),
    keyboardType: TextInputType.number, //é”®ç›˜ç±»å‹
    textInputAction: TextInputAction.search, //é”®ç›˜å³ä¸‹è§’æŒ‰é’®
    autofocus: true, //è‡ªåŠ¨èšç„¦
    obscureText: true,//éšè—è¾“å…¥å†…å®¹ï¼Œå¦‚password
    maxLength: 10, ///æœ€å¤§é•¿åº¦
    onChanged: (text) { //è¾“å…¥å˜åŒ–    print(text);  },
    onSubmitted: (val) { //æäº¤å†…å®¹    print(val);  },
    enabled: true, //æ˜¯å¦å¯ç‚¹å‡»
    controller: TextEditingController(), //æ”¾åœ¨å¤–é¢å®šä¹‰ï¼Œç”¨äºç›‘å¬
)
```

#### Icon ç³»ç»Ÿå›¾æ ‡

- å€¼

  - icon: å›¾æ ‡ç±»å‹ï¼›

  - size: å›¾æ ‡å¤§å°ï¼›

  - color: å›¾æ ‡é¢œè‰²ã€‚

```dart
Icon(
    Icons.favorite, //å›¾æ ‡
    color: Colors.pink, //å›¾æ ‡é¢œè‰²
    size: 24, //å›¾æ ‡å¤§å°
),
IconButton(    //å›¾æ ‡æŒ‰é’®
    onPressed: () {
        print('ç‚¹å‡»å›¾æ ‡');
    },
    icon: Icon(Icons.add),
),
```

#### Button æŒ‰é’®

```dart
ElevatedButton(  onPressed: () {},
    child: Text("elevateButton"),
    style: ButtonStyle(
    textStyle: MaterialStateProperty.all(TextStyle(fontSize: 20)), //å­—ä½“å¤§å°
    foregroundColor: MaterialStateProperty.all(Colors.white), //å­—ä½“é¢œè‰²
    backgroundColor: MaterialStateProperty.all(Colors.red), //èƒŒæ™¯é¢œè‰²
    padding: MaterialStateProperty.all(EdgeInsets.all(20)), //å†…è¾¹è·
    shape: MaterialStateProperty.all(RoundedRectangleBorder(        //å½¢çŠ¶åœ†è§’
        borderRadius: BorderRadius.circular(20))),
    side: MaterialStateProperty.all(BorderSide(color: Colors.purple, width: 1)), //è¾¹æ¡†å¤§å°é¢œè‰²
    minimumSize: MaterialStateProperty.all(Size(200, 200)), //æŒ‰é’®å¤§å°
),
```

#### AppBar å¯¼èˆª

```dart
AppBar(  //å¯¼èˆªæ 
    title: Text("Flutter Demo"),
    actions: [
        Icon(Icons.add),
        PopupMenuButton(  //å¼¹å‡ºèœå•
            itemBuilder: (BuildContext context) {
                 return [
                    PopupMenuItem(child: Text('æµ‹è¯•1'), value: '1å·'),
                    PopupMenuItem(child: Text('æµ‹è¯•2'), value: '2å·'),
                    PopupMenuItem(child: Text('æµ‹è¯•3'), value: '3å·'),
                ];
            },
            onSelected: (object) {
                print(object);
            },
        ),
    ],
    backgroundColor: Colors.red,
    foregroundColor: Colors.white,
),
```

#### TabBar

æ˜¾ç¤ºæ°´å¹³é€‰é¡¹å¡çš„ Material Design widget

```dart
_tabController = TabController(length: 3, vsync: this);

TabBar(
    tabs: [
        Tab(icon: Icon(Icons.home)),
        Tab(icon: Icon(Icons.send)),
        Tab(icon: Icon(Icons.title)),
    ],
    controller: _tabController,
),
```

#### TabBarView

æ˜¾ç¤ºä¸å½“å‰é€‰ä¸­çš„é€‰é¡¹å¡ç›¸å¯¹åº”çš„é¡µé¢è§†å›¾ã€‚é€šå¸¸å’Œ TabBar ä¸€èµ·ä½¿ç”¨

```dart
_tabController = TabController(length: 3, vsync: this);

TabBarView(
    children: [
        Text('ceshi1'),
        Text('ceshi2'),
        Text('ceshi3'),
    ],
    controller: _tabController,
),
```

#### FlexibleSpaceBar

#### BottomNavigationBar åº•éƒ¨å¯¼èˆª

```dart
BottomNavigationBar(  //åº•éƒ¨æ 
    onTap: (index) {    print('ç‚¹å‡»çš„æ˜¯ç¬¬$indexä¸ª');  },
    currentIndex: 0,
    backgroundColor: Colors.pink,
    selectedItemColor: Colors.yellow,
    unselectedItemColor: Colors.white,
    items: [
        BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Home'),
        BottomNavigationBarItem(icon: Icon(Icons.school), label: 'School'),
    ],
),
```

#### ListView å¯æ»šåŠ¨åˆ—è¡¨

```dart
ListView(
    padding: EdgeInsets.all(20),
    children: [
        Container(
            alignment: Alignment.center,
            height: 100,
            color: Colors.green,
            child: Text('æµ‹è¯•'),
        ),
        Container(
            alignment: Alignment.center,
            height: 100,
            color: Colors.blueAccent,
            child: Text('æµ‹è¯•'),
        ),
        Container(
            alignment: Alignment.center,
            height: 100,
            color: Colors.yellow,
            child: Text('æµ‹è¯•'),
        ),
    ],
);


class _TestState extends State<test> {
    final List<string> _text = ['æµ‹è¯•', 'å¼€å‘', 'å‘å¸ƒ'];
    @override  Widget build(BuildContext context) {
        return ListView.builder(
            itemCount: _text.length,
            itemBuilder: (BuildContext context, int index) {
                return Container(
                    alignment: Alignment.center,
                    height: 100,
                    color: Colors.yellow,
                    child: Text(_text[index]),
                );
            },    )
        ;
    }
}
```

#### ListTile å›ºå®šé«˜åº¦çš„è¡Œ

```dart
ListView(
    children: [
        ListTile(
            leading: FlutterLogo(size: 40), //å·¦è¾¹å›¾æ ‡
            title: Text('title'),      //æ ‡é¢˜
            subtitle: Text('subtitle'),     //å‰¯æ ‡é¢˜
            trailing: Icon(Icons.favorite), //å³è¾¹å›¾æ ‡
        ),
        ListTile(
            leading: FlutterLogo(size: 40),
            title: Text('title'),
            subtitle: Text('subtitle'),
            trailing: Icon(Icons.favorite),
        ),
    ],
);
```

#### Divider æ°´å¹³åˆ†å‰²çº¿

```dart
ListView(
    children: [
        ListTile(
            title: Text('title'),
            subtitle: Text('subtitle'),
        ),
        Divider(      //åˆ†å‰²çº¿
            height: 20, //åˆ†å‰²çº¿é«˜åº¦
            thickness: 5, //åšåº¦é«˜åº¦
            indent: 20, //å‰ç¼©è¿›
            endIndent: 20, //åç¼©è¿›
            color: Colors.blueAccent, //é¢œè‰²
        ),
        ListTile(
            title: Text('title'),
            subtitle: Text('subtitle'),
        ),
    ],
);
```

### æ‰‹åŠ¿æ£€æµ‹å’Œè§¦æ‘¸äº‹ä»¶å¤„ç†

#### ç‚¹å‡» Tap

- onTapDown

  - åœ¨ç‰¹å®šä½ç½®è½»è§¦æ‰‹åŠ¿æ¥è§¦äº†å±å¹•

- onTapUp

  - åœ¨ç‰¹å®šä½ç½®äº§ç”Ÿäº†ä¸€ä¸ªè½»è§¦æ‰‹åŠ¿ï¼Œå¹¶åœæ­¢æ¥è§¦å±å¹•

- onTap

  - äº§ç”Ÿä¸€ä¸ªè½»è§¦æ‰‹åŠ¿

- onTapCancel

  - è§¦å‘äº† onTapDown ï¼Œä½†æ²¡èƒ½è§¦å‘ Tap

- Double tap
  - onDoubleTap ç”¨æˆ·å¿«é€Ÿè¿ç»­ä¸¤æ¬¡åœ¨åŒä¸€ä½ç½®è½»æ•²å±å¹•.

#### é•¿æŒ‰

onLongPress

#### å‚ç›´æ‹–åŠ¨

onVerticalDragStart

- æ¥è§¦äº†å±å¹•ï¼Œå¹¶å¯èƒ½ä¼šå‚ç›´ç§»åŠ¨

onVerticalDragUpdate

- æ¥è§¦äº†å±å¹•ï¼Œå¹¶ç»§ç»­åœ¨å‚ç›´æ–¹å‘ç§»åŠ¨

onVerticalDragEnd

- ä¹‹å‰æ¥è§¦äº†å±å¹•å¹¶å‚ç›´ç§»åŠ¨ï¼Œå¹¶åœ¨åœæ­¢æ¥è§¦å±å¹•å‰ä»¥æŸä¸ªå‚ç›´çš„é€Ÿåº¦ç§»åŠ¨

#### æ°´å¹³æ‹–æ‹½

onHorizontalDragStart

- æ¥è§¦äº†å±å¹•ï¼Œå¹¶å¯èƒ½ä¼šæ°´å¹³ç§»åŠ¨

onHorizontalDragUpdate

- æ¥è§¦äº†å±å¹•ï¼Œå¹¶ç»§ç»­åœ¨æ°´å¹³æ–¹å‘ç§»åŠ¨

onHorizontalDragEnd

- ä¹‹å‰æ¥è§¦äº†å±å¹•å¹¶æ°´å¹³ç§»åŠ¨çš„æ¥è§¦ç‚¹ä¸å±å¹•åˆ†ç¦»

#### åŒå‡»æ—¶æ—‹è½¬ ä¾‹å­

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(SampleApp());
}

class SampleApp extends StatelessWidget {
  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Sample App',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: AnimateApp(),
    );
  }
}

class AnimateApp extends StatefulWidget {
  @override
  State<statefulwidget> createState() {
    return _AnimateAppState();
  }
}

class _AnimateAppState extends State
    with SingleTickerProviderStateMixin {
  AnimationController controller;
  Animation<double> animation;
  CurvedAnimation curve;

  @override
  void initState() {
    super.initState();
    // åˆ›å»º AnimationController å¯¹è±¡
    controller = AnimationController(
        vsync: this, duration: const Duration(milliseconds: 2000));
    curve = CurvedAnimation(parent: controller, curve: Curves.easeIn);
    // é€šè¿‡ Tween å¯¹è±¡ åˆ›å»º Animation å¯¹è±¡
    animation = Tween(begin: 50.0, end: 200.0).animate(controller)
      ..addListener(() {
        // æ³¨æ„ï¼šè¿™å¥ä¸èƒ½å°‘ï¼Œå¦åˆ™ widget ä¸ä¼šé‡ç»˜ï¼Œä¹Ÿå°±çœ‹ä¸åˆ°åŠ¨ç”»æ•ˆæœ
        setState(() {});
      });
    // æ‰§è¡ŒåŠ¨ç”»
    controller.forward();
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
        title: 'AnimateApp',
        theme: ThemeData(primaryColor: Colors.blue),
        home: Scaffold(
            appBar: AppBar(
              title: Text('AnimateApp'),
            ),
            body: Center(
              child: GestureDetector(
                child: RotationTransition(
                    turns: curve,
                    child: FlutterLogo(
                      size: 200.0,
                    )),
                onDoubleTap: () {
                  if (controller.isCompleted) {
                    controller.reverse();
                  } else {
                    controller.forward();
                  }
                },
              ),
            )));
  }

  @override
  void dispose() {
    // èµ„æºé‡Šæ”¾
    controller.dispose();
    super.dispose();
  }
}
```

### åŠ¨ç”»

- animate(withDuration)

## ç½‘ç»œç¼–ç¨‹

### ç½‘ç»œ

#### ç½‘ç»œå±‚æ¡†æ¶çš„æ¶æ„è®¾è®¡

- 1.æ”¯æŒç½‘ç»œåº“æ’æ‹”è®¾è®¡ï¼Œä¸”ä¸å¹²æ‰°ä¸šåŠ¡å±‚

- 2.ç®€æ´æ˜“ç”¨ï¼Œæ”¯æŒé…ç½®æ¥è¿›è¡Œè¯·æ±‚

- 3.Adapter è®¾è®¡ï¼Œæ‰©å±•æ€§å¼º

- 4.ç»Ÿä¸€çš„å¼‚å¸¸å’Œè¿”å›å¤„ç†

#### HiNet è®¾è®¡

- Dao å±‚

  - é¦–é¡µ

  - è¯¦æƒ…

  - ç‚¹èµ

  - æ”¶è—

  - ç™»å½•

  - æ³¨å†Œ

  - é€šçŸ¥

  - ä¸ªäººä¸­å¿ƒ

  - æ’è¡Œ

  - ...

- REST ful æ”¯æŒ

  - GET

  - POST

  - DELETE

  - ...

- ç»Ÿä¸€é€»è¾‘å¤„ç†

  - Request processing

  - Response processing

  - Error processing

- é€‚é…å±‚

  - Dio Adapter

  - Http Adapter

  - Mock Adapter

- ä¸‰æ–¹åº“

  - dio

  - ...

#### json ç¼–ç å™¨å’Œè§£ç å™¨

##### dart å†…ç½®è§£æå™¨

```dart
import 'dart:convert';
```

å°é¡¹ç›®å¯ä»¥å€ŸåŠ©æ¥è¿›è¡Œæ‰‹åŠ¨ JSON åºåˆ—åŒ–

json å’Œ map äº’è½¬

jsonDecode(jsonString);

- json è½¬ map

jsonEncode(jsonMap);

- map è½¬ json

```dart
void test() {
    const jsonString =
        "{ \"name\": \"flutter\", \"url\": \"https://coding.imooc.com/class/487.html\" }";
    //json è½¬map
    Map<string, dynamic> jsonMap = jsonDecode(jsonString);
    print('name:${jsonMap['name']}');
    print('url:${jsonMap['url']}');
    //map è½¬json
    String json = jsonEncode(jsonMap);
    print('json:$json');
}
```

è§£ç (JSON String->Object)

```dart
var jsonString = '''
  [
    {"score": 40},
    {"score": 80}
  ]
''';

var scores = jsonDecode(jsonString);
```

ç¼–ç (Object->JSON String)

##### JSON è§£ææŠ€å·§->ç”Ÿæˆå®ä½“ç±»

- 1.æ‰‹å†™å®ä½“ç±»

- 2.ç”Ÿäº§åŠ›å·¥å…·ï¼šç½‘é¡µè‡ªåŠ¨ç”Ÿæˆå®ä½“ç±»- json è½¬ dart å®ä½“ç±»

  - https://www.devio.org/io/tools/json-to-dart/

- 3.ç”Ÿäº§åŠ›å·¥å…·ï¼šjson_serializable æ’ä»¶çš„ä½¿ç”¨æŠ€å·§

  - json_annotatiln:^4.3.0

  - json_serializable:^6.0.1

  - build_runner:^2.1.4

  - é€‚ç”¨äºä¸­å¤§å‹é¡¹ç›®ï¼Œå®šä¹‰æ‰‹åŠ¨å­—æ®µï¼ŒåæœŸå¥½ç»´æŠ¤

### å­˜å‚¨

- æœ¬åœ°å­˜å‚¨(ç¼“å­˜)

  - shared_preferences

  - æœ¬åœ° json å¯¹è±¡å­˜å‚¨
    - localstorage: ^4.0.0+1

## è¿è¡Œ flutter é¡¹ç›®ä¸‹è½½ä¾èµ–ç¼“æ…¢æˆ–å¡ä½

### gradle 7.0 ä»¥ä¸‹çš„ç‰ˆæœ¬çš„æ–¹å¼

å¯åŠ¨è™šæ‹Ÿæœºï¼Œæ‰§è¡Œ flutter run åï¼Œå§‹ç»ˆå¡åœ¨ Running Gradle task 'assembleDebug'...è¿™ä¸€æ­¥

1.åœ¨é¡¹ç›®ä¸‹ android æ–‡ä»¶ä¸‹æ‰¾åˆ° build.gradle æ–‡ä»¶ï¼Œåœ¨ä¸¤å¤„ repositories ä¸­ï¼ŒæŠŠåŸæ¥å†…å®¹æ³¨é‡Šï¼Œå¢åŠ å¦‚ä¸‹ï¼š

```bash
maven { url 'https://maven.aliyun.com/repository/google' }
maven { url 'https://maven.aliyun.com/repository/jcenter' }
maven { url 'http://maven.aliyun.com/nexus/content/groups/public' }
```

2.åœ¨é¡¹ç›®ä¸­ android\gradle\wrapper æ‰¾åˆ° gradle-wrapper.properties æ–‡ä»¶ï¼Œä¿®æ”¹ distributionUrl

```bash
distributionUrl=file\:/D\:/softWare/gradle/gradle-5.4.1-all.zip
```

æ³¨æ„ï¼Œä½ å®‰è£…çš„ gradle ç‰ˆæœ¬å¿…é¡»å’Œä½ é¡¹ç›®é…ç½®çš„ flutter ç‰ˆæœ¬æƒ³åŒ¹é…ï¼Œé™„ä¸Šæ’ä»¶ç‰ˆæœ¬æ‰€éœ€çš„ Gradle ç‰ˆæœ¬é“¾æ¥ ï¼ˆhttps://www.cnblogs.com/sendling/p/13452173.htmlï¼‰ï¼Œé€‰æ‹©å®‰è£…ä½ é€‚é…çš„ç‰ˆæœ¬ï¼

3.ä¿®æ”¹ä½ çš„ Flutter å®‰è£…ç›®å½•ä¸‹çš„ flutter\packages\flutter_tools\gradle\resolve_dependencies.gradle å’Œ flutter\packages\flutter_tools\gradle\flutter.gradle æ–‡ä»¶ï¼Œå°† maven ä»“åº“åœ°å€æ›¿æ¢ä¸ºå›½å†…é•œåƒåœ°å€

flutter\packages\flutter_tools\gradle\flutter.gradle æ–‡ä»¶

```dart
buildscript {
    repositories {
        // google()
        // jcenter()
        // ä¿®æ”¹çš„åœ°æ–¹
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/jcenter' }
        maven { url 'http://maven.aliyun.com/nexus/content/groups/public' }
    }
}
project.rootProject.allprojects {
    repositories {
        maven {
            url repository
            // ä¿®æ”¹çš„åœ°æ–¹
            // æ·»åŠ 
            maven { url 'https://maven.aliyun.com/repository/google' }
            maven { url 'https://maven.aliyun.com/repository/jcenter' }
            maven { url 'http://maven.aliyun.com/nexus/content/groups/public' }
        }
    }
}
class FlutterPlugin implements Plugin<Project> {
    // ä¿®æ”¹
    private static final String DEFAULT_MAVEN_HOST = "http://download.flutter.io";
```

flutter\packages\flutter_tools\gradle\resolve_dependencies.gradle æ–‡ä»¶

```dart
maven {
    url "https://storage.flutter-io.cn/download.flutter.io"
}
```

4.å›åˆ° Flutter é¡¹ç›®ä¸­ï¼Œå…ˆæ‰§è¡Œ`flutter clean`ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­è¾“å…¥`cd android`ï¼Œ`./gradlew clean`å’Œ`./gradlew build`æ¥æ¸…ç†å’Œæ„å»ºé¡¹ç›®

### gradle 7.0 ä»¥ä¸Šçš„ç‰ˆæœ¬çš„æ–¹å¼

åŸºäºä¸Šé¢çš„è®¾ç½®

å®˜ç½‘æ–‡æ¡£ï¼š[UrlArtifactRepository - Gradle DSL Version 7.0](https://docs.gradle.org/7.0/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol)

1.ä¿®æ”¹ä½ çš„é¡¹ç›®ä¸‹çš„ android\build.gradle æ–‡ä»¶

```dart
repositories {
  // æœ‰ä¸¤å¤„éƒ½è¦æ”¹
  maven {
    url "http://maven.aliyun.com/nexus/content/groups/public/"
    allowInsecureProtocol = true
  }
}
```

2.ä¿®æ”¹ä½ çš„ Flutter å®‰è£…ç›®å½•ä¸‹çš„

flutter\packages\flutter_tools\gradle\resolve_dependencies.gradle å’Œ flutter\packages\flutter_tools\gradle\flutter.gradle æ–‡ä»¶ï¼Œ

å°† maven ä»“åº“çš„åœ°å€æ”¹ä¸º https åè®®ï¼Œæˆ–è€…æ·»åŠ `allowInsecureProtocol = true`å±æ€§æ¥å…è®¸ä¸å®‰å…¨çš„åè®®

## ä¸€ã€ğŸ‰Flutter ç»„ä»¶

### ç»„ä»¶æ–‡æ¡£

<https://flutterchina.club/widgets/basics/>

<http://laomengit.com/guide/widgets/Button.html>

### 1.main.dart ç¨‹åºå…¥å£æ–‡ä»¶

```dart
// å®šä¹‰å…¥å£å‡½æ•°
void main() {
  // runAppæ˜¯ç³»ç»Ÿå‡½æ•°ï¼Œç”¨æ¥æ‰§è¡Œç»„ä»¶æ¸²æŸ“
  runApp(const MyApp());
}
```

### 2.å­—ä½“è®¾ç½®

#### ios é¡¹ç›®

- é¡¹ç›®ä¸­å¼•å…¥ ttf æ–‡ä»¶ ï¼Œå¹¶åœ¨ info.plist ä¸­è®¾ç½®å¼•ç”¨

#### Android é¡¹ç›®

- åˆ›å»ºä¸€ä¸ª Font èµ„æºæ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¼ é€’åˆ° TextView çš„ FontFamily å‚æ•°ä¸­

#### Flutter é¡¹ç›®

- åœ¨æ–‡ä»¶å¤¹ä¸­æ”¾ç½®å­—ä½“æ–‡ä»¶ï¼Œå¹¶åœ¨ pubspec.yaml ä¸­å¼•ç”¨

### 3.ç»„ä»¶åˆ†ç±»

#### æ— çŠ¶æ€ç»„ä»¶-StatelessWidget

ä½œç”¨ï¼šå¤ç”¨ç»„ä»¶

è‡ªå®šä¹‰æœ¨å¶ç»„ä»¶

```dart
class MyApp extends StatelessWidget{
  @override
  widget build(BuildContext context){
    return Container();
  }
}
```

#### æœ‰çŠ¶æ€ç»„ä»¶-StatefullWidget

ä½œç”¨ï¼šæ•°æ®ã€é€»è¾‘å¤„ç†

è‡ªå®šä¹‰ç»„ä»¶

```dart
class MyHomePage extends StatefulWidget {
  MyHomePage({Key? key, required this.title}) : super(key: key);
  final String title;

  @override
  _MyHomePageState createState() => _MyHomePageState();
}
```

### ğŸ˜¼ å¸ƒå±€ç»„ä»¶

#### Container--å®¹å™¨ç»„ä»¶

Container ç»„ä»¶æ˜¯æœ€å¸¸ç”¨çš„å¸ƒå±€ç»„ä»¶ä¹‹ä¸€ï¼Œå¯ä»¥è®¤ä¸ºå®ƒæ˜¯ web å¼€å‘ä¸­çš„ divï¼Œrn å¼€å‘ä¸­çš„ Viewã€‚å…¶å¾€å¾€å¯ä»¥ç”¨æ¥æ§åˆ¶å¤§å°ã€èƒŒæ™¯é¢œè‰²ã€è¾¹æ¡†ã€é˜´å½±ã€å†…å¤–è¾¹è·å’Œå†…å®¹æ’åˆ—æ–¹å¼ç­‰

##### widthï¼šå®½

```dart

```

##### heightï¼šé«˜

```dart

```

##### colorï¼šé¢œè‰²

```dart

```

##### marginï¼šå¤–è¾¹è·

```dart
å››ä¸ªæ–¹å‘
 EdgeInsets.all(100)

å•ä¸ªæ–¹å‘
 EdgeInsets.only(left:100,top:100,right:100,bottom:100)

æ°´å¹³å’Œå‚ç›´
 EdgeInsets.symmetric(horizontal: 20,vertical: 20)

é¡ºåºæ–¹å‘è®¾ç½®å€¼
 EdgeInsets.fromLTRB(100, 100, 100, 200)
```

##### paddingï¼šå†…è¾¹è·

```dart
å››ä¸ªæ–¹å‘
 EdgeInsets.all(100)

å•ä¸ªæ–¹å‘
 EdgeInsets.only(left:100,top:100,right:100,bottom:100)

æ°´å¹³å’Œå‚ç›´
 EdgeInsets.symmetric(horizontal: 20,vertical: 20)

é¡ºåºæ–¹å‘è®¾ç½®å€¼
 EdgeInsets.fromLTRB(100, 100, 100, 200)
```

##### alingnmentï¼šå­å®¹å™¨å¯¹é½çˆ¶å®¹å™¨

```dart
Alignment.topLeft // å·¦ä¸Š
Alignment.topCenter // ä¸Šä¸­
Alignment.topRight // å³ä¸Š
Alignment.centerLeft // å·¦ä¸­
Alignment.center // å±…ä¸­
Alignment.centerRight // å³ä¸­
Alignment.bottomLeft // å·¦ä¸‹
Alignment.bottomCenter // ä¸‹ä¸­
Alignment.bottomRight // å³ä¸‹
```

##### BoxConstraintsï¼šé™åˆ¶å®¹å™¨çš„å®½é«˜

minWidth
maxWidth
minHeight
maxHeight

```dart
// å®¹å™¨çš„å¤§å°å°†è¢«é™åˆ¶åœ¨[100*100 ~ 200*200]å†…
BoxConstraints(
  minWidth: 100,
  maxWidth: 200,
  minHeight: 100,
  maxHeight: 200,
)
```

##### decorationï¼šè£…é¥°

###### è¾¹æ¡†-border

Border.all()ï¼šå››ä¸ªè¾¹æ¡†

```dart
Border(top:BorderSide(color:value,width:1,style:BorderStyle.solid),) // é¡¶éƒ¨é¢œè‰²ã€å®½ã€è¾¹æ¡†æ ·å¼å®çº¿
```

ä»£ç ä¾‹å­

```dart
// åŒæ—¶è®¾ç½®4æ¡è¾¹æ¡†ï¼š1pxç²—ç»†çš„é»‘è‰²å®çº¿è¾¹æ¡†
BoxDecoration(
  border: Border.all(color: Colors.black, width: 1, style: BorderStyle.solid)
)

// è®¾ç½®å•è¾¹æ¡†ï¼šä¸Šè¾¹æ¡†ä¸º1pxç²—ç»†çš„é»‘è‰²å®çº¿è¾¹æ¡†ï¼Œå³è¾¹æ¡†ä¸º1pxç²—ç»†çš„çº¢è‰²å®çº¿è¾¹æ¡†
BoxDecoration(
  border: Border(
    top: BorderSide(color: Colors.black, width: 1, style: BorderStyle.solid),
    right: BorderSide(color: Colors.red, width: 1, style: BorderStyle.solid),
  ),
)
```

###### é˜´å½±-boxShadow

å¯ä»¥æŒ‡å®š xï¼Œyï¼Œblurï¼Œspreadï¼Œcolor ç­‰å±æ€§

```dart
BoxDecoration(
  boxShadow: [
    BoxShadow(
      offset: Offset(0, 0),
      blurRadius: 6,
      spreadRadius: 10,
      color: Color.fromARGB(20, 0, 0, 0),
    ),
  ],
)
```

###### æ¸å˜-gradient

ä¸‰ç§æ¸å˜

LinearGradientï¼šçº¿æ€§æ¸å˜

```dart
// ä»å·¦åˆ°å³ï¼Œçº¢è‰²åˆ°è“è‰²çš„çº¿æ€§æ¸å˜
BoxDecoration(
  gradient: LinearGradient(
    begin: Alignment.centerLeft,
    end: Alignment.centerRight,
    colors: [Colors.red, Colors.blue],
  ),
)
```

RadialGradientï¼šæ”¾å°„çŠ¶æ¸å˜

```dart
// ä»ä¸­å¿ƒå‘å››å‘¨æ‰©æ•£ï¼Œçº¢è‰²åˆ°è“è‰²çš„å¾„å‘æ¸å˜
BoxDecoration(
  gradient: RadialGradient(
    center: Alignment.center,
    colors: [Colors.red, Colors.blue],
  ),
)
```

SweepGradientï¼šæ‰‡å½¢æ¸å˜

```dart
BoxDecoration(
  gradient: SweepGradient(
      colors: <Color>[
         Colors.red,
         Colors.blue
      ],
   )
)
```

widget å½¢å¼

```dart
Container(
  decoration: BoxDecoration(
    gradient: LinearGradient(
      begin: Alignment.topLeft,
      end: Alignment(0.8, 0.0), // 10% of the width, so there are ten blinds.
      colors: [const Color(0xFFFFFFEE), const Color(0xFF999999)], // whitish to gray
      tileMode: TileMode.repeated, // repeats the gradient over the canvas
    ),
  ),
)
```

å‡½æ•°å½¢å¼

```dart
class Sky extends CustomPainter {
  @override
  void paint(Canvas canvas, Size size) {
    var rect = Offset.zero & size;
    var gradient = RadialGradient(
      center: const Alignment(0.7, -0.6),
      radius: 0.2,
        Colors.white,
        Colors.black,
        Colors.red,
      stops: [0.4, 1.0],
    );
    canvas.drawRect(
      rect,
      Paint()..shader = gradient.createShader(rect),
    );
  }
  @override
  bool shouldRepaint(Sky oldDelegate) => false;
  @override
  bool shouldRebuildSemantics(Sky oldDelegate) => false;
}
///è°ƒç”¨
CustomPaint(
  size: Size(300, 300), //æŒ‡å®šç”»å¸ƒå¤§å°
  painter: Sky(),
);
```

###### åœ†è§’-borderRadius

BorderRadius.circular--ç½® 4 ä¸ªè§’çš„åœ†è§’

```dart
// åŒæ—¶è®¾ç½®4ä¸ªè§’çš„åœ†è§’ä¸º5
BoxDecoration(
  borderRadius: BorderRadius.circular(5),
)
```

BorderRadius.only--è®¾ä¸“é—¨å•ä¸ªè§’

```dart
// è®¾ç½®å•åœ†è§’ï¼šå·¦ä¸Šè§’çš„åœ†è§’ä¸º5ï¼Œå³ä¸Šè§’çš„åœ†è§’ä¸º10
BoxDecoration(
  borderRadius: BorderRadius.only(
    topLeft: Radius.circular(5),
    topRight: Radius.circular(10),
  ),
)
```

###### å½¢çŠ¶-shape

```dart
shape: BoxShape.circle, // å…¨åœ†åœ†å½¢ã€‚å’Œåœ†è§’è®¾ç½®çš„åœ†å½¢ - ä¸¤ä¸ªåœ†å½¢å½¢çŠ¶ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™

shape: BoxShape.rectangle // æ–¹å½¢å½¢çŠ¶
```

###### èƒŒæ™¯

é¢œè‰²ï¼šcolor: Colors.grey[100],

å›¾ç‰‡èƒŒæ™¯è®¾ç½®

```dart
// èƒŒæ™¯è®¾ç½®
decoration: BoxDecoration(
    image: DecorationImage(
        image: NetworkImage('https://c-ssl.duitang.com/uploads/blog/202105/08/20210508151655_73f2f.jpeg'),
        alignment: Alignment.topCenter,
        // repeat: ImageRepeat.noRepeat,
        // å›¾ç‰‡é“ºæ»¡
        fit: BoxFit.cover,
        // æ»¤é•œ
        colorFilter: ColorFilter.mode(
            Colors.indigoAccent[400]!. withOpacity(0.5),
            BlendMode.hardLight
        )
    )
),
```

##### transformï¼šåŠ¨ç”»

```bash
å¹³ç§»
 translationValues(x, y, z): å¹³ç§»x, y, zï¼›

ç¼©æ”¾

æ—‹è½¬
 rotationX()
  rotationX(radians): xè½´æ—‹è½¬radianså¼§åº¦ï¼›
 rotationY()
  rotationY(radians): yè½´æ—‹è½¬radianså¼§åº¦ï¼›
 rotationZ()
  rotationZ(radians): zè½´æ—‹è½¬radianså¼§åº¦ï¼›

å€¾æ–œ
 skew()
  skew(alpha, beta): xè½´å€¾æ–œalphaåº¦ï¼Œyè½´å€¾æ–œbetaåº¦ï¼›
 skewX()
  skewX(alpha): xè½´å€¾æ–œalphaåº¦ï¼›
 skewY()
  skewY(beta): yè½´å€¾æ–œbetaåº¦ï¼›
```

##### childï¼šå­å®¹å™¨å…ƒä»¶å()

```dart

```

##### åˆé›†ç¤ºä¾‹

```dart
Container(
    width: 300, //å®½åº¦
    height: 300, //é«˜åº¦
    decoration: BoxDecoration(
        borderRadius: BorderRadius.circular(5), //åœ†è§’
        border: Border.all(width: 2.0, color: Colors.blueAccent //è¾¹æ¡†
        ),
        color: Colors.green,  //é¢œè‰²
    ),
    alignment: Alignment.center,  //å¯¹é½æ–¹å¼
    padding: EdgeInsets.all(10),  //å†…è¾¹è·
    margin: EdgeInsets.all(10),   //å¤–è¾¹è·
    child: Text('æµ‹è¯•'),    //å­ç»„ä»¶
);
```

#### Row/Column--åˆ—è¡¨(è¡Œ/åˆ—ç»„ä»¶)

mainAxisAlignmentï¼šä¸»è½´æ’åˆ—æ–¹å¼

- MainAxisAlignment.start
- MainAxisAlignment.end
- MainAxisAlignment.center
- MainAxisAlignment.spaceBetween
- MainAxisAlignment.spaceAround
- MainAxisAlignment.spaceEvenly

crossAxisAlignmentï¼šæ¬¡è½´æ’åˆ—æ–¹å¼

- ç‰¹åˆ«æ³¨æ„ï¼šç”±äº Column ç»„ä»¶æ¬¡è½´æ–¹å‘ä¸Šï¼ˆå³æ°´å¹³ï¼‰é»˜è®¤æ˜¯å±…ä¸­å¯¹é½ï¼Œæ‰€ä»¥æ°´å¹³æ–¹å‘ä¸Šä¸ä¼šæ’‘æ»¡å…¶çˆ¶å®¹å™¨ï¼Œæ­¤æ—¶éœ€è¦æŒ‡å®š CrossAxisAlignment.stretch æ‰å¯ä»¥
- crossAxisAlignment.start
- crossAxisAlignment.end
- crossAxisAlignment.center
- crossAxisAlignment.stretch
- crossAxisAlignment.baseline

mainAxisSizeï¼šåœ¨ä¸»è½´ä¸Šçš„å°ºå¯¸

- æŒ‡åœ¨ä¸»è½´æ–¹å‘ä¸Šï¼Œæ˜¯åŒ…è£¹å…¶å†…å®¹ï¼Œè¿˜æ˜¯æ’‘æ»¡å…¶çˆ¶å®¹å™¨
- MainAxisSize.minï¼šåŒ…è£¹å…¶å†…å®¹
- MainAxisSize.maxï¼šæ’‘æ»¡çˆ¶å®¹å™¨ï¼ˆé»˜è®¤å€¼ï¼‰

##### Rowï¼šæ°´å¹³æ–¹å‘ä¸Šæ’åˆ—å­ widget çš„åˆ—è¡¨

```dart
Row(
    mainAxisAlignment: MainAxisAlignment.spaceBetween, //ä¸»é˜Ÿé½æ–¹å¼
    crossAxisAlignment: CrossAxisAlignment.center, //ç«–å¯¹é½æ–¹å¼
    children: [ //ç»„ä»¶æ•°ç»„
        Text('æµ‹è¯•1'),
        Expanded( //æ‰©å±•ç»„ä»¶
            child: Text(
                'æµ‹è¯•2',
                textAlign: TextAlign.center,
            ),
            flex: 1, //å‰©ä¸‹çš„éƒ½æ˜¯æˆ‘çš„
        ),
        Text('æµ‹è¯•3'),
    ],
),
```

##### Columnï¼šå‚ç›´æ–¹å‘ä¸Šæ’åˆ—å­ widget çš„åˆ—è¡¨

```dart
Column(
    mainAxisAlignment: MainAxisAlignment.spaceEvenly, //ä¸»é˜Ÿé½æ–¹å¼
    crossAxisAlignment: CrossAxisAlignment.center, //æ¨ªå¯¹é½æ–¹å¼
    children: [    //ç»„ä»¶æ•°ç»„
        Text('æµ‹è¯•1'),
        Text('æµ‹è¯•2'),
        Text('æµ‹è¯•3'),
    ],
),
```

#### Stack/Positoned--ç»å¯¹ç›¸å¯¹å®šä½å¸ƒå±€ç»„ä»¶

Stackï¼šç»å¯¹å®šä½çš„å®¹å™¨

Positionedï¼šç›¸å¯¹å®šä½å®¹å™¨

```dart
Container(
  height: 100,
  color: Colors.yellow,
  child: Stack(
    children: <Widget>[
      Positioned(
        left: 10,
        top: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
      Positioned(
        right: 10,
        top: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
      Positioned(
        left: 10,
        bottom: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
      Positioned(
        right: 10,
        bottom: 10,
        child: Container(width: 10, height: 10, color: Colors.red),
      ),
    ],
  ),
)
```

#### Center--å°†å…¶å­ widget å±…ä¸­æ˜¾ç¤ºåœ¨-è‡ªèº«å†…éƒ¨çš„ widget

```dart
Container(
    width: 100,
    height: 100,
    color: Colors.yellow,
    child: Center(
        child: Text('æµ‹è¯•'),
    ),
);
```

#### Align--å°†å…¶å­ widget å¯¹é½ï¼Œå¹¶å¯ä»¥æ ¹æ®--å­ widget çš„å¤§å°è‡ªåŠ¨è°ƒæ•´å¤§å°

```dart
Container(
    width: 100,
    height: 100,
    color: Colors.yellow,
    child: Align(
        alignment: Alignment(0, 0), //èŒƒå›´-1~1ï¼Œ0ä¸ºä¸­é—´
        child: Text('æµ‹è¯•'),
    ),
);
```

#### AspectRatio--å°†å­ widget çš„å¤§å°æŒ‡å®šä¸ºæŸä¸ªç‰¹å®šçš„é•¿å®½æ¯”ã€‚--è‡ªèº«çš„æ¯”ä¾‹

```dart
Container(
    alignment: Alignment.center,
    height: 200,
    color: Colors.blueAccent,
    child: AspectRatio(
        aspectRatio: 3,   //æ˜¯è‡ªèº«çš„å®½é«˜æ¯”3ï¼š1
            child: Container(
                color: Colors.yellow,
            ),
        ),
    );
```

#### SizeBox--ç‰¹å®šå¤§å°çš„ç›’å­

```dart
SizedBox(
    width: 100,
    height: 100,
    child: Center(
        child: Text("æµ‹è¯•"),
    ),
);
```

### 5.åŸºç¡€ç»„ä»¶

#### MateralApp

å®ƒå°è£…äº†åº”ç”¨ç¨‹åºå®ç° Material Design æ‰€éœ€è¦çš„ä¸€äº› widget

```dart
MaterialApp(
    debugShowCheckedModeBanner: false, //æ˜¯å¦æ˜¾ç¤ºæµ‹è¯•
    home: Home(), //ä¸»é¡µ
    theme: ThemeData(primaryColor: Colors.yellow), //ä¸»é¢˜è®¾ç½®
    routes: {    //è·¯ç”±é›†åˆ
        "/about": (context) => Test(),
    },
);
```

#### Scaffold

Material Design å¸ƒå±€ç»“æ„çš„åŸºæœ¬å®ç°

æ­¤ç±»æä¾›äº†ç”¨äºæ˜¾ç¤º drawerã€snackbar å’Œåº•éƒ¨ sheet çš„ APIã€‚

```dart
Scaffold(
    appBar: AppBar( //å¯¼èˆªæ 
    title: Text("Flutter Demo"),  ),
    body: Test(), //å†…å®¹
    backgroundColor: Colors.grey[100], //èƒŒæ™¯é¢œè‰²
    bottomNavigationBar: BottomNavigationBar( //åº•éƒ¨æ 
        onTap: (index) {
            print('ç‚¹å‡»çš„æ˜¯ç¬¬$indexä¸ª');
        },
        currentIndex: 0,
        items: [
            BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Home'),
            BottomNavigationBarItem(icon: Icon(Icons.school), label: 'School'),
        ],
    ),
);
```

#### Drawer-æŠ½å±‰

```dart
Scaffold(
    drawer: Drawer(  //å·¦æ»‘æŠ½å±‰
        child: ListView(
            children: [
                DrawerHeader(child: Text('Drawer Header')),
            ],
        ),
    ),
);
```

#### Image-å›¾ç‰‡

å€¼ï¼š

```dart
image:
 AssetImage
  ä½¿ç”¨AssetImageä¹‹å‰ï¼Œéœ€è¦åœ¨pubspec.yamlæ–‡ä»¶ä¸­å£°æ˜å¥½å›¾ç‰‡èµ„æºï¼Œç„¶åæ‰èƒ½ä½¿ç”¨ï¼›
 NetworkImage
  NextworkImageæŒ‡å®šå›¾ç‰‡çš„ç½‘ç»œåœ°å€å³å¯ï¼Œä¸»è¦æ˜¯åœ¨åŠ è½½ä¸€äº›ç½‘ç»œå›¾ç‰‡æ—¶ä¼šç”¨åˆ°ï¼›

width: å›¾ç‰‡å®½åº¦ï¼›

height: å›¾ç‰‡é«˜åº¦ï¼›

color: å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²ï¼Œå½“ç½‘ç»œå›¾ç‰‡æœªåŠ è½½å®Œæ¯•ä¹‹å‰ï¼Œä¼šæ˜¾ç¤ºè¯¥èƒŒæ™¯é¢œè‰²ï¼›

fit: å›¾ç‰‡æ ¹æ®å®¹å™¨å¤§å°è¿›è¡Œé€‚é…
    BoxFit()
     fill
        contain
        cover
        fitWidth
        fitHeight
        none
        scaleDown

repeat: å†³å®šå½“å›¾ç‰‡å®é™…å¤§å°ä¸è¶³æŒ‡å®šå¤§å°æ—¶æ˜¯å¦ä½¿ç”¨é‡å¤æ•ˆæœ
```

ä»£ç ä¾‹å­ï¼š

```dart
Column(
    children: [
        Image(
            image: NetworkImage("ç½‘ç»œå›¾ç‰‡"),
            width: 100,
            fit: BoxFit.fitWidth, //ç¼©æ”¾æ¨¡å¼
        ),
        ClipOval(   //åœ†è§’å›¾ç‰‡
            child:  Image.asset(
                'æœ¬åœ°å›¾ç‰‡',
                width: 100,
                height: 100,
                fit: BoxFit.contain,
            ),
        )
    ],
),
```

æ„é€ å‡½æ•°è¯­æ³•ç³–

Image.network()ï¼šå¯ä»¥ç¼©å†™æˆ Image()
Image.assetï¼š

#### æ–‡æœ¬ç»„ä»¶

##### Text-æ–‡æœ¬ç»„ä»¶

å€¼ï¼š

```dart
style:
æ–‡æœ¬æ ·å¼
 TextStyle()
  fontSize:13
  fontWeight.bold
  color:
   Colors.red
   Color(0xFF999999)
  backgroundColor
  shadows

textAlign:
æ–‡å­—å¯¹é½æ–¹å¼
 TextAlign()
  left
  right
  center
  justify

softWrap:
æ–‡å­—æ˜¯å¦æ¢è¡Œ

overflow:
å½“æ–‡å­—æº¢å‡ºçš„æ—¶å€™ï¼Œ
ä»¥ä½•ç§æ–¹å¼å¤„ç†ï¼ˆé»˜è®¤ç›´æ¥æˆªæ–­ï¼‰
 TextOverflow()
  clip
  fade
  ellipsis
  visible

maxLines: å½“æ–‡å­—è¶…è¿‡æœ€å¤§è¡Œæ•°è¿˜æ²¡æ˜¾ç¤ºå®Œçš„æ—¶å€™ï¼Œå°±ä¼šæ ¹æ®overflowå±æ€§å†³å®šå¦‚ä½•æˆªæ–­å¤„ç†ã€‚
```

ä»£ç ä¾‹å­ï¼š

```dart
Text(
    'æµ‹è¯•',
    textAlign: TextAlign.center,  //å†…å®¹å¯¹é½æ–¹å¼
    overflow: TextOverflow.ellipsis,  //è¶…å‡º...
    style: TextStyle(   //å­—ä½“ç±»å‹
        fontSize: 16,
        fontWeight: FontWeight.bold,
        fontFamily: 'é»‘ä½“',
        color: Colors.blueAccent,
    ),
),
Text.rich(TextSpan( //å¯Œæ–‡æœ¬
    text: 'æµ‹è¯•',
    style: TextStyle(fontWeight: FontWeight.bold),
    children: <TextSpan>[
        TextSpan(text: 'å¯Œæ–‡æœ¬', style: TextStyle(fontSize: 16))
    ]
)),
```

##### Text.rich-å¯Œæ–‡æœ¬ç»„ä»¶

å¯ä»¥ç”¨ Flutter æä¾›çš„ Text.rich æ„é€ å‡½æ•° æ¥åˆ›å»ºç›¸åº”çš„æ–‡æœ¬ç»„ä»¶

```dart
textå±æ€§æ˜¯TextSpan
TextSpanä¸­çš„styleæ ·å¼éœ€è¦è®¾ç½®å±æ€§
é»˜è®¤å­—ä½“æ ·å¼ DefaultTextStyle.of(context).style
```

Text.rich

```dart
Text.rich(TextSpan(
  children: [
    TextSpan(
      'ï¿¥',
      style: TextStyle(
        fontSize: 12,
        color: Color(0xFFFF7528),
      ),
    ),
    TextSpan(
      '258',
      style: TextStyle(
        fontSize: 15,
        color: Color(0xFFFF7528),
      ),
    ),
  ]
))
```

RichText()

```dart
RichText(
      text: TextSpan(
          style: DefaultTextStyle.of(context).style,
          children: <InlineSpan>[
            TextSpan(text: 'è€å­Ÿ',style: TextStyle(color: Colors.red)),
            TextSpan(text: 'ï¼Œ'),
            TextSpan(text: 'ä¸€ä¸ªæœ‰æ€åº¦çš„ç¨‹åºå‘˜'),
          ]),
    )
```

textAlign: å¯¹é½å€¼

- TextAlign.end
- TextAlign.start
- TextAlign.center

æ‰‹åŠ¿äº¤äº’

```dart
RichText(
      text: TextSpan(
          style: DefaultTextStyle.of(context).style,
          children: <InlineSpan>[
            TextSpan(text: 'ç™»é™†å³è§†ä¸ºåŒæ„'),
            TextSpan(
              text: 'ã€ŠxxxæœåŠ¡åè®®ã€‹',
              style: TextStyle(color: Colors.red),
              recognizer: TapGestureRecognizer()..onTap = () {

              },
            ),
          ]),
    )
```

recognizer å±æ€§æŒ‡å®šæ‰‹åŠ¿äº¤äº’ï¼Œç±»å‹æ˜¯ GestureRecognizer,GestureRecognizer æ˜¯æŠ½è±¡ç±»ï¼Œä¸€èˆ¬ä½¿ç”¨å…¶å­ç±» TapGestureRecognizer å®ç°ç‚¹å‡»äº¤äº’

##### TextField-æ–‡æœ¬è¾“å…¥æ¡†

decoration æ˜¯ TextField ç»„ä»¶çš„è£…é¥°ï¼ˆå¤–è§‚ï¼‰å‚æ•°ï¼Œç±»å‹æ˜¯ InputDecorationã€‚

icon æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„å‰é¢ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š

```dart
TextField(
  decoration: InputDecoration(
    border: InputBorder.none, // è¾¹æ¡†è®¾ç½®
    icon: Icon(Icons.person),
  ),
)
```

è¡Œ

```dart
è¡Œå
 labelText: 'å§“åï¼š',
è¡Œæ ·å¼
 labelStyle: TextStyle(color:Colors.red)
```

é•¿åº¦

```dart
helperText: 'ç”¨æˆ·åé•¿åº¦ä¸º6-10ä¸ªå­—æ¯',
 helperTextæ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„å·¦ä¸‹éƒ¨ï¼Œç”¨äºæç¤ºç”¨æˆ·

helperStyle: TextStyle(color: Colors.blue),
 helperStyleå‚æ•°è¡¨ç¤ºæ–‡æœ¬æ ·å¼

helperMaxLines: 1
```

æç¤ºæ–‡å­—

```dart
hintText: 'è¯·è¾“å…¥ç”¨æˆ·å' // æ˜¯å½“è¾“å…¥æ¡†ä¸ºç©ºæ—¶çš„æç¤ºï¼Œä¸ä¸ºç©ºæ—¶ä¸åœ¨æ˜¾ç¤º
```

é”™è¯¯

```dart
errorText: 'ç”¨æˆ·åè¾“å…¥é”™è¯¯'
 errorTextæ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„å·¦ä¸‹éƒ¨ï¼Œé»˜è®¤å­—ä½“ä¸ºçº¢è‰²

errorStyle: TextStyle(fontSize: 12),

errorMaxLines: 1,

errorBorder: OutlineInputBorder(borderSide: BorderSide(color: Colors.red)),
```

è¾“å…¥æ¡†å‰

```dart
prefixIcon: Icon(Icons.person) // prefixç³»åˆ—çš„ç»„ä»¶æ˜¯è¾“å…¥æ¡†å‰é¢çš„éƒ¨åˆ†
```

è¾“å…¥æ¡†å°¾

```dart
suffixIcon: Icon(Icons.person) // å°¾éƒ¨çš„Icon
```

è¾“å…¥ç»Ÿè®¡

counter ç»„ä»¶ç»Ÿè®¡è¾“å…¥æ¡†æ–‡å­—çš„ä¸ªæ•°ï¼Œcounter ä»…ä»…æ˜¯å±•ç¤ºæ•ˆæœï¼Œä¸å…·å¤‡è‡ªåŠ¨ç»Ÿè®¡å­—æ•°çš„åŠŸèƒ½ï¼Œ è‡ªåŠ¨ç»Ÿè®¡å­—æ•°

```dart
counterText: '${_textFieldValue.length}/32'
```

fill æ ·å¼

```dart
fillColor: Color(0x30cccccc),
 è¾“å…¥æ¡†èƒŒæ™¯

filled: true,
 filledä¸ºtrueæ—¶ï¼Œè¾“å…¥æ¡†å°†ä¼šè¢«fillColorå¡«å……
```

åœ†è§’

```dart
enabledBorder: OutlineInputBorder(
          borderSide: BorderSide(color: Color(0x00FF0000)),
          borderRadius: BorderRadius.all(Radius.circular(100))),

focusedBorder: OutlineInputBorder(
          borderSide: BorderSide(color: Color(0x00000000)),
          borderRadius: BorderRadius.all(Radius.circular(100))),
```

controller-æ§åˆ¶

- æ˜¯è¾“å…¥æ¡†æ–‡æœ¬ç¼–è¾‘çš„æ§åˆ¶å™¨ï¼Œå¯ä»¥è·å– TextField çš„å†…å®¹ã€è®¾ç½® TextField çš„å†…å®¹
- è·å–è¾“å…¥æ¡†çš„å†…å®¹ï¼Œå˜ä¸ºå¤§å†™
- è¾“å…¥æ¡†åé¢å¸¦æœ‰â€œæ¸…é™¤â€åŠŸèƒ½

è½¯é”®ç›˜æ§åˆ¶

```dart
keyboardType-æ§åˆ¶è½¯é”®ç›˜çš„ç±»å‹
 textï¼šé€šç”¨é”®ç›˜ã€‚
 multilineï¼šå½“TextFieldä¸ºå¤šè¡Œæ—¶ï¼ˆmaxLinesè®¾ç½®å¤§äº1ï¼‰ï¼Œå³ä¸‹è§’çš„ä¸ºâ€œæ¢è¡Œâ€ æŒ‰é”®ã€‚
 numberï¼šæ•°å­—é”®ç›˜ã€‚
 phoneï¼šæ‰‹æœºé”®ç›˜ï¼Œæ¯”æ•°å­—é”®ç›˜å¤š"*"å’Œ "#"ã€‚
 datetimeï¼šåœ¨iosä¸Šå’Œtextä¸€æ ·ï¼Œåœ¨androidä¸Šå‡ºç°æ•°å­—é”®ç›˜ã€":"å’Œ "-"ã€‚
 emailAddressï¼šé‚®ç®±é”®ç›˜ï¼Œæœ‰"@" å’Œ "."æŒ‰é”®ã€‚
 urlï¼šurlé”®ç›˜ï¼Œæœ‰"/" å’Œ "."æŒ‰é”®ã€‚
 visiblePasswordï¼šæ—¢æœ‰å­—æ¯åˆæœ‰æ•°å­—çš„é”®ç›˜ã€‚

textInputAction-æ§åˆ¶è½¯é”®ç›˜å³ä¸‹è§’çš„æŒ‰é”®
 noneï¼šandroidä¸Šæ˜¾ç¤ºè¿”å›é”®ï¼Œiosä¸æ”¯æŒã€‚
 unspecifiedï¼šè®©æ“ä½œç³»ç»Ÿè‡ªå·±å†³å®šå“ªä¸ªåˆé€‚ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œandroidæ˜¾ç¤ºâ€œå®Œæˆâ€æˆ–è€…â€œè¿”å›â€ã€‚
 doneï¼šandroidæ˜¾ç¤ºä»£è¡¨â€œå®Œæˆâ€çš„æŒ‰é’®ï¼Œiosæ˜¾ç¤ºâ€œDoneâ€ï¼ˆä¸­æ–‡ï¼šå®Œæˆï¼‰ã€‚
 goï¼šandroidæ˜¾ç¤ºè¡¨è¾¾ç”¨æˆ·å»å‘ç›®çš„åœ°çš„å›¾æ ‡ï¼Œæ¯”å¦‚å‘å³çš„ç®­å¤´ï¼Œiosæ˜¾ç¤ºâ€œGoâ€ï¼ˆä¸­æ–‡ï¼šå‰å¾€ï¼‰ã€‚
 searchï¼šandroidæ˜¾ç¤ºè¡¨è¾¾æœç´¢çš„æŒ‰é’®ï¼Œiosæ˜¾ç¤º"Search"ï¼ˆä¸­æ–‡ï¼šæœç´¢ï¼‰ã€‚
 sendï¼šandroidæ˜¾ç¤ºè¡¨è¾¾å‘é€æ„æ€çš„æŒ‰é’®ï¼Œæ¯”å¦‚â€œçº¸é£æœºâ€æŒ‰é’®ï¼Œiosæ˜¾ç¤º"Send"ï¼ˆä¸­æ–‡ï¼šå‘é€ï¼‰ã€‚
 nextï¼šandroidæ˜¾ç¤ºè¡¨è¾¾â€œå‰è¿›â€çš„æŒ‰é’®ï¼Œæ¯”å¦‚â€œå‘å³çš„ç®­å¤´â€,iosæ˜¾ç¤º"Next"ï¼ˆä¸­æ–‡ï¼šä¸‹ä¸€é¡¹ï¼‰ã€‚
 previousï¼šandroidæ˜¾ç¤ºè¡¨è¾¾â€œåé€€â€çš„æŒ‰é’®ï¼Œæ¯”å¦‚â€œå‘å·¦çš„ç®­å¤´â€,iosä¸æ”¯æŒã€‚
 continueActionï¼šandroid ä¸æ”¯æŒï¼Œiosä»…åœ¨ios9.0+æ˜¾ç¤º"Continue"ï¼ˆä¸­æ–‡ï¼šç»§ç»­ï¼‰ã€‚
 joinï¼šAndroidå’Œiosæ˜¾ç¤º"Join"ï¼ˆä¸­æ–‡ï¼šåŠ å…¥ï¼‰ã€‚
 routeï¼šandroid ä¸æ”¯æŒï¼Œiosæ˜¾ç¤º"Route"ï¼ˆä¸­æ–‡ï¼šè·¯çº¿ï¼‰ã€‚
 emergencyCallï¼šandroid ä¸æ”¯æŒï¼Œiosæ˜¾ç¤º"Emergency Call"ï¼ˆä¸­æ–‡ï¼šç´§æ€¥ç”µè¯ï¼‰ã€‚
 newlineï¼šandroidæ˜¾ç¤ºè¡¨è¾¾â€œæ¢è¡Œâ€çš„æŒ‰é’®ï¼Œiosæ˜¾ç¤ºâ€æ¢è¡Œâ€œã€‚

textCapitalization-é…ç½®é”®ç›˜æ˜¯å¤§å†™è¿˜æ˜¯å°å†™
ä»…æ”¯æŒé”®ç›˜æ¨¡å¼ä¸ºtext
 wordsï¼šæ¯ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ã€‚
 sentencesï¼šæ¯ä¸€å¥è¯çš„é¦–å­—æ¯å¤§å†™ã€‚
 charactersï¼šæ¯ä¸ªå­—æ¯éƒ½å¤§å†™
 noneï¼šéƒ½å°å†™
```

å¯¹é½æ–¹å¼

textAlignVerticalï¼šè¡¨ç¤ºå‚ç›´æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼ŒtextDirectionï¼šè¡¨ç¤ºæ–‡æœ¬æ–¹å‘

```dart
TextField(
  textAlignVertical: TextAlignVertical.center,
  textDirection: TextDirection.rtl,
)
```

toolbarOptions

```dart

```

cursor-å…‰æ ‡

```dart
TextField(
  showCursor: true,
  cursorWidth: 3,
  cursorRadius: Radius.circular(10),
  cursorColor: Colors.red,
)
```

å¯†ç æ¡†

```dart
obscureText: true,
```

inputFormatters

é™åˆ¶ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œæ¯”å¦‚åªæƒ³è®©ç”¨æˆ·è¾“å…¥å­—ç¬¦

```dart
TextField(
  inputFormatters: [
    WhitelistingTextInputFormatter(RegExp("[a-zA-Z]")),
  ],
)
```

æ–¹æ³•

- onChangedï¼šæ˜¯å½“å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶å›è°ƒ
- onSubmittedï¼šæ˜¯ç‚¹å‡»å›è½¦æˆ–è€…ç‚¹å‡»è½¯é”®ç›˜ä¸Šçš„å®Œæˆå›è°ƒ
- onTapï¼šç‚¹å‡»è¾“å…¥æ¡†æ—¶å›è°ƒ

```dart
TextField(
  onChanged: (value){
    print('onChanged:$value');
  },
  onEditingComplete: (){
    print('onEditingComplete');
  },

  onTap: (){
    print('onTap');
  },
)
```

å­—æ•°ç»Ÿè®¡ 2ï¼šbuildCounter

```dart
TextField(
  maxLength: 100,
  buildCounter: (
    BuildContext context, {
    int currentLength,
    int maxLength,
    bool isFocused,
  }) {
    return Text(
      '$currentLength/$maxLength',
    );
  },
)
```

ç„¦ç‚¹

```dart
_focusNode = FocusNode();
// åŠ¨æ€è·å–ç„¦ç‚¹
TextField(
 focusNode: _focusNode,
 ...
)

FocusScope.of(context).requestFocus(_focusNode);

// åŠ¨æ€å¤±å»ç„¦ç‚¹
_focusNode.unfocus();
```

æ–‡æœ¬è¾“å…¥æ¡†ä»£ç ä¾‹å­ï¼š

```dart
TextField(
    decoration: InputDecoration(
        border: InputBorder.none, // è¾¹æ¡†è®¾ç½®
        hintText: 'password',  ),
    keyboardType: TextInputType.number, //é”®ç›˜ç±»å‹
    textInputAction: TextInputAction.search, //é”®ç›˜å³ä¸‹è§’æŒ‰é’®
    autofocus: true, //è‡ªåŠ¨èšç„¦
    obscureText: true,//éšè—è¾“å…¥å†…å®¹ï¼Œå¦‚password
    maxLength: 10, ///æœ€å¤§é•¿åº¦
    onChanged: (text) { //è¾“å…¥å˜åŒ–    print(text);  },
    onSubmitted: (val) { //æäº¤å†…å®¹    print(val);  },
    enabled: true, //æ˜¯å¦å¯ç‚¹å‡»
    controller: TextEditingController(), //æ”¾åœ¨å¤–é¢å®šä¹‰ï¼Œç”¨äºç›‘å¬
)
```

#### Icon-ç³»ç»Ÿå›¾æ ‡

å€¼ï¼š

- icon: å›¾æ ‡ç±»å‹ï¼›
- size: å›¾æ ‡å¤§å°ï¼›
- color: å›¾æ ‡é¢œè‰²ã€‚

```dart
Icon(
    Icons.favorite, //å›¾æ ‡
    color: Colors.pink, //å›¾æ ‡é¢œè‰²
    size: 24, //å›¾æ ‡å¤§å°
),
IconButton(    //å›¾æ ‡æŒ‰é’®
    onPressed: () {
        print('ç‚¹å‡»å›¾æ ‡');
    },
    icon: Icon(Icons.add),
),
```

#### Button-æŒ‰é’®

```dart
ElevatedButton(  onPressed: () {},
    child: Text("elevateButton"),
    style: ButtonStyle(
    textStyle: MaterialStateProperty.all(TextStyle(fontSize: 20)), //å­—ä½“å¤§å°
    foregroundColor: MaterialStateProperty.all(Colors.white), //å­—ä½“é¢œè‰²
    backgroundColor: MaterialStateProperty.all(Colors.red), //èƒŒæ™¯é¢œè‰²
    padding: MaterialStateProperty.all(EdgeInsets.all(20)), //å†…è¾¹è·
    shape: MaterialStateProperty.all(RoundedRectangleBorder(        //å½¢çŠ¶åœ†è§’
        borderRadius: BorderRadius.circular(20))),
    side: MaterialStateProperty.all(BorderSide(color: Colors.purple, width: 1)), //è¾¹æ¡†å¤§å°é¢œè‰²
    minimumSize: MaterialStateProperty.all(Size(200, 200)), //æŒ‰é’®å¤§å°
),
```

#### AppBar-å¯¼èˆª

```dart
AppBar(  //å¯¼èˆªæ 
    title: Text("Flutter Demo"),
    actions: [
        Icon(Icons.add),
        PopupMenuButton(  //å¼¹å‡ºèœå•
            itemBuilder: (BuildContext context) {
                 return [
                    PopupMenuItem(child: Text('æµ‹è¯•1'), value: '1å·'),
                    PopupMenuItem(child: Text('æµ‹è¯•2'), value: '2å·'),
                    PopupMenuItem(child: Text('æµ‹è¯•3'), value: '3å·'),
                ];
            },
            onSelected: (object) {
                print(object);
            },
        ),
    ],
    backgroundColor: Colors.red,
    foregroundColor: Colors.white,
),
```

#### TabBar-é€‰é¡¹å¡ç»„ä»¶

æ˜¾ç¤ºæ°´å¹³é€‰é¡¹å¡çš„ Material Design widget

```dart
_tabController = TabController(length: 3, vsync: this);

TabBar(
    tabs: [
        Tab(icon: Icon(Icons.home)),
        Tab(icon: Icon(Icons.send)),
        Tab(icon: Icon(Icons.title)),
    ],
    controller: _tabController,
),
```

#### TabBarView-é€‰é¡¹å¡ç›¸å¯¹åº”çš„é¡µé¢è§†å›¾

æ˜¾ç¤ºä¸å½“å‰é€‰ä¸­çš„é€‰é¡¹å¡ç›¸å¯¹åº”çš„é¡µé¢è§†å›¾ã€‚é€šå¸¸å’Œ TabBar ä¸€èµ·ä½¿ç”¨

```dart
_tabController = TabController(length: 3, vsync: this);

TabBarView(
    children: [
        Text('ceshi1'),
        Text('ceshi2'),
        Text('ceshi3'),
    ],
    controller: _tabController,
),
```

#### FlexibleSpaceBar

```dart

```

#### BottomNavigationBar-åº•éƒ¨å¯¼èˆª

```dart
BottomNavigationBar(  //åº•éƒ¨æ 
    onTap: (index) {    print('ç‚¹å‡»çš„æ˜¯ç¬¬$indexä¸ª');  },
    currentIndex: 0,
    backgroundColor: Colors.pink,
    selectedItemColor: Colors.yellow,
    unselectedItemColor: Colors.white,
    items: [
        BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Home'),
        BottomNavigationBarItem(icon: Icon(Icons.school), label: 'School'),
    ],
),
```

#### ListView-å¯æ»šåŠ¨åˆ—è¡¨

1

```dart
ListView(
    padding: EdgeInsets.all(20),
    children: [
        Container(
            alignment: Alignment.center,
            height: 100,
            color: Colors.green,
            child: Text('æµ‹è¯•'),
        ),
        Container(
            alignment: Alignment.center,
            height: 100,
            color: Colors.blueAccent,
            child: Text('æµ‹è¯•'),
        ),
        Container(
            alignment: Alignment.center,
            height: 100,
            color: Colors.yellow,
            child: Text('æµ‹è¯•'),
        ),
    ],
);
```

2

```dart
class _TestState extends State<Test> {
    final List<String> _text = ['æµ‹è¯•', 'å¼€å‘', 'å‘å¸ƒ'];
    @override  Widget build(BuildContext context) {
        return ListView.builder(
            itemCount: _text.length,
            itemBuilder: (BuildContext context, int index) {
                return Container(
                    alignment: Alignment.center,
                    height: 100,
                    color: Colors.yellow,
                    child: Text(_text[index]),
                );
            },    )
        ;
    }
}
```

#### ListTile-å›ºå®šé«˜åº¦çš„è¡Œ

```dart
ListView(
    children: [
        ListTile(
            leading: FlutterLogo(size: 40), //å·¦è¾¹å›¾æ ‡
            title: Text('title'),      //æ ‡é¢˜
            subtitle: Text('subtitle'),     //å‰¯æ ‡é¢˜
            trailing: Icon(Icons.favorite), //å³è¾¹å›¾æ ‡
        ),
        ListTile(
            leading: FlutterLogo(size: 40),
            title: Text('title'),
            subtitle: Text('subtitle'),
            trailing: Icon(Icons.favorite),
        ),
    ],
);
```

#### Divider-æ°´å¹³åˆ†å‰²çº¿

```dart
ListView(
    children: [
        ListTile(
            title: Text('title'),
            subtitle: Text('subtitle'),
        ),
        Divider(      //åˆ†å‰²çº¿
            height: 20, //åˆ†å‰²çº¿é«˜åº¦
            thickness: 5, //åšåº¦é«˜åº¦
            indent: 20, //å‰ç¼©è¿›
            endIndent: 20, //åç¼©è¿›
            color: Colors.blueAccent, //é¢œè‰²
        ),
        ListTile(
            title: Text('title'),
            subtitle: Text('subtitle'),
        ),
    ],
);
```

### 6.æ‰‹åŠ¿æ£€æµ‹å’Œè§¦æ‘¸äº‹ä»¶å¤„ç†

#### ç‚¹å‡» Tap

- onTapDownï¼šåœ¨ç‰¹å®šä½ç½®è½»è§¦æ‰‹åŠ¿æ¥è§¦äº†å±å¹•
- onTapUpï¼šåœ¨ç‰¹å®šä½ç½®äº§ç”Ÿäº†ä¸€ä¸ªè½»è§¦æ‰‹åŠ¿ï¼Œå¹¶åœæ­¢æ¥è§¦å±å¹•
- onTapï¼šäº§ç”Ÿä¸€ä¸ªè½»è§¦æ‰‹åŠ¿
- onTapCancelï¼šè§¦å‘äº† onTapDown ï¼Œä½†æ²¡èƒ½è§¦å‘ Tap
- Double tapï¼šonDoubleTap ç”¨æˆ·å¿«é€Ÿè¿ç»­ä¸¤æ¬¡åœ¨åŒä¸€ä½ç½®è½»æ•²å±å¹•.

#### é•¿æŒ‰

onLongPress

#### å‚ç›´æ‹–åŠ¨

- onVerticalDragStartï¼šæ¥è§¦äº†å±å¹•ï¼Œå¹¶å¯èƒ½ä¼šå‚ç›´ç§»åŠ¨
- onVerticalDragUpdateï¼šæ¥è§¦äº†å±å¹•ï¼Œå¹¶ç»§ç»­åœ¨å‚ç›´æ–¹å‘ç§»åŠ¨
- onVerticalDragEndï¼šä¹‹å‰æ¥è§¦äº†å±å¹•å¹¶å‚ç›´ç§»åŠ¨ï¼Œå¹¶åœ¨åœæ­¢æ¥è§¦å±å¹•å‰ä»¥æŸä¸ªå‚ç›´çš„é€Ÿåº¦ç§»åŠ¨

#### æ°´å¹³æ‹–æ‹½

- onHorizontalDragStartï¼šæ¥è§¦äº†å±å¹•ï¼Œå¹¶å¯èƒ½ä¼šæ°´å¹³ç§»åŠ¨
- onHorizontalDragUpdateï¼šæ¥è§¦äº†å±å¹•ï¼Œå¹¶ç»§ç»­åœ¨æ°´å¹³æ–¹å‘ç§»åŠ¨
- onHorizontalDragEndï¼šä¹‹å‰æ¥è§¦äº†å±å¹•å¹¶æ°´å¹³ç§»åŠ¨çš„æ¥è§¦ç‚¹ä¸å±å¹•åˆ†ç¦»

#### åŒå‡»æ—¶æ—‹è½¬ ä¾‹å­

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(SampleApp());
}

class SampleApp extends StatelessWidget {
  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Sample App',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: AnimateApp(),
    );
  }
}

class AnimateApp extends StatefulWidget {
  @override
  State<StatefulWidget> createState() {
    return _AnimateAppState();
  }
}

class _AnimateAppState extends State<AnimateApp>
    with SingleTickerProviderStateMixin {
  AnimationController controller;
  Animation<double> animation;
  CurvedAnimation curve;

  @override
  void initState() {
    super.initState();
    // åˆ›å»º AnimationController å¯¹è±¡
    controller = AnimationController(
        vsync: this, duration: const Duration(milliseconds: 2000));
    curve = CurvedAnimation(parent: controller, curve: Curves.easeIn);
    // é€šè¿‡ Tween å¯¹è±¡ åˆ›å»º Animation å¯¹è±¡
    animation = Tween(begin: 50.0, end: 200.0).animate(controller)
      ..addListener(() {
        // æ³¨æ„ï¼šè¿™å¥ä¸èƒ½å°‘ï¼Œå¦åˆ™ widget ä¸ä¼šé‡ç»˜ï¼Œä¹Ÿå°±çœ‹ä¸åˆ°åŠ¨ç”»æ•ˆæœ
        setState(() {});
      });
    // æ‰§è¡ŒåŠ¨ç”»
    controller.forward();
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
        title: 'AnimateApp',
        theme: ThemeData(primaryColor: Colors.blue),
        home: Scaffold(
            appBar: AppBar(
              title: Text('AnimateApp'),
            ),
            body: Center(
              child: GestureDetector(
                child: RotationTransition(
                    turns: curve,
                    child: FlutterLogo(
                      size: 200.0,
                    )),
                onDoubleTap: () {
                  if (controller.isCompleted) {
                    controller.reverse();
                  } else {
                    controller.forward();
                  }
                },
              ),
            )));
  }

  @override
  void dispose() {
    // èµ„æºé‡Šæ”¾
    controller.dispose();
    super.dispose();
  }
}
```

### 7.åŠ¨ç”»

```dart
animate(withDuration)
```

## äºŒã€ç½‘ç»œç¼–ç¨‹

### 1.ç½‘ç»œ

#### ç½‘ç»œå±‚æ¡†æ¶çš„æ¶æ„è®¾è®¡

- 1.æ”¯æŒç½‘ç»œåº“æ’æ‹”è®¾è®¡ï¼Œä¸”ä¸å¹²æ‰°ä¸šåŠ¡å±‚
- 2.ç®€æ´æ˜“ç”¨ï¼Œæ”¯æŒé…ç½®æ¥è¿›è¡Œè¯·æ±‚
- 3.Adapter è®¾è®¡ï¼Œæ‰©å±•æ€§å¼º
- 4.ç»Ÿä¸€çš„å¼‚å¸¸å’Œè¿”å›å¤„ç†

#### HiNet è®¾è®¡

Dao å±‚

- é¦–é¡µ
- è¯¦æƒ…
- ç‚¹èµ
- æ”¶è—
- ç™»å½•
- æ³¨å†Œ
- é€šçŸ¥
- ä¸ªäººä¸­å¿ƒ
- æ’è¡Œ
- ...

REST ful æ”¯æŒ

- GET
- POST
- DELETE
- ...

ç»Ÿä¸€é€»è¾‘å¤„ç†

- Request processing
- Response processing
- Error processing

é€‚é…å±‚

- Dio Adapter
- Http Adapter
- Mock Adapter

ä¸‰æ–¹åº“

- dio
- ...

#### json ç¼–ç å™¨å’Œè§£ç å™¨

##### dart å†…ç½®è§£æå™¨

å¼•å…¥å†…ç½®åº“-å°é¡¹ç›®å¯ä»¥å€ŸåŠ©æ¥è¿›è¡Œæ‰‹åŠ¨ JSON åºåˆ—åŒ–

```dart
import 'dart:convert';
```

json å’Œ map äº’è½¬

jsonDecode(jsonString); // json è½¬ map
jsonEncode(jsonMap); // map è½¬ json

```dart
void test() {
    const jsonString =
        "{ \"name\": \"flutter\", \"url\": \"https://coding.imooc.com/class/487.html\" }";
    //json è½¬map
    Map<String, dynamic> jsonMap = jsonDecode(jsonString);
    print('name:${jsonMap['name']}');
    print('url:${jsonMap['url']}');
    //map è½¬json
    String json = jsonEncode(jsonMap);
    print('json:$json');
}
```

è§£ç (JSON String->Object)

```dart
var jsonString = '''
  [
    {"score": 40},
    {"score": 80}
  ]
''';

var scores = jsonDecode(jsonString);
```

ç¼–ç (Object->JSON String)

##### JSON è§£ææŠ€å·§->ç”Ÿæˆå®ä½“ç±»

1.æ‰‹å†™å®ä½“ç±»

2.ç”Ÿäº§åŠ›å·¥å…·ï¼šç½‘é¡µè‡ªåŠ¨ç”Ÿæˆå®ä½“ç±»- json è½¬ dart å®ä½“ç±»

<https://www.devio.org/io/tools/json-to-dart/>

3.ç”Ÿäº§åŠ›å·¥å…·ï¼šjson_serializable æ’ä»¶çš„ä½¿ç”¨æŠ€å·§

- json_annotatiln:^4.3.0
- json_serializable:^6.0.1
- build_runner:^2.1.4
- é€‚ç”¨äºä¸­å¤§å‹é¡¹ç›®ï¼Œå®šä¹‰æ‰‹åŠ¨å­—æ®µï¼ŒåæœŸå¥½ç»´æŠ¤

### 2.å­˜å‚¨

```bash
# æœ¬åœ°å­˜å‚¨(ç¼“å­˜)
shared_preferences
# æœ¬åœ°jsonå¯¹è±¡å­˜å‚¨åº“
localstorage: ^4.0.0+1
```

## ä¸‰ã€é«˜çº§

å¾…å®š

## å››ã€æ‰“åŒ…å‘å¸ƒ

å¾…å®š
