import{_ as l,c as s,o as e,ah as n}from"./chunks/framework.DqD713j2.js";const h=JSON.parse('{"title":"服务端性能优化","description":"","frontmatter":{},"headers":[],"relativePath":"Document/前端性能优化专题/05_服务端性能优化.md","filePath":"Document/前端性能优化专题/05_服务端性能优化.md","lastUpdated":1750954157000}'),i={name:"Document/前端性能优化专题/05_服务端性能优化.md"};function o(r,a,t,p,c,d){return e(),s("div",null,a[0]||(a[0]=[n(`<h1 id="服务端性能优化" tabindex="-1">服务端性能优化 <a class="header-anchor" href="#服务端性能优化" aria-label="Permalink to &quot;服务端性能优化&quot;">​</a></h1><h2 id="规则-1-减少网络请求" tabindex="-1">规则 1：减少网络请求 <a class="header-anchor" href="#规则-1-减少网络请求" aria-label="Permalink to &quot;规则 1：减少网络请求&quot;">​</a></h2><ul><li>合并请求: 包括 JS、CSS</li><li>使用雪碧图: CSS Sprite</li><li>使用地图:HTML Map</li><li>内联小图片: Base64Encode</li></ul><h2 id="规则-2-使用内容分发网络-cdn" tabindex="-1">规则 2：使用内容分发网络 CDN <a class="header-anchor" href="#规则-2-使用内容分发网络-cdn" aria-label="Permalink to &quot;规则 2：使用内容分发网络 CDN&quot;">​</a></h2><ul><li>地理上离用户更近</li><li>专业的公司提供服务</li></ul><h2 id="规则-3-适当的使用缓存" tabindex="-1">规则 3：适当的使用缓存 <a class="header-anchor" href="#规则-3-适当的使用缓存" aria-label="Permalink to &quot;规则 3：适当的使用缓存&quot;">​</a></h2><ul><li>为静态资源添加 Expires 响应头</li><li>为静态资源添加 Cache-Control 响应头</li><li>配置 Apache、Nginx、Express</li></ul><h2 id="规则-4-启用-gzip-压缩" tabindex="-1">规则 4：启用 GZIP 压缩 <a class="header-anchor" href="#规则-4-启用-gzip-压缩" aria-label="Permalink to &quot;规则 4：启用 GZIP 压缩&quot;">​</a></h2><ul><li>大幅度减少网络传输体积，压缩率高达: 60%~90%</li><li>多种文件类型: HTML、JS、CSS、Image</li></ul><h2 id="规则-5-减少-dns-查找" tabindex="-1">规则 5：减少 DNS 查找 <a class="header-anchor" href="#规则-5-减少-dns-查找" aria-label="Permalink to &quot;规则 5：减少 DNS 查找&quot;">​</a></h2><ul><li>单个站点不要使用太多域名</li><li>单次 DNS 查找约消耗 20~12ms</li></ul><h2 id="规则-6-避免重定向-3xx" tabindex="-1">规则 6：避免重定向 3XX <a class="header-anchor" href="#规则-6-避免重定向-3xx" aria-label="Permalink to &quot;规则 6：避免重定向 3XX&quot;">​</a></h2><ul><li>重定向对浏览器意味着重头再来</li><li>每次重定向至少多花费 50ms</li></ul><h2 id="规则-7-配置有效的-etag" tabindex="-1">规则 7：配置有效的 ETAG <a class="header-anchor" href="#规则-7-配置有效的-etag" aria-label="Permalink to &quot;规则 7：配置有效的 ETAG&quot;">​</a></h2><ul><li>跟浏览器说明过期规则</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">HTTP/1.1</span><span style="color:#98C379;"> 2000K</span></span>
<span class="line"><span style="color:#61AFEF;">Last-Modified:</span><span style="color:#98C379;"> Tue，12</span><span style="color:#98C379;"> Dec</span><span style="color:#D19A66;"> 2006</span><span style="color:#98C379;"> 03:03:59</span><span style="color:#98C379;"> GMTETag:“10c24bc-4ab-457e1c1fuContent-Length:12195</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">GET</span><span style="color:#98C379;"> /i/yahoo.gif</span><span style="color:#98C379;"> HTTP/1.1</span></span>
<span class="line"><span style="color:#61AFEF;">Host:</span><span style="color:#98C379;"> us.yimg.com</span></span>
<span class="line"><span style="color:#61AFEF;">If-Modified-Since:</span><span style="color:#98C379;"> Tue,</span><span style="color:#D19A66;"> 12</span><span style="color:#98C379;"> Dec</span><span style="color:#D19A66;"> 2006</span><span style="color:#98C379;"> 03:03:59</span><span style="color:#98C379;"> GMT</span></span>
<span class="line"><span style="color:#61AFEF;">If-None-Match:</span><span style="color:#98C379;"> &quot;10c24bc-4ab-457elc1f&quot;</span></span>
<span class="line"><span style="color:#61AFEF;">HTTP/1.1</span><span style="color:#D19A66;"> 304</span><span style="color:#98C379;"> Not</span><span style="color:#98C379;"> Modified</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="规则-8-让-ajax-请求可缓存" tabindex="-1">规则 8：让 Ajax 请求可缓存 <a class="header-anchor" href="#规则-8-让-ajax-请求可缓存" aria-label="Permalink to &quot;规则 8：让 Ajax 请求可缓存&quot;">​</a></h2><ul><li>GZIP、内容压缩都可适用</li></ul><h2 id="规则-9-尽快输出第-1-个字节" tabindex="-1">规则 9：尽快输出第 1 个字节 <a class="header-anchor" href="#规则-9-尽快输出第-1-个字节" aria-label="Permalink to &quot;规则 9：尽快输出第 1 个字节&quot;">​</a></h2><ul><li>尽快输出页面头部，浏览器能尽快开始干活</li><li>并行下载外链的 CSS</li><li>风靡一时的 BigPipe 也是基于此</li></ul><h2 id="规则-10-使用无-cookie-域名加载静态资源-后端" tabindex="-1">规则 10：使用无 COOKIE 域名加载静态资源(后端) <a class="header-anchor" href="#规则-10-使用无-cookie-域名加载静态资源-后端" aria-label="Permalink to &quot;规则 10：使用无 COOKIE 域名加载静态资源(后端)&quot;">​</a></h2><ul><li>减少静态资源加载时的网络传输量</li><li>静态资源加载通常是不需要 COOKIE 的</li><li>阿里: 精简 COOKIE 后，每年节省的费用百万级</li></ul>`,24)]))}const b=l(i,[["render",o]]);export{h as __pageData,b as default};
