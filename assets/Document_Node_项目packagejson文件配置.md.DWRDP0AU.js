import{_ as n,c as a,o as e,ah as p}from"./chunks/framework.DqD713j2.js";const l="/FrontEndLearnNotes/assets/image-20240701085437278.ChTwGms-.png",o="/FrontEndLearnNotes/assets/image-20240701085501953.CcgzXcvR.png",y=JSON.parse('{"title":"项目 packagejson 文件配置","description":"","frontmatter":{},"headers":[],"relativePath":"Document/Node/项目packagejson文件配置.md","filePath":"Document/Node/项目packagejson文件配置.md","lastUpdated":1750954157000}'),t={name:"Document/Node/项目packagejson文件配置.md"};function r(c,s,i,u,d,b){return e(),a("div",null,s[0]||(s[0]=[p(`<h1 id="项目-packagejson-文件配置" tabindex="-1">项目 packagejson 文件配置 <a class="header-anchor" href="#项目-packagejson-文件配置" aria-label="Permalink to &quot;项目 packagejson 文件配置&quot;">​</a></h1><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>package.json 是一个用于描述和管理项目的配置文件，其中包含了许多字段和选项，可以影响项目的构建、依赖管理、脚本执行等方面。了解这些字段可以帮助开发者更好地理解和控制项目的行为。</p><p>它包含了项目的元数据信息，例如项目名称、版本号、作者、许可证等。同时，它还包含了项目的依赖项信息，包括项目所依赖的第三方库、框架以及工具等。通过 <code>package.json</code> 文件，我们可以方便地管理项目的依赖关系，使得项目的构建、发布和维护更加简单和可靠。</p><p>package.json 对于大部分前端开发者来说，知道 dependencies 与 devDependencies 就够了。但对于库开发者或有更高级需求的开发者来说，了解 package.json 的其他字段是非常有必要的。</p><p>本文介绍的字段分为官方字段与非官方字段。非官方字段是被主流打包工具（webpack，Rollup）所支持， 旨在提供更高级的配置和功能，以满足特定的构建需求，可能不具备通用性。</p><p>目前版本：v7.24.2</p><h2 id="一、必须属性" tabindex="-1">一、必须属性 <a class="header-anchor" href="#一、必须属性" aria-label="Permalink to &quot;一、必须属性&quot;">​</a></h2><h3 id="_1-name" tabindex="-1">1. name <a class="header-anchor" href="#_1-name" aria-label="Permalink to &quot;1. name&quot;">​</a></h3><p>定义项目的名称，不能以&quot;.&quot;和&quot;_&quot;开头，不能包含大写字母</p><h3 id="_2-version" tabindex="-1">2. version <a class="header-anchor" href="#_2-version" aria-label="Permalink to &quot;2. version&quot;">​</a></h3><p>定义项目的版本号，格式为：大版本号.次版本号.修订号</p><h2 id="二、描述信息" tabindex="-1">二、描述信息 <a class="header-anchor" href="#二、描述信息" aria-label="Permalink to &quot;二、描述信息&quot;">​</a></h2><h3 id="_1-description" tabindex="-1">1. description <a class="header-anchor" href="#_1-description" aria-label="Permalink to &quot;1. description&quot;">​</a></h3><p>项目描述</p><h3 id="_2-keywords" tabindex="-1">2. keywords <a class="header-anchor" href="#_2-keywords" aria-label="Permalink to &quot;2. keywords&quot;">​</a></h3><p>项目关键词</p><h3 id="_3-author" tabindex="-1">3. author <a class="header-anchor" href="#_3-author" aria-label="Permalink to &quot;3. author&quot;">​</a></h3><p>项目作者</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;author&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;name (http://barnyrubble.tumblr.com/)&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-contributors" tabindex="-1">4. contributors <a class="header-anchor" href="#_4-contributors" aria-label="Permalink to &quot;4. contributors&quot;">​</a></h3><p>项目贡献者</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;contributors&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;">    &quot;name &lt;b@rubble.com&gt; (http://barnyrubble.tumblr.com/)&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-homepage" tabindex="-1">5. homepage <a class="header-anchor" href="#_5-homepage" aria-label="Permalink to &quot;5. homepage&quot;">​</a></h3><p>项目主页地址</p><h3 id="_6-repository" tabindex="-1">6. repository <a class="header-anchor" href="#_6-repository" aria-label="Permalink to &quot;6. repository&quot;">​</a></h3><p>项目代码仓库地址</p><h3 id="_7-bugs" tabindex="-1">7. bugs <a class="header-anchor" href="#_7-bugs" aria-label="Permalink to &quot;7. bugs&quot;">​</a></h3><p>项目提交问题的地址</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"> //提交问题的地址和反馈的邮箱,url通常是Github中的issues页面</span></span>
<span class="line"><span style="color:#98C379;">&quot;bugs&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">  &quot;url&quot;</span><span style="color:#ABB2BF;"> : </span><span style="color:#98C379;">&quot;https://github.com/facebook/react/issues&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">  &quot;email&quot;</span><span style="color:#ABB2BF;"> : </span><span style="color:#98C379;">&quot;xxxxx@xx.com&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_8-funding" tabindex="-1">8. funding <a class="header-anchor" href="#_8-funding" aria-label="Permalink to &quot;8. funding&quot;">​</a></h3><p>指定项目的资金支持方式和链接</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;funding&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;type&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;patreon&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;url&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;https://www.patreon.com/my-module&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="三、依赖配置" tabindex="-1">三、依赖配置 <a class="header-anchor" href="#三、依赖配置" aria-label="Permalink to &quot;三、依赖配置&quot;">​</a></h2><h3 id="_1-dependencies" tabindex="-1">1. dependencies <a class="header-anchor" href="#_1-dependencies" aria-label="Permalink to &quot;1. dependencies&quot;">​</a></h3><p>生产环境的依赖包</p><p>如果不使用脱字符（^），安装的版本号固定；如果使用，则能安装当前大版本的最新版本，在 package-lock.json 中可查看当前实际安装的版本。</p><h3 id="_2-devdependencies" tabindex="-1">2. devDependencies <a class="header-anchor" href="#_2-devdependencies" aria-label="Permalink to &quot;2. devDependencies&quot;">​</a></h3><p>开发环境的依赖包，例如 webpack、vite、babel、ESLint 等，不会被安装到生产环境中</p><h3 id="_3-peerdependencies" tabindex="-1">3. peerDependencies <a class="header-anchor" href="#_3-peerdependencies" aria-label="Permalink to &quot;3. peerDependencies&quot;">​</a></h3><p>对等依赖的作用：</p><ol><li>减小打包体积：例如使用 react 开发的组件库，安装 react 是必不可少的，而使用组件库的开发者，本地项目肯定安装了 react，因此开发的组件库中不必把 react 打包进去（期望项目的使用者来提供这些模块的实现）。</li><li>版本一致性：使用你的组件库的开发者需要确保他们项目中安装了与你声明的对等依赖版本兼容的包，以确保组件库正常运行。</li></ol><p>示例：声明要使用组件库，需在项目中安装大于 17.0.1 版本的 react</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;peerDependencies&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;react&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;&gt;17.0.1&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_4-peerdependenciesmeta" tabindex="-1">4. peerDependenciesMeta <a class="header-anchor" href="#_4-peerdependenciesmeta" aria-label="Permalink to &quot;4. peerDependenciesMeta&quot;">​</a></h3><p>将对等依赖标记为可选，如果用户没有安装对等依赖，npm 不会发出警告</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;peerDependenciesMeta&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;react&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">      &quot;optional&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#7F848E;font-style:italic;"> //标记为可选</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_5-bundleddependencies" tabindex="-1">5. bundledDependencies <a class="header-anchor" href="#_5-bundleddependencies" aria-label="Permalink to &quot;5. bundledDependencies&quot;">​</a></h3><p>声明捆绑依赖项（使用情景较少）</p><h3 id="_6-optionaldependencies" tabindex="-1">6. optionalDependencies <a class="header-anchor" href="#_6-optionaldependencies" aria-label="Permalink to &quot;6. optionalDependencies&quot;">​</a></h3><p>声明可选依赖项（使用情景较少）</p><h3 id="_7-engines" tabindex="-1">7. engines <a class="header-anchor" href="#_7-engines" aria-label="Permalink to &quot;7. engines&quot;">​</a></h3><p>声明对 npm 或 node 的版本要求</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;engines&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;node&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;&gt;=8.10.3 &lt;12.13.0&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;npm&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;&gt;=6.9.0&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>engines 只是起一个说明的作用，即使用户安装的版本不符合要求，也不影响依赖包的安装。</p><h3 id="_8-workspaces" tabindex="-1">8. workspaces <a class="header-anchor" href="#_8-workspaces" aria-label="Permalink to &quot;8. workspaces&quot;">​</a></h3><p>单个代码库中统一管理多个包（monorepo），在 workspaces 声明目录下的 package 会软链到根目录的 node_modules 中。</p><h4 id="_1-初始化项目" tabindex="-1">1. 初始化项目 <a class="header-anchor" href="#_1-初始化项目" aria-label="Permalink to &quot;1. 初始化项目&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E06C75;">npm</span><span style="color:#E06C75;"> init</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;">y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-声明本项目是-workspaces-模式" tabindex="-1">2. 声明本项目是 workspaces 模式 <a class="header-anchor" href="#_2-声明本项目是-workspaces-模式" aria-label="Permalink to &quot;2. 声明本项目是 workspaces 模式&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;private&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;true&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">  &quot;workspaces&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;">    &quot;packages/*&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ],</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>表示所有子包都在 packages 文件夹下</p><h4 id="_3-创建子包-p1" tabindex="-1">3. 创建子包 p1 <a class="header-anchor" href="#_3-创建子包-p1" aria-label="Permalink to &quot;3. 创建子包 p1&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E06C75;">npm</span><span style="color:#E06C75;"> init</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;">w</span><span style="color:#E06C75;"> packages</span><span style="color:#56B6C2;">/</span><span style="color:#E06C75;">p1</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;">y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 node_modules/.package-lock.json 中可以看到 &quot;link&quot;: true 链接符号信息</p><h4 id="_4-新建-packages-p1-index-js" tabindex="-1">4. 新建 packages/p1/index.js <a class="header-anchor" href="#_4-新建-packages-p1-index-js" aria-label="Permalink to &quot;4. 新建 packages/p1/index.js&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">module</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">exports</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;p1包&quot;</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_5-创建子包-p2" tabindex="-1">5. 创建子包 p2 <a class="header-anchor" href="#_5-创建子包-p2" aria-label="Permalink to &quot;5. 创建子包 p2&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E06C75;">npm</span><span style="color:#E06C75;"> init</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;">w</span><span style="color:#E06C75;"> packages</span><span style="color:#56B6C2;">/</span><span style="color:#E06C75;">p2</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;">y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_6-将子包-p1-添加到-p2-中" tabindex="-1">6. 将子包 p1 添加到 p2 中 <a class="header-anchor" href="#_6-将子包-p1-添加到-p2-中" aria-label="Permalink to &quot;6. 将子包 p1 添加到 p2 中&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E06C75;">npm</span><span style="color:#E06C75;"> i</span><span style="color:#E06C75;"> p1</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;">w</span><span style="color:#E06C75;"> p2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装，卸载等命令都是一样的，只是多了&quot;--workspace=&quot;参数（简写-w），用来指定在哪个包中执行命令</p><h4 id="_7-子包-p2-使用-p1" tabindex="-1">7. 子包 p2 使用 p1 <a class="header-anchor" href="#_7-子包-p2-使用-p1" aria-label="Permalink to &quot;7. 子包 p2 使用 p1&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> p1</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> require</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;p1&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;使用&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">p1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">module</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">exports</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;p2包&quot;</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>workspaces 功能与 lerna 类似，如果只需简单地管理多个包，workspaces 足够了。lerna 具有版本管理，发包提示，简化多包项目发布流程等更多功能。</p><h2 id="四、脚本配置" tabindex="-1">四、脚本配置 <a class="header-anchor" href="#四、脚本配置" aria-label="Permalink to &quot;四、脚本配置&quot;">​</a></h2><h3 id="_1-scripts" tabindex="-1">1. scripts <a class="header-anchor" href="#_1-scripts" aria-label="Permalink to &quot;1. scripts&quot;">​</a></h3><p>脚本入口</p><h3 id="_2-config" tabindex="-1">2. config <a class="header-anchor" href="#_2-config" aria-label="Permalink to &quot;2. config&quot;">​</a></h3><p>用于定义项目的配置项，例如设置环境变量</p><p>1.config 配置</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;config&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;baseUrl&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;https://example.com&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>2.scripts 配置</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;scripts&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;start&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;node index.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3-新建-index-js" tabindex="-1">3. 新建 index.js <a class="header-anchor" href="#_3-新建-index-js" aria-label="Permalink to &quot;3. 新建 index.js&quot;">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">//使用process.env.npm_package_config_XXX取值</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">process</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">env</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">npm_package_config_baseUrl</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>运行 npm run start，终端打印出 <a href="https://example.com" target="_blank" rel="noreferrer">example.com</a></p><h2 id="五、文件-目录" tabindex="-1">五、文件&amp;目录 <a class="header-anchor" href="#五、文件-目录" aria-label="Permalink to &quot;五、文件&amp;目录&quot;">​</a></h2><h3 id="_1-module-非官方字段" tabindex="-1">1. module（非官方字段） <a class="header-anchor" href="#_1-module-非官方字段" aria-label="Permalink to &quot;1. module（非官方字段）&quot;">​</a></h3><p>指定 ES 模块入口文件</p><p>示例：当其他开发者在他们的项目中导入你的包时，会加载并执行包中的 dist/index.esm.js</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;main&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;dist/index.esm.js&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-main" tabindex="-1">2. main <a class="header-anchor" href="#_2-main" aria-label="Permalink to &quot;2. main&quot;">​</a></h3><p>指定 CommonJS 模块或 ES 模块入口文件。如果不指定该字段，默认是根目录下的 index.js</p><p>提示：从 Node.js 12.20.0 版本开始，&quot;main&quot; 字段也可以指定 ES 模块的入口文件</p><h3 id="_3-browser" tabindex="-1">3. browser <a class="header-anchor" href="#_3-browser" aria-label="Permalink to &quot;3. browser&quot;">​</a></h3><p>指定浏览器使用的入口文件，例如 umd 模块。</p><h3 id="_4-types-非官方字段" tabindex="-1">4. types（非官方字段） <a class="header-anchor" href="#_4-types-非官方字段" aria-label="Permalink to &quot;4. types（非官方字段）&quot;">​</a></h3><p>指定 TypeScript 类型声明文件（.d.ts 文件）的路径</p><h3 id="_5-exports-非官方字段" tabindex="-1">5. exports（非官方字段） <a class="header-anchor" href="#_5-exports-非官方字段" aria-label="Permalink to &quot;5. exports（非官方字段）&quot;">​</a></h3><p>当打包工具支持 exports 字段时（webpack、Rollup 等），以上 main，browser，module，types 四个字段都被忽略</p><p>&quot;.&quot; 表示默认导出</p><p>&quot;import&quot;: 指定了 ES module (ESM) 规范下的导出文件路径</p><p>&quot;require&quot;: 指定了 CommonJS 规范下的导出文件路径</p><p>&quot;browser&quot;: 指定了用于浏览器环境的导出文件路径</p><p>&quot;types&quot;: 指定了类型声明文件的路径</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;exports&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;.&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">      &quot;import&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./dist/index.esm.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">      &quot;require&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./dist/index.cjs.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">      &quot;browser&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./dist/index.umd.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./dist/index.d.ts&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>导出其他文件，例如除了导出默认路径，导出源文件</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;exports&quot;</span><span style="color:#ABB2BF;">:{</span></span>
<span class="line"><span style="color:#ABB2BF;">    ...</span></span>
<span class="line"><span style="color:#98C379;">  &quot;./main&quot;</span><span style="color:#ABB2BF;"> : </span><span style="color:#98C379;">&quot;./src/main.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>其他项目中使用</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> main</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;packageName&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// . 方式定义的</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> main</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;packageName/main&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// ./main 方式定义的</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_6-type-非官方字段" tabindex="-1">6. type（非官方字段） <a class="header-anchor" href="#_6-type-非官方字段" aria-label="Permalink to &quot;6. type（非官方字段）&quot;">​</a></h3><p>指定模块系统的使用方式，&quot;commonjs&quot;，&quot;module&quot;，&quot;umd&quot;，&quot;json&quot;</p><p>示例：指定模块系统为 ES module 模式，使用 CommonJS 文件时，需显式的定义为 .cjs 文件扩展名，来明确指定这些文件为 CommonJS 模块</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;type&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;module&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_7-files" tabindex="-1">7. files <a class="header-anchor" href="#_7-files" aria-label="Permalink to &quot;7. files&quot;">​</a></h3><p>指定哪些包被推送到 npm 服务器中</p><p>示例：只推送 index.js 和 dist 包到 npm 服务器</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;files&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;">    &quot;index.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;dist&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ],</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>可以在项目根目录新建一个.npmignore 文件，说明不需要提交到 npm 服务器的文件，类似.gitignore。写在这个文件中的文件即便被写在 files 属性里也会被排除在外</p><h3 id="_8-bin" tabindex="-1">8. bin <a class="header-anchor" href="#_8-bin" aria-label="Permalink to &quot;8. bin&quot;">​</a></h3><p>定义在全局安装时可执行的命令（使用情景较少）</p><h3 id="_9-man" tabindex="-1">9. man <a class="header-anchor" href="#_9-man" aria-label="Permalink to &quot;9. man&quot;">​</a></h3><p>Linux 中的帮助指令（使用情景较少）</p><h3 id="_10-directories" tabindex="-1">10. directories <a class="header-anchor" href="#_10-directories" aria-label="Permalink to &quot;10. directories&quot;">​</a></h3><p>定义项目目录结构的字段（使用情景较少）</p><h2 id="六、发布配置" tabindex="-1">六、发布配置 <a class="header-anchor" href="#六、发布配置" aria-label="Permalink to &quot;六、发布配置&quot;">​</a></h2><h3 id="_1-private" tabindex="-1">1. private <a class="header-anchor" href="#_1-private" aria-label="Permalink to &quot;1. private&quot;">​</a></h3><p>防止私有包发布到 npm 服务器，要发布到 npm 上设为 false</p><h3 id="_2-preferglobal-非官方字段" tabindex="-1">2. preferGlobal（非官方字段） <a class="header-anchor" href="#_2-preferglobal-非官方字段" aria-label="Permalink to &quot;2. preferGlobal（非官方字段）&quot;">​</a></h3><p>当设置 &quot;preferGlobal&quot; 字段为 true 时，它表示你的包更适合以全局方式安装，而不是作为项目的依赖项进行本地安装。</p><p>这个字段的设置是为了向用户传达关于你的包的最佳使用方式的建议。它并不会直接影响包的安装方式或包管理器的行为。</p><h3 id="_3-publishconfig" tabindex="-1">3. publishConfig <a class="header-anchor" href="#_3-publishconfig" aria-label="Permalink to &quot;3. publishConfig&quot;">​</a></h3><p>在发布包时指定特定的配置</p><p>示例：指定包发布的注册表 URL，指定所有用户都可以访问（私有的会收费）</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;publishConfig&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;">    &quot;registry&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;https://registry.npmjs.org/&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;access&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;public&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-os" tabindex="-1">4. os <a class="header-anchor" href="#_4-os" aria-label="Permalink to &quot;4. os&quot;">​</a></h3><p>指定你的包适用的操作系统</p><p>示例：包只适用于 darwin（macOS）和 linux</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;os&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;darwin&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;linux&quot;</span><span style="color:#ABB2BF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>示例：禁用 win32</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;os&quot;</span><span style="color:#ABB2BF;">[</span><span style="color:#98C379;">&quot;!win32&quot;</span><span style="color:#ABB2BF;">]; </span><span style="color:#7F848E;font-style:italic;">//禁用的操作系统</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-cpu" tabindex="-1">5. cpu <a class="header-anchor" href="#_5-cpu" aria-label="Permalink to &quot;5. cpu&quot;">​</a></h3><p>该配置和 OS 配置类似，用 CPU 可以更准确的限制用户的安装环境</p><h3 id="_6-license" tabindex="-1">6. license <a class="header-anchor" href="#_6-license" aria-label="Permalink to &quot;6. license&quot;">​</a></h3><p>指定软件的开源协议：</p><p>ISC：在所有副本中保留版权声明和许可证声明，使用者就可以拿你的代码做任何想做的事情，你也无需承担任何责任</p><p>MIT：在所有副本或主要部分中保留版权声明和许可证声明，使用者就可以拿你的代码做任何想做的事情，你也无需承担任何责任</p><p>开源协议查询地址：<a href="https://opensource.org/licenses/" target="_blank" rel="noreferrer">opensource.org/licenses/</a></p><h2 id="七、第三方配置-非官方字段" tabindex="-1">七、第三方配置（非官方字段） <a class="header-anchor" href="#七、第三方配置-非官方字段" aria-label="Permalink to &quot;七、第三方配置（非官方字段）&quot;">​</a></h2><h3 id="_1-eslintconfig" tabindex="-1">1. eslintConfig <a class="header-anchor" href="#_1-eslintconfig" aria-label="Permalink to &quot;1. eslintConfig&quot;">​</a></h3><p>eslint 的配置，更推荐新建 .eslintrc 进行配置</p><p>使用参考：<a href="https://juejin.cn/post/7228978346502946874#heading-16" target="_blank" rel="noreferrer">新建 .eslintrc</a></p><h3 id="_2-babel" tabindex="-1">2. babel <a class="header-anchor" href="#_2-babel" aria-label="Permalink to &quot;2. babel&quot;">​</a></h3><p>babel 的配置，更推荐新建 .babelrc 进行配置</p><h3 id="_3-unpkg" tabindex="-1">3. unpkg <a class="header-anchor" href="#_3-unpkg" aria-label="Permalink to &quot;3. unpkg&quot;">​</a></h3><p>unpkg 是一个基于 CDN 的前端包托管服务，用于在浏览器中直接引用和加载 npm 上发布的包。</p><p>无需下载，直接通过 <code>&lt;script&gt;</code> 标签引用</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span style="color:#D19A66;font-style:italic;"> src</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;https://unpkg.com/package-name@version&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-lint-staged" tabindex="-1">4. lint-staged <a class="header-anchor" href="#_4-lint-staged" aria-label="Permalink to &quot;4. lint-staged&quot;">​</a></h3><p>lint-staged 是一个在 Git 暂存文件上运行 linters 的工具，通常配合 gitHooks 一起使用。</p><p>使用参考：<a href="https://juejin.cn/post/7228978346502946874#heading-22" target="_blank" rel="noreferrer">配置 husky、lint-staged、@commitlint/cli</a></p><h3 id="_5-browserslist" tabindex="-1">5. browserslist <a class="header-anchor" href="#_5-browserslist" aria-label="Permalink to &quot;5. browserslist&quot;">​</a></h3><p>告知支持哪些浏览器及版本，Autoprefixer 常用到它</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;browserslist&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;">    &quot;defaults&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;not ie &lt; 8&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;last 2 versions&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;&gt; 1%&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;iOS 7&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;last 3 iOS versions&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_6-sideeffects" tabindex="-1">6. sideEffects <a class="header-anchor" href="#_6-sideeffects" aria-label="Permalink to &quot;6. sideEffects&quot;">​</a></h3><p>指示包是否具有副作用，协助 Webpack，Rollup 等进行 tree shaking</p><p>多数情况下可以直接设置为 false，这样打包工具就会自动删除未被 import 的代码</p><p>但是有些情况例外</p><ol><li>有一些特定的模块文件，它们执行一些副作用操作，如注册全局事件监听器、修改全局状态等。</li><li>告诉构建工具不要将样式文件排除在无用代码消除的优化范围之外</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;sideEffects&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;./path/to/module.js&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;*.css&quot;</span><span style="color:#ABB2BF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="element-plus-包的-package-json" tabindex="-1">element-plus 包的 package.json <a class="header-anchor" href="#element-plus-包的-package-json" aria-label="Permalink to &quot;element-plus 包的 package.json&quot;">​</a></h2><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;name&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;element-plus&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;version&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;2.3.12&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;description&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;A Component Library for Vue 3&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;keywords&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;">    &quot;element-plus&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;element&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;component library&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;ui framework&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;ui&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;vue&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ],</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;homepage&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;https://element-plus.org/&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;bugs&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;url&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;https://github.com/element-plus/element-plus/issues&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;license&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;MIT&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;main&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;lib/index.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;module&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;es/index.mjs&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;es/index.d.ts&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;exports&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;.&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./es/index.d.ts&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;import&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./es/index.mjs&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;require&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./lib/index.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;./es&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./es/index.d.ts&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;import&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./es/index.mjs&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;./lib&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./lib/index.d.ts&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;require&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./lib/index.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;./es/*.mjs&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./es/*.d.ts&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;import&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./es/*.mjs&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;./es/*&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;./es/*.d.ts&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;./es/*/index.d.ts&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;import&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./es/*.mjs&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;./lib/*.js&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./lib/*.d.ts&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;require&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./lib/*.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;./lib/*&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;types&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;./lib/*.d.ts&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;./lib/*/index.d.ts&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#E06C75;">      &quot;require&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./lib/*.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;./*&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./*&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;unpkg&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;dist/index.full.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;jsdelivr&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;dist/index.full.js&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;repository&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;type&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;git&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;url&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;git+https://github.com/element-plus/element-plus.git&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;publishConfig&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;access&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;public&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;style&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;dist/index.css&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;sideEffects&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;">    &quot;dist/*&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;theme-chalk/**/*.css&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;theme-chalk/src/**/*.scss&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;es/components/*/style/*&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;lib/components/*/style/*&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  ],</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;peerDependencies&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;vue&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^3.2.0&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;dependencies&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@ctrl/tinycolor&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^3.4.1&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@element-plus/icons-vue&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^2.0.6&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@floating-ui/dom&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^1.0.1&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@popperjs/core&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;npm:@sxzz/popperjs-es@^2.11.7&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@types/lodash&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^4.14.182&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@types/lodash-es&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^4.17.6&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@vueuse/core&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^9.1.0&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;async-validator&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^4.2.5&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;dayjs&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^1.11.3&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;escape-html&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^1.0.3&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;lodash&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^4.17.21&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;lodash-es&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^4.17.21&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;lodash-unified&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^1.0.2&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;memoize-one&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^6.0.0&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;normalize-wheel-es&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^1.2.0&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;devDependencies&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;@types/node&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;*&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;csstype&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^2.6.20&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;vue&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^3.2.37&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;vue-router&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;^4.0.16&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;vetur&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;tags&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;tags.json&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;attributes&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;attributes.json&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;web-types&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;web-types.json&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;browserslist&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;&gt; 1%&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;not ie 11&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;not op_mini all&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;gitHead&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;89d4ec863ce55fc3de2f0513631e76f695f8e791&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br></div></div><h3 id="基本字段" tabindex="-1">基本字段 <a class="header-anchor" href="#基本字段" aria-label="Permalink to &quot;基本字段&quot;">​</a></h3><ul><li><p><strong>name</strong></p><p>项目名称。该字段不能设置为空，它和版本号组成唯一的标识来代表整个项目，字母不能大写，可以使用<code>-</code>，<code>_</code>符号，如果需要在 <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2F" target="_blank" rel="noreferrer">npm</a> 平台发布，需要保证你的 <code>name</code> 在平台是唯一的。</p></li><li><p><strong>version</strong></p><p>项目的版本号。需要发布 npm 平台的时候该字段为必输。</p></li><li><p><strong>description</strong></p><p>项目描述。该字段可以在 npm 平台搜索该包的时候起到作用。 <img src="`+l+'" alt="image-20240701085437278"></p></li><li><p><strong>keywords</strong></p><p>关键词。在 npm 平台搜索的关键词，该字段为数组，可设置多个关键词。</p></li><li><p><strong>homepage</strong></p><p>项目的主页 URL。</p></li><li><p><strong>bugs</strong></p><p>项目提交问题的地址。</p></li><li><p><strong>license</strong></p><p>项目的许可证（软件的开源协议）。 <img src="'+o+`" alt="image-20240701085501953"></p></li><li><p><strong>main</strong></p><p>npm 包的 <code>CommonJS</code> 入口文件。如果不设置则默认查找这个包根目录下的 <code>index.js</code> 文件。当我们使用 <code>require</code> 引入包的时候则会查找 <code>main</code> 对应路径的文件进行引入。这个文件应该遵循 <code>CommonJS</code> 模块规范，并且基于 <code>ES5</code> 规范编写。</p></li><li><p><strong>module</strong> npm 包的 <code>ESM</code> 规范的入口文件。这样的文件可以使用 <code>ES6</code> 的 <code>import/export</code> 语法，并支持 <code>Tree Shaking</code> 等特性。<code>main</code> 和 <code>module</code> 字段在 package.json 中共同存在时，分别用于指定不同模块规范下的入口文件，以满足不同环境和工具的需求。</p></li></ul><blockquote><p>平时我们引入三方包的时候例如 <code>import ElementPlus from &quot;element-plus&quot;;</code>，他会先找到这个包，然后在包里面的<code>package.json</code>文件中找到 <code>module</code>对应的入口文件，等于你引入的就是这个 es 下的 <code>index.mjs</code> 文件</p></blockquote><ul><li><p><strong>types</strong></p><p><code>TypeScript</code> 类型定义文件的路径。</p><p><strong>exports</strong></p><p>定义包的子路径导出映射。</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;exports&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;.&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;import&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./index.esm.js&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 当使用 ESM 语法导入包时，解析到这个文件</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;require&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./index.cjs&quot;</span><span style="color:#7F848E;font-style:italic;"> // 当使用 require() 导入包时，解析到这个文件</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;./feature&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;import&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./feature/esm/index.js&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 当导入特定的特性时，为 ESM 提供不同的入口点</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;require&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./feature/cjs/index.js&quot;</span><span style="color:#7F848E;font-style:italic;"> // 当导入特定的特性时，为 CommonJS 提供不同的入口点</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p><strong>unpkg</strong></p><p>CDN 服务地址。</p><blockquote><p>&quot;unpkg&quot;: &quot;dist/index.full.js&quot; 相当于映射 &quot;<a href="https://element-plus@2.3.12%2Fdist/index.full.js" target="_blank" rel="noreferrer">unpkg.com/element-plu…</a>&quot;</p></blockquote></li><li><p><strong>repository</strong></p><p>包代码存放仓库地址。可以为字符串（仓库地址），可以为对象如上面的<code>element-plus</code>中的<code>repository</code></p></li><li><p><strong>publishConfig</strong></p><p>npm 包的发布指定特定的配置。该配置将覆盖全局或用户级别的 npm 配置。这对于需要将包发布到私有 npm 仓库或具有特殊发布需求的场景特别有用。</p><blockquote><p>publishConfig 是一个对象包含以下属性:</p><p><code>registry</code>：指定 npm 包的发布仓库地址。（私有 npm 仓库可以在这指定 url）</p><p><code>access</code>：包的访问级别（默认 <code>public</code> 公开，<code>restricted</code> 私有）</p><p><code>tag</code>：为发布的 npm 包指定一个标签。默认情况下 npm 包会使用 <code>latest</code> 标签发布，你可以手动指定为 <code>beta</code></p></blockquote></li><li><p><strong>style</strong></p><p>该字段不是标准的 npm 字段，代表包中的样式文件路径。当 style 字段被设置时，某些工具（如 Webpack 的某些 loader 或构建脚本）可能会自动处理或包含这个样式文件。这通常用于那些希望将样式文件直接包含在其包中的前端库或组件。</p></li><li><p><strong>sideEffects</strong></p><p>用于告知打包工具（如 Webpack）哪些文件或模块在引入时具有副作用，从而影响 tree shaking 的行为。</p><blockquote><p>在 package.json 中，sideEffects 字段是 Webpack v4 及更高版本引入的一个特性，用于标记项目中的某些文件或模块是否包含副作用（side effects）。这个字段对于 Webpack 的 tree shaking（树摇）优化至关重要。 通过正确配置 sideEffects，打包工具可以更有效地移除未使用的代码，减小最终打包文件的大小。</p></blockquote></li><li><p><strong>peerDependencies</strong></p><p>对等依赖。 <code>peerDependencies</code> 字段用于声明一个 package 与依赖它的宿主应用程序所使用的其他 package 之间的兼容性限制。例如上面的<code>element-plus</code>中的<code>peerDependencies</code>是依赖的<code>vue@3.2.0</code>的版本，也就是你当前项目的 vue 版本不能低于<code>vue@3.2.0</code>，否则会出现兼容性报错。</p></li><li><p><strong>dependencies</strong></p><p>项目的生产环境中所必须的依赖包。</p></li><li><p><strong>devDependencies</strong></p><p>开发阶段需要的依赖包。比如 less、scss、eslint 等。</p><blockquote><p>npm 安装包时常见的基本参数以及作用：</p><ol><li>无参数 （npm install &lt;包名&gt;） 默认会添加到 package.json 文件中的 <code>dependencies</code> 中。</li><li>--save 或者 -S 同上。</li><li>--save-dev 或者 -D 添加到 package.json 文件中的 <code>dependencies</code> 中，通常用于开发环境依赖的包。</li><li>--global 或 -g 将包安装到全局环境，而不是当前项目的本地环境，这可以让这个包在任何项目使用，一般用于工具包。</li><li>--production 仅安装到生产环境</li><li>--no-save 安装的包但不会添加到 package.json 中的依赖项中。</li><li>--no-package-lock 安装包时不生成 package-lock.json 文件。</li></ol></blockquote></li><li><p><strong>browserslist</strong></p><blockquote><p>&quot;&gt; 1%&quot;：表示支持全球使用率超过 1% 的浏览器。 &quot;not ie 11&quot;：不支持 ie11。 &quot;not op_mini all&quot;：不支持所有版本的 Opera Mini 浏览器。</p></blockquote></li></ul><h3 id="重要字段补充" tabindex="-1">重要字段补充 <a class="header-anchor" href="#重要字段补充" aria-label="Permalink to &quot;重要字段补充&quot;">​</a></h3><p>除了 <code>element plus</code> 的 <code>package.json</code>中的字段外，还有一些常见以及重要的，下面做一补充：</p><ul><li><p><strong>scripts</strong></p><p>项目的脚本命令，这些命令可以通过 <code>npm run &lt;script-name&gt;</code> 来执行。</p></li><li><p><strong>bin</strong></p><p>指定命令以及对应执行文件路径。这些文件通常会有可执行权限，并且包含一些可以在命令行中运行的代码。例如：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;name&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;my-tool&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;version&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;1.0.1&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;bin&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;my-tool&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./bin/index.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  &quot;scripts&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;start&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;node index.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">  //...</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p><strong>files</strong></p><p>发布 npm 时指定需要上传的文件或者目录。如果你有少数不上传的文件，那可以创建一个.npmignore 文件（类似于.gitignore，但该文件不会上传 npm），去掉你不需要上传的文件，其余都上传。例如：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>node_modules</span></span>
<span class="line"><span>packages</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p><strong>engines</strong></p><p>当前包或者项目依赖的环境。有些项目所以来的包跟 npm 的版本或者 node 版本有要求，不符合版本的时候项目经常启动不起来，该文件只是说明该项目所需要的 node 版本，并非起到限制作用。</p></li></ul><h3 id="package-lock-json-npm-、pnpm-lock-yaml-pnpm" tabindex="-1">package-lock.json（npm）、pnpm-lock.yaml（pnpm） <a class="header-anchor" href="#package-lock-json-npm-、pnpm-lock-yaml-pnpm" aria-label="Permalink to &quot;package-lock.json（npm）、pnpm-lock.yaml（pnpm）&quot;">​</a></h3><p>这些文件会在首次使用 <code>npm</code>/<code>pnpm</code> 安装依赖的时候生成，用于锁定项目依赖的确切版本，包含主模块和所有依赖的子模块。主要用于避免由于依赖版本更新导致的不一致问题，保证是相同的依赖树。当我们更新某个包的版本的时候，同时也会修改 <code>package-lock.json</code>。 依赖项的存储方式有所不同，<code>pnpm</code> 使用“硬链接”来存储依赖项，而 <code>npm</code> 和 <code>yarn</code> 则复制依赖项到每个项目的 <code>node_modules</code> 目录中。</p><h3 id="依赖版本的管理" tabindex="-1">依赖版本的管理 <a class="header-anchor" href="#依赖版本的管理" aria-label="Permalink to &quot;依赖版本的管理&quot;">​</a></h3><p>一般版本号遵循 <a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noreferrer">semver</a> 版本规范，版本通常由三位构成：x.y.z。分别对应主版本号、次版本号、修订号。</p><ol><li>主版本号：该版本一般变化较大，可能不会兼容上个主版本的功能。</li><li>次版本号：在主版本的功能上进行更新，兼容同主版本的功能。</li><li>修订号：当修正了版本的 bug 之类</li></ol><ul><li><code>x.y.z</code>：安装指定的版本</li><li><code>^x.y.z</code>：安装最新的次版本或者修订版本，只要次版本号或者修订号更新，就会安装最新的包</li><li><code>~x.y.z</code>：安装最新的修订版本，只要修订号发生了变化，就会安装最新的包</li></ul>`,186)]))}const q=n(t,[["render",r]]);export{y as __pageData,q as default};
