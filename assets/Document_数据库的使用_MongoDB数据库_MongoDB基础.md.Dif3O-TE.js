import{_ as n,c as a,o as l,ah as p}from"./chunks/framework.DqD713j2.js";const e="/FrontEndLearnNotes/assets/1584877524411.DjqXGMG3.png",o="/FrontEndLearnNotes/assets/1584876662100.ipMIH4OJ.png",t="/FrontEndLearnNotes/assets/1584877675163.DVRyFtB6.png",r="/FrontEndLearnNotes/assets/1584877835658.CIT-7zW4.png",c="/FrontEndLearnNotes/assets/1584878095317.BdGpRxJs.png",i="/FrontEndLearnNotes/assets/1584879409036.CO5oqDbk.png",B="/FrontEndLearnNotes/assets/1584879582863.Cq5PC-BT.png",y="/FrontEndLearnNotes/assets/1584879685355.Cha-GCDD.png",u="/FrontEndLearnNotes/assets/1584879731549.C1txPmnx.png",d="/FrontEndLearnNotes/assets/1584883099949.DUMH7X8Y.png",b="/FrontEndLearnNotes/assets/1584883391699.JWexBegp.png",F="/FrontEndLearnNotes/assets/1584883478690.DoHY9n2r.png",A="/FrontEndLearnNotes/assets/1584883523057.Df83WCUg.png",m="/FrontEndLearnNotes/assets/1584883798685.BoisbmtJ.png",C="/FrontEndLearnNotes/assets/1584883984485.DR1vOPyP.png",E="/FrontEndLearnNotes/assets/1584884114315.FOVAkL8O.png",h="/FrontEndLearnNotes/assets/1584884531503.Djf3k57x.png",g="/FrontEndLearnNotes/assets/1584885071168.D8ojI3FU.png",w=JSON.parse('{"title":"MongoDB 基础","description":"","frontmatter":{},"headers":[],"relativePath":"Document/数据库的使用/MongoDB数据库/MongoDB基础.md","filePath":"Document/数据库的使用/MongoDB数据库/MongoDB基础.md","lastUpdated":1750954157000}'),q={name:"Document/数据库的使用/MongoDB数据库/MongoDB基础.md"};function f(v,s,x,D,k,$){return l(),a("div",null,s[0]||(s[0]=[p(`<h1 id="mongodb-基础" tabindex="-1">MongoDB 基础 <a class="header-anchor" href="#mongodb-基础" aria-label="Permalink to &quot;MongoDB 基础&quot;">​</a></h1><ul><li><p>MongoDB 是面向文档型的数据库（非关系型数据库）。</p></li><li><p>在 MySql 里面我们是一个个的数据表，但是在 MongoDB 里面是一个个的集合，集合里面是一个个的文档。</p></li><li><p>在 MySql 里面的数据表中是一行一行的数据，但是在 MongoDB 里面的文档中是一个对象的集合，每个对象类似一行的数据。</p></li><li><p>MongoDB 是以键值对的形式保存数据的。 MongoDB 是为快速开发互联网 Web 应用而设计的数据库系统。</p></li><li><p>MongoDB 的设计目标是极简、灵活、作为Web 应用栈的一部分。</p></li><li><p>MongoDB 的数据模型是面向文档的，所谓文档是一种类似于 JSON 的结构，简单理解MongoDB 这个数据库中存的是各种各样的JSON。（BSON）</p></li></ul><h2 id="概念" tabindex="-1">概念 <a class="header-anchor" href="#概念" aria-label="Permalink to &quot;概念&quot;">​</a></h2><p>数据库(database) 数据库是一个仓库，在仓库中可以存放集合</p><p>集合(collection) 集类似于数组，在集合中可以存放文档</p><p>文档(documnet) 文档是数据库中最小单位，我们存储和操作的内容都是文档</p><hr><p>MongoDB 相关 shell 命令文档：<a href="https://www.mongodb.com/docs/mongodb-shell/install/" target="_blank" rel="noreferrer">Install mongosh — MongoDB Shell</a></p><h2 id="基础-shell-命令" tabindex="-1">基础 shell 命令 <a class="header-anchor" href="#基础-shell-命令" aria-label="Permalink to &quot;基础 shell 命令&quot;">​</a></h2><p>数据库（查看、创建、选择、删除</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">查看存在的数据库：show</span><span style="color:#98C379;"> databases</span></span>
<span class="line"><span style="color:#61AFEF;">创建：有单独的语法，但是忽略</span><span style="color:#98C379;">  隐式创建</span></span>
<span class="line"><span style="color:#61AFEF;">切换到指定的数据库(无论数据库是否存在</span><span style="color:#98C379;"> 均可切换成功</span><span style="color:#ABB2BF;">)：use 数据库名</span></span>
<span class="line"><span style="color:#61AFEF;">删除：1通过use选中数据库，2通过db.dropDatabase</span><span style="color:#ABB2BF;">()删除数据库</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>集合（查看、创建、删除</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">查看当前所在的数据库：db</span></span>
<span class="line"><span style="color:#61AFEF;">查看当前数据库下的所有集合：show</span><span style="color:#98C379;"> collections</span></span>
<span class="line"><span style="color:#61AFEF;">查看当前数据库里的文档集合：db.getCollectionNames</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#61AFEF;">创建：db.createCollection(</span><span style="color:#61AFEF;">&#39;集合名&#39;</span><span style="color:#ABB2BF;">)     </span><span style="color:#7F848E;font-style:italic;"># 多学一招：忽略  后期插入数据 隐式创建集合</span></span>
<span class="line"><span style="color:#61AFEF;">删除：db.集合名.drop</span><span style="color:#ABB2BF;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="mongodb-数据库操作指令" tabindex="-1">MongoDB 数据库操作指令 <a class="header-anchor" href="#mongodb-数据库操作指令" aria-label="Permalink to &quot;MongoDB 数据库操作指令&quot;">​</a></h2><h3 id="基本指令" tabindex="-1">基本指令 <a class="header-anchor" href="#基本指令" aria-label="Permalink to &quot;基本指令&quot;">​</a></h3><ul><li><p>show dbs | show databases</p><ul><li>查看已经存在的数据库</li></ul></li><li><p>use 数据库名</p><ul><li>切换到指定的数据库(无论数据库是否存在 均可切换成功)</li></ul></li><li><p>db</p><ul><li>查看当前所在的数据库</li></ul></li><li><p>show collections</p><ul><li>查看当前数据库下的所有集合</li></ul></li><li><p>db.getCollectionNames()</p><ul><li>查看当前数据库里的文档集合</li></ul></li></ul><h3 id="数据库的-crud-操作-增删改查" tabindex="-1">数据库的 CRUD 操作 (增删改查) <a class="header-anchor" href="#数据库的-crud-操作-增删改查" aria-label="Permalink to &quot;数据库的 CRUD 操作 (增删改查)&quot;">​</a></h3><h4 id="插入数据" tabindex="-1">插入数据 <a class="header-anchor" href="#插入数据" aria-label="Permalink to &quot;插入数据&quot;">​</a></h4><h5 id="db-集合名-insert-文档" tabindex="-1">db.集合名.insert(文档) <a class="header-anchor" href="#db-集合名-insert-文档" aria-label="Permalink to &quot;db.集合名.insert(文档)&quot;">​</a></h5><ul><li><p>向指定的集合录入一条文档(如果集合不存在会自动创建)</p></li><li><p>db.users.insert({user:&quot;daotin&quot;,age:18})</p></li></ul><h5 id="插入多条数据或单条数据的其他写法" tabindex="-1">插入多条数据或单条数据的其他写法 <a class="header-anchor" href="#插入多条数据或单条数据的其他写法" aria-label="Permalink to &quot;插入多条数据或单条数据的其他写法&quot;">​</a></h5><ul><li><p>db.集合名.insertMany([文档 1,文档 2])</p><ul><li>插入多条数据</li></ul></li><li><p>db.集合名.insertOne(文档)</p><ul><li>插入单条数据</li></ul></li><li><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.users.insert([</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span><span style="color:#61AFEF;">username:</span><span style="color:#61AFEF;">&quot;马云&quot;</span><span style="color:#61AFEF;">,age:58,height:167,friends:[</span><span style="color:#61AFEF;">&quot;马化腾&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;许家印&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;雷军&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;李彦宏&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;柳传志&quot;</span><span style="color:#61AFEF;">]},</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span><span style="color:#61AFEF;">username:</span><span style="color:#61AFEF;">&quot;许家印&quot;</span><span style="color:#61AFEF;">,age:52,height:177,friends:[</span><span style="color:#61AFEF;">&quot;马化腾&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;雷军&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;柳传志&quot;</span><span style="color:#61AFEF;">]},</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span><span style="color:#61AFEF;">username:</span><span style="color:#61AFEF;">&quot;雷军&quot;</span><span style="color:#61AFEF;">,age:48,height:174,friends:[</span><span style="color:#61AFEF;">&quot;马化腾&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;董明珠&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;柳传志&quot;</span><span style="color:#61AFEF;">]},</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span><span style="color:#61AFEF;">username:</span><span style="color:#61AFEF;">&quot;雷德承&quot;</span><span style="color:#61AFEF;">,age:18,height:180,friends:[</span><span style="color:#61AFEF;">&quot;马化腾&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;王健林&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;柳传志&quot;</span><span style="color:#61AFEF;">]},</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span><span style="color:#61AFEF;">username:</span><span style="color:#61AFEF;">&quot;王思聪&quot;</span><span style="color:#61AFEF;">,age:32,height:179,friends:[</span><span style="color:#61AFEF;">&quot;林更新&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;林缓存&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;陈赫&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#61AFEF;">&quot;雷军&quot;</span><span style="color:#61AFEF;">]}</span></span>
<span class="line"><span style="color:#ABB2BF;">])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul><h5 id="插入说明" tabindex="-1">插入说明 <a class="header-anchor" href="#插入说明" aria-label="Permalink to &quot;插入说明&quot;">​</a></h5><ul><li><p>当我们向集合中插入文档时，如果没有给文档指定 <code>_id</code> 属性，则数据库会自动为文档添加<code>_id</code></p></li><li><p>该属性用来作为文档的唯一标识</p></li><li><p>_id 可以自己指定，如果我们指定了数据库就不会再添加了，如果自己指定_id 也必须确保它的唯一性</p></li><li><p>指定 id 属性值</p><ul><li><code>{&quot;_id&quot;:&quot;hello&quot;}</code></li></ul></li><li><p>生成_id 指令</p><ul><li><p>ObjectId()</p></li><li><p>没指定就自动生成</p></li></ul></li></ul><h4 id="查询语句" tabindex="-1">查询语句 <a class="header-anchor" href="#查询语句" aria-label="Permalink to &quot;查询语句&quot;">​</a></h4><h5 id="基本查询语句" tabindex="-1">基本查询语句 <a class="header-anchor" href="#基本查询语句" aria-label="Permalink to &quot;基本查询语句&quot;">​</a></h5><p>查询指定的集合内所有数据</p><ul><li><p>db.集合名.find()</p></li><li><p>db.users.find()</p><ul><li><p>示例结果</p></li><li><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">//</span><span style="color:#98C379;">{</span><span style="color:#98C379;"> &quot;_id&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> ObjectId</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&quot;5c18e0aef024bd18615cc516&quot;</span><span style="color:#ABB2BF;">)</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> &quot;user&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> &quot;daotin&quot;,</span><span style="color:#98C379;"> &quot;age&quot;</span><span style="color:#98C379;"> :</span><span style="color:#D19A66;"> 18</span><span style="color:#98C379;"> }</span></span>
<span class="line"><span style="color:#61AFEF;">//</span><span style="color:#98C379;">{</span><span style="color:#98C379;"> &quot;_id&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> ObjectId</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&quot;5c18e188dc1d4d80df2f4ae6&quot;</span><span style="color:#ABB2BF;">)</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> &quot;user&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> &quot;lvonve&quot;,</span><span style="color:#98C379;"> &quot;age&quot;</span><span style="color:#98C379;"> :</span><span style="color:#D19A66;"> 10</span><span style="color:#98C379;"> }</span></span>
<span class="line"><span style="color:#61AFEF;">//</span><span style="color:#98C379;">{</span><span style="color:#98C379;"> &quot;_id&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> ObjectId</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&quot;5c18e188dc1d4d80df2f4ae7&quot;</span><span style="color:#ABB2BF;">)</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> &quot;user&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> &quot;wenran&quot;,</span><span style="color:#98C379;"> &quot;age&quot;</span><span style="color:#98C379;"> :</span><span style="color:#D19A66;"> 20</span><span style="color:#98C379;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul><p>查询指定字段</p><ul><li><p>db.集合名.find({筛选条件},{显示字段})</p></li><li><p>db.users.find({age:18, user:&quot;haha&quot;})</p></li></ul><p>查询 显示和不显示字段</p><ul><li><p>显示的字段值为 1，不显示的字段值为 0</p></li><li><p>db.users.find({},{ _id:0, user:1 })</p></li></ul><p>查询集合中符合条件的第一个文档</p><ul><li><p>db.集合名.findOne()</p></li><li><p>db.users.findOne()</p></li></ul><h5 id="查询条件" tabindex="-1">查询条件 <a class="header-anchor" href="#查询条件" aria-label="Permalink to &quot;查询条件&quot;">​</a></h5><h6 id="筛选条件" tabindex="-1">筛选条件 <a class="header-anchor" href="#筛选条件" aria-label="Permalink to &quot;筛选条件&quot;">​</a></h6><ul><li><p>条件格式: 属性名:{条件操作符:值}</p></li><li><p>条件操作符</p><ul><li><p>$gt : 大于</p></li><li><p>$gte : 大于等于</p></li><li><p>$lt : 小于</p></li><li><p>$lte : 小于等于</p></li><li><p>$in : 包含其中任意一个 注意 $in 操作符的值必须为数组类型</p></li><li><p>$all : 包含所有 值同上,必须为数组类型</p></li><li><p>$nin : 不包含其中任意一个 值要求同上</p></li><li><p>$ne : 不等于</p></li><li><p>$not : 对已定义好的条件进行取反 {属性:{$not:{条件}}}</p></li><li><p>$mod : 取模 (取余) $mod:[x,y] 取所有除 x 余 y 的值</p></li></ul></li><li><p>示例</p><ul><li><p>db.users.find({age:{$gt:35}},{_id:0})</p><ul><li>// 筛选条件为年龄大于 35</li></ul></li><li><p>db.users.find({friends:{$in:[&quot;林更新&quot;]}},{_id:0})</p><ul><li>// 筛选条件为 friends 字段有林更新的。</li></ul></li><li><p>db.users.find({friends:{$in:[&quot;林更新&quot;,&quot;雷军&quot;]}},{_id:0})</p><ul><li>// 筛选条件为 friends 字段有林更新或者有雷军的。</li></ul></li><li><p>db.users.find({friends:{$all:[&quot;马化腾&quot;,&quot;雷军&quot;]}},{_id:0})</p><ul><li>// 筛选条件为 friends 字段同时包含马化腾和雷军</li></ul></li><li><p>db.users.find({friends:{$nin:[&quot;马化腾&quot;,&quot;雷军&quot;]}},{_id:0})</p><ul><li>// 筛选条件为 friends 字段不包含马化腾或者不包含雷军即可</li></ul></li><li><p>db.users.find({age:18},{_id:0})</p><ul><li>// 筛选条件为 age 为 18 的文档</li></ul></li><li><p>db.users.find({age:{$ne:18}},{_id:0})</p><ul><li>// 筛选条件为 age 不为 18 的文档</li></ul></li><li><p>db.users.find({age:{$ne:18}},{_id:0})</p><ul><li>// 筛选条件为 age 不为 18 的文档</li></ul></li><li><p>db.users.find({age:{$not:{$gt:18}}},{_id:0})</p><ul><li>// 筛选条件为年龄不大于 18</li></ul></li><li><p>db.users.find({age:{$mod:[3,0]}},{_id:0})</p><ul><li>// 筛选条件为 age/3 余数为 0 的文档</li></ul></li></ul></li></ul><h6 id="模糊查询" tabindex="-1">模糊查询 <a class="header-anchor" href="#模糊查询" aria-label="Permalink to &quot;模糊查询&quot;">​</a></h6><ul><li><p>文档</p><ul><li><a href="https://blog.csdn.net/comhaqs/article/details/23822479" target="_blank" rel="noreferrer">https://blog.csdn.net/comhaqs/article/details/23822479</a></li></ul></li><li><p>五种写法</p><ul><li><p>1、db.goods.find({name:/joe/ig})</p></li><li><p>2、db.goods.find({name:{$regex:/joe/ig}})</p></li><li><p>3、db.goods.find({goodsName:{$regex: &quot;joe&quot;, $options:&quot;ig&quot;}})</p></li><li><p>var reg = new RegExp(&quot;joe&quot;, &quot;ig&quot;);</p></li><li><p>4、db.goods.find({name:reg})</p></li><li><p>5、db.goods.find({name:{$regex:reg}})</p></li></ul></li></ul><h6 id="条件-且-和-或" tabindex="-1">条件“且”和“或” <a class="header-anchor" href="#条件-且-和-或" aria-label="Permalink to &quot;条件“且”和“或”&quot;">​</a></h6><ul><li><p>条件：且</p><ul><li><p>db.users.find({条件 1，条件 2},{_id:0})</p></li><li><p>// db.users.find({age:{$gt:35},friends:{$in:[&quot;雷军&quot;]}},{_id:0}) // 年龄大于 35，并且 friends 中有雷军的</p></li></ul></li><li><p>条件：或</p><ul><li><p>db.users.find({$or:[{条件 1},{条件 2}]},{_id:0})</p></li><li><p>// db.users.find({$or:[{age:{$gt:35}},{friends:{$in:[&quot;雷军&quot;]}}]},{_id:0}) // 年龄大于 35，或者 friends 中有雷军的</p></li></ul></li><li><p>条件：且和或都有</p><ul><li><p>db.users.find({条件 1,$or:[{条件 2},{条件 3}]},{_id:0})</p><ul><li>// 满足条件 1，并且满足条件 2 或者条件 3 中的一个</li></ul></li><li><p>db.users.find({age:{$gt:30},$or:[{height:{$lt:175}},{friends:{$in:[&quot;许家印&quot;]}}]},{_id:0})</p><ul><li>// 年龄大于 30 ，并且身高小于 175 或者认识许家印</li></ul></li></ul></li></ul><h6 id="其他条件操作" tabindex="-1">其他条件操作 <a class="header-anchor" href="#其他条件操作" aria-label="Permalink to &quot;其他条件操作&quot;">​</a></h6><ul><li><p>find().limit(n)</p><ul><li><p>//取满足条件的头 n 条数据</p></li><li><p>分页使用</p></li></ul></li><li><p>find().skip(n)</p><ul><li><p>//跳过 n 条数据再取数据</p></li><li><p>分页使用</p></li></ul></li><li><p>find().count()</p><ul><li>//对满足条件的数据进行计数</li></ul></li><li><p>find().sort({第一排序条件,第二排序条件,.....})</p><ul><li>//按照属性进行排序</li></ul></li><li><p>find().skip(m).limit(n)</p><ul><li>//跳过 m 条数据 再取头 n 条数据 (调用顺序没有讲究,但是作用效果均为先跳过数据再取数据)</li></ul></li><li><p>示例</p><ul><li><p>db.users.find({},{_id:0}).limit(3)</p><ul><li>// 取 users 集合中所有文档的前 3 个</li></ul></li><li><p>db.users.find({},{_id:0}).limit(3).skip(3)</p><ul><li>// 取 users 集合中敲过前三个后取目前文档的前 3 个</li></ul></li><li><p>db.users.find({},{_id:0,age:1}).sort({age:1})</p><ul><li>// 按照年龄升序排列（正数为升序）</li></ul></li><li><p>db.users.find({},{_id:0,age:1}).sort({age:-1})</p><ul><li>// 按照年龄降序排列（负数为升序）</li></ul></li><li><p>db.users.find({},{_id:0,age:1,height:1}).sort({age:1,height:1})</p><ul><li>// 按照年龄升序排列，如果年龄相同，按照身高升序排列</li></ul></li><li><p>db.users.find({age:{$gt:35}},{_id:0}).count((err,count)=&gt;{console.log(count)})</p><ul><li>// 统计年龄大于 35 岁的文档个数</li></ul></li><li><p>设计翻页</p><ul><li>db.users.find().limit(y).skip((x-1)*y)</li></ul></li></ul></li></ul><h4 id="修改语句" tabindex="-1">修改语句 <a class="header-anchor" href="#修改语句" aria-label="Permalink to &quot;修改语句&quot;">​</a></h4><h5 id="基本语法" tabindex="-1">基本语法 <a class="header-anchor" href="#基本语法" aria-label="Permalink to &quot;基本语法&quot;">​</a></h5><ul><li><p>db.users.update(查询条件,新对象)</p><ul><li><p>默认情况下会使用新对象来替换旧的对象</p></li><li><p>如果修改指定的属性，而不是替换需要使用“修改操作符”来完成修改</p></li><li><p>修改一个符合条件的文档</p></li></ul></li><li><p>db.集合名.update(query,{修改器:{属性:值}},option)</p><ul><li><p>option 为可选参数, 为对象类型，其下有两个属性： <code>multi</code> : 布尔值，是否修改所有符合条件的数据，默认 false <code>upsert</code> : 布尔值，当没有符合条件的数据时，是否创建该数据，默认 false</p></li><li><p>db.users.update({&quot;user&quot;:&quot;ahah&quot;},{ $修改器:{age:18}},{multi: true})</p><ul><li>同时修改多个符合条件的文档</li></ul></li></ul></li><li><p>db.集合名.updateOne()</p><ul><li>修改一个符合条件的文档</li></ul></li><li><p>db.集合名.updateMany()</p><ul><li>同时修改多个符合条件的文档</li></ul></li><li><p>db.集合名.replaceOne()</p><ul><li>替换一个符合条件的文档</li></ul></li></ul><h5 id="修改器" tabindex="-1">修改器 <a class="header-anchor" href="#修改器" aria-label="Permalink to &quot;修改器&quot;">​</a></h5><ul><li><p>属性</p><ul><li><p>$set</p><ul><li>对文档指定属性重新赋值</li></ul></li><li><p>$inc</p><ul><li>对文档指定值进行叠加(值为正)或递减(值为负) 适用于数字类型的值</li></ul></li><li><p>$unset</p><ul><li>删除文档的指定属性(包括属性名及属性值)</li></ul></li></ul></li><li><p>示例</p><ul><li><p>db.users.update({username:&quot;马云&quot;},{$set:{age:55}})</p><ul><li>设置 username 为”马云“文档的 age 为 55</li></ul></li><li><p>db.users.update({username:&quot;马云&quot;},{$inc:{age:2}}))</p><ul><li>设置 username 为”马云“的 age 在原来的基础上+2，如果是-2 的话是减 2</li></ul></li><li><p>db.users.update({username:&quot;马云&quot;},{$unset:{age:1}})</p><ul><li>删除 username 为”马云“的 age 属性，这里 age 设置的值可以任意。</li></ul></li></ul></li></ul><h5 id="数组修改器" tabindex="-1">数组修改器 <a class="header-anchor" href="#数组修改器" aria-label="Permalink to &quot;数组修改器&quot;">​</a></h5><ul><li><p>属性</p><ul><li><p>$push : 给数组类型的值添加一个新元素</p></li><li><p>$addToSet : 给数组类型的值添加一个新元素 (该方法不会重复添加已经存在的值,同时也不会影响原来已经存在的重复值)</p></li><li><p>$pop : 从尾部删除一条数据 (值的大小不会对结果产生影响 永远只会操作一条数据) (值为正 从尾部删除一条数据 值为负 从头部删除一条数据)</p></li><li><p>$pull : 按条件删除数组内元素 {$pull:{属性:值}} 删除指定值的元素</p></li></ul></li><li><p>示例</p><ul><li><p>db.users.update({username:&quot;马云&quot;},{$push:{friends:&quot;Daotin&quot;}})</p><ul><li>给马云的 friends 属性的最后增加一个值“Daotin”</li></ul></li><li><p>db.users.update({username:&quot;马云&quot;},{$pop:{friends:0}})</p><ul><li>给马云的 friends 属性从最后删除一个值。这里指令 friends 的值可随意。</li></ul></li><li><p>db.users.update({username:&quot;马云&quot;},{$pull:{friends:&quot;林更新&quot;}})</p><ul><li>删除马云的 friends 属性中的林更新</li></ul></li></ul></li></ul><h5 id="注意" tabindex="-1">注意： <a class="header-anchor" href="#注意" aria-label="Permalink to &quot;注意：&quot;">​</a></h5><ul><li>在默认情况下，修改操作只会操作第一条符合条件的数据。</li></ul><h4 id="删除语句" tabindex="-1">删除语句 <a class="header-anchor" href="#删除语句" aria-label="Permalink to &quot;删除语句&quot;">​</a></h4><h5 id="db-集合名-remove-query-option" tabindex="-1">db.集合名.remove(query,option) <a class="header-anchor" href="#db-集合名-remove-query-option" aria-label="Permalink to &quot;db.集合名.remove(query,option)&quot;">​</a></h5><ul><li><p>注意</p><ul><li>默认情况下 会删除所有符合条件的数据</li></ul></li><li><p>option：为可选参数，为对象类型属性</p><ul><li>justOne <ul><li>是否只删除第一条符合条件的数据，默认 false</li></ul></li></ul></li><li><p>示例</p><ul><li><p>db.users.remove({user:&quot;lvonve&quot;})</p><ul><li>删除 user 属性值为 lvonve 的所有文档</li></ul></li><li><p>db.users.remove({user:&quot;lvonve&quot;},{justOne: true})</p><ul><li>删除 user 属性值为 lvonve 的第一个文档</li></ul></li></ul></li></ul><h5 id="db-集合名-deleteone" tabindex="-1">db.集合名.deleteOne() <a class="header-anchor" href="#db-集合名-deleteone" aria-label="Permalink to &quot;db.集合名.deleteOne()&quot;">​</a></h5><ul><li>删除一个符合条件的数据</li></ul><h5 id="db-集合名-deletemany" tabindex="-1">db.集合名.deleteMany() <a class="header-anchor" href="#db-集合名-deletemany" aria-label="Permalink to &quot;db.集合名.deleteMany()&quot;">​</a></h5><ul><li>删除多个符合条件的数据</li></ul><h5 id="db-集合名-drop" tabindex="-1">db.集合名.drop() <a class="header-anchor" href="#db-集合名-drop" aria-label="Permalink to &quot;db.集合名.drop()&quot;">​</a></h5><ul><li><p>清空删除集合</p></li><li><p>db.users.drop()</p></li></ul><h5 id="说明" tabindex="-1">说明 <a class="header-anchor" href="#说明" aria-label="Permalink to &quot;说明&quot;">​</a></h5><ul><li>公司数据一般不使用删除语句，一般使用一个字段来标识这段数据是否删除（虚拟删除），使用 0 和 1 或者 布尔值 表示是否删除</li></ul><h2 id="mongodb-文档增删修查-curd" tabindex="-1">MongoDB 文档增删修查（CURD） <a class="header-anchor" href="#mongodb-文档增删修查-curd" aria-label="Permalink to &quot;MongoDB 文档增删修查（CURD）&quot;">​</a></h2><h3 id="c-增" tabindex="-1">#C 增 <a class="header-anchor" href="#c-增" aria-label="Permalink to &quot;#C 增&quot;">​</a></h3><p>**语法：**db.集合名.insert(JSON 数据)</p><p>**说明：**集合存在-则直接插入数据，集合不存在-隐式创建</p><p>**练习：**在 test2 数据库的 c1 集合中插入数据（姓名叫 webopenfather 年龄 18 岁）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">use</span><span style="color:#98C379;"> test2</span></span>
<span class="line"><span style="color:#61AFEF;">db.c1.insert(</span><span style="color:#98C379;">{uname:</span><span style="color:#61AFEF;">&quot;webopenfather&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#98C379;"> age:18}</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">留心1：数据库和集合不存在都隐式创建</span></span>
<span class="line"><span style="color:#61AFEF;">留心2：对象的键统一不加引号方便看，但是查看集合数据时系统会自动加</span></span>
<span class="line"><span style="color:#61AFEF;">留心3：mongodb会给每条数据增加一个全球唯一的_id键</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="`+e+'" alt="1584877524411"></p><p>多学一招：_id 的组成</p><p><img src="'+o+'" alt="1584876662100"></p><p><strong>思考 1：是否可以自定义_id 值？</strong></p><blockquote><p>回答：可以，只需要给插入的 JSON 数据增加_id 键即可覆盖（但实战强烈不推荐</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.c1.insert(</span><span style="color:#98C379;">{_id:1,</span><span style="color:#98C379;"> uname:&quot;webopenfather&quot;,</span><span style="color:#98C379;"> age:18}</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><img src="'+t+`" alt="1584877675163"></p><p><strong>思考 2：如何一次性插入多条记录？</strong></p><blockquote><p>回答：传递数据，数组中写一个个 JSON 数据即可</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">    db.c1.insert([</span></span>
<span class="line"><span style="color:#ABB2BF;">        {</span><span style="color:#61AFEF;">uname:</span><span style="color:#61AFEF;">&quot;z3&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#98C379;"> age:3},</span></span>
<span class="line"><span style="color:#ABB2BF;">        {</span><span style="color:#61AFEF;">uname:</span><span style="color:#61AFEF;">&quot;z4&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#98C379;"> age:4},</span></span>
<span class="line"><span style="color:#ABB2BF;">        {</span><span style="color:#61AFEF;">uname:</span><span style="color:#61AFEF;">&quot;w5&quot;</span><span style="color:#61AFEF;">,</span><span style="color:#98C379;"> age:5}</span></span>
<span class="line"><span style="color:#ABB2BF;">    ])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>含义：一次性插入 3 条数据到 c1 集合</p></blockquote><p><img src="`+r+`" alt="1584877835658"></p><p><strong>思考 3：如何快速插入 10 条数据</strong>：</p><blockquote><p>回答：mongodb 底层使用 JS 引擎实现的，所以支持部分 js 语法</p><p>因此：可以写 for 循环</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;">	print</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 需求：在test2数据库c2集合中插入10条数据，分别为 a1 a2 ... a10</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// use test2</span></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">	db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">c2</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">insert</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">uanme</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> i</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></blockquote><p><img src="`+c+`" alt="1584878095317"></p><h3 id="r-查" tabindex="-1">#R 查 <a class="header-anchor" href="#r-查" aria-label="Permalink to &quot;#R 查&quot;">​</a></h3><h4 id="基本查询语句-1" tabindex="-1">基本查询语句 <a class="header-anchor" href="#基本查询语句-1" aria-label="Permalink to &quot;基本查询语句&quot;">​</a></h4><h5 id="查询指定的集合内所有数据" tabindex="-1">查询指定的集合内所有数据 <a class="header-anchor" href="#查询指定的集合内所有数据" aria-label="Permalink to &quot;查询指定的集合内所有数据&quot;">​</a></h5><p>db.集合名.find()</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>示例结果</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">//</span><span style="color:#98C379;">{</span><span style="color:#98C379;"> &quot;_id&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> ObjectId</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&quot;5c18e0aef024bd18615cc516&quot;</span><span style="color:#ABB2BF;">)</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> &quot;user&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> &quot;daotin&quot;,</span><span style="color:#98C379;"> &quot;age&quot;</span><span style="color:#98C379;"> :</span><span style="color:#D19A66;"> 18</span><span style="color:#98C379;"> }</span></span>
<span class="line"><span style="color:#61AFEF;">//</span><span style="color:#98C379;">{</span><span style="color:#98C379;"> &quot;_id&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> ObjectId</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&quot;5c18e188dc1d4d80df2f4ae6&quot;</span><span style="color:#ABB2BF;">)</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> &quot;user&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> &quot;lvonve&quot;,</span><span style="color:#98C379;"> &quot;age&quot;</span><span style="color:#98C379;"> :</span><span style="color:#D19A66;"> 10</span><span style="color:#98C379;"> }</span></span>
<span class="line"><span style="color:#61AFEF;">//</span><span style="color:#98C379;">{</span><span style="color:#98C379;"> &quot;_id&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> ObjectId</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&quot;5c18e188dc1d4d80df2f4ae7&quot;</span><span style="color:#ABB2BF;">)</span><span style="color:#98C379;">,</span><span style="color:#98C379;"> &quot;user&quot;</span><span style="color:#98C379;"> :</span><span style="color:#98C379;"> &quot;wenran&quot;,</span><span style="color:#98C379;"> &quot;age&quot;</span><span style="color:#98C379;"> :</span><span style="color:#D19A66;"> 20</span><span style="color:#98C379;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="查询指定字段" tabindex="-1">查询指定字段 <a class="header-anchor" href="#查询指定字段" aria-label="Permalink to &quot;查询指定字段&quot;">​</a></h5><p>db.集合名.find({筛选条件},{显示字段})</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">user</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;haha&quot;</span><span style="color:#ABB2BF;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="查询-显示和不显示字段" tabindex="-1">查询 显示和不显示字段 <a class="header-anchor" href="#查询-显示和不显示字段" aria-label="Permalink to &quot;查询 显示和不显示字段&quot;">​</a></h5><p>显示的字段值为 1，不显示的字段值为 0</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({}, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">user</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="查询集合中符合条件的第一个文档" tabindex="-1">查询集合中符合条件的第一个文档 <a class="header-anchor" href="#查询集合中符合条件的第一个文档" aria-label="Permalink to &quot;查询集合中符合条件的第一个文档&quot;">​</a></h5><p>db.集合名.findOne()</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findOne</span><span style="color:#ABB2BF;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="运算符" tabindex="-1">运算符 <a class="header-anchor" href="#运算符" aria-label="Permalink to &quot;运算符&quot;">​</a></h5><table tabindex="0"><thead><tr><th style="text-align:center;">运算符</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">$gt</td><td style="text-align:left;">大于</td></tr><tr><td style="text-align:center;">$gte</td><td style="text-align:left;">大于等于</td></tr><tr><td style="text-align:center;">$lt</td><td style="text-align:left;">小于</td></tr><tr><td style="text-align:center;">$lte</td><td style="text-align:left;">小于等于</td></tr><tr><td style="text-align:center;">$ne</td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;">$in</td><td style="text-align:left;">in</td></tr><tr><td style="text-align:center;">$nin</td><td style="text-align:left;">not in</td></tr></tbody></table><h4 id="查询条件-1" tabindex="-1">查询条件 <a class="header-anchor" href="#查询条件-1" aria-label="Permalink to &quot;查询条件&quot;">​</a></h4><h5 id="筛选条件-1" tabindex="-1">筛选条件 <a class="header-anchor" href="#筛选条件-1" aria-label="Permalink to &quot;筛选条件&quot;">​</a></h5><p>条件格式: 属性名:{条件操作符:值}</p><p>条件操作符</p><table tabindex="0"><thead><tr><th style="text-align:center;">条件操作符</th><th style="text-align:center;">值</th></tr></thead><tbody><tr><td style="text-align:center;">$gt</td><td style="text-align:center;">大于</td></tr><tr><td style="text-align:center;">$gte</td><td style="text-align:center;">大于等于</td></tr><tr><td style="text-align:center;">$lt</td><td style="text-align:center;">小于</td></tr><tr><td style="text-align:center;">$lte</td><td style="text-align:center;">小于等于</td></tr><tr><td style="text-align:center;">$in</td><td style="text-align:center;">包含其中任意一个 注意 $in 操作符的值必须为数组类型</td></tr><tr><td style="text-align:center;">$all</td><td style="text-align:center;">包含所有 值同上,必须为数组类型</td></tr><tr><td style="text-align:center;">$nin</td><td style="text-align:center;">不包含其中任意一个 值要求同上</td></tr><tr><td style="text-align:center;">$ne</td><td style="text-align:center;">不等于</td></tr><tr><td style="text-align:center;">$not</td><td style="text-align:center;">对已定义好的条件进行取反 {属性:{$not:{条件}}}</td></tr><tr><td style="text-align:center;">$mod</td><td style="text-align:center;">取模 (取余) $mod:[x,y] 取所有除 x 余 y 的值</td></tr></tbody></table><p>示例</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$gt</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">35</span><span style="color:#ABB2BF;"> } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为年龄大于35</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$in</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;林更新&quot;</span><span style="color:#ABB2BF;">] } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为friends字段有林更新的。</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$in</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;林更新&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;雷军&quot;</span><span style="color:#ABB2BF;">] } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为friends字段有林更新或者有雷军的。</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$all</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;马化腾&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;雷军&quot;</span><span style="color:#ABB2BF;">] } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为friends字段同时包含马化腾和雷军</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$nin</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;马化腾&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;雷军&quot;</span><span style="color:#ABB2BF;">] } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为friends字段不包含马化腾或者不包含雷军即可</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为age为18的文档</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$ne</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为age不为18的文档</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$ne</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为age不为18的文档</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$not</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$gt</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> } } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为年龄不大于18</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$mod</span><span style="color:#ABB2BF;">: [</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">] } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// 筛选条件为age/3余数为0的文档</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="模糊查询-1" tabindex="-1">模糊查询 <a class="header-anchor" href="#模糊查询-1" aria-label="Permalink to &quot;模糊查询&quot;">​</a></h5><p>文档：<a href="https://blog.csdn.net/comhaqs/article/details/23822479" target="_blank" rel="noreferrer">https://blog.csdn.net/comhaqs/article/details/23822479</a></p><p>五种写法</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">、</span></span>
<span class="line"><span style="color:#E5C07B;">    db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">goods</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span style="color:#E06C75;">/joe/</span><span style="color:#C678DD;">ig</span><span style="color:#ABB2BF;">})</span></span>
<span class="line"><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">、</span></span>
<span class="line"><span style="color:#E5C07B;">    db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">goods</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">$regex</span><span style="color:#ABB2BF;">:</span><span style="color:#E06C75;">/joe/</span><span style="color:#C678DD;">ig</span><span style="color:#ABB2BF;">}})</span></span>
<span class="line"><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">、</span></span>
<span class="line"><span style="color:#E5C07B;">    db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">goods</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">goodsName</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">$regex</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;joe&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">$options</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;ig&quot;</span><span style="color:#ABB2BF;">}})</span></span>
<span class="line"><span style="color:#C678DD;">	var</span><span style="color:#E06C75;"> reg</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> RegExp</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;joe&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;ig&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">、</span></span>
<span class="line"><span style="color:#E5C07B;">    db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">goods</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span style="color:#E06C75;">reg</span><span style="color:#ABB2BF;">})</span></span>
<span class="line"><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">、</span></span>
<span class="line"><span style="color:#E5C07B;">    db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">goods</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">$regex</span><span style="color:#ABB2BF;">:</span><span style="color:#E06C75;">reg</span><span style="color:#ABB2BF;">}})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="条件-且-和-或-1" tabindex="-1">条件“且”和“或” <a class="header-anchor" href="#条件-且-和-或-1" aria-label="Permalink to &quot;条件“且”和“或”&quot;">​</a></h5><p>条件：且</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({条件1，</span><span style="color:#E06C75;">条件2</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">})</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// db.users.find({age:{$gt:35},friends:{$in:[&quot;雷军&quot;]}},{_id:0})</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 年龄大于35，并且friends中有雷军的</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>条件：或</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">$or</span><span style="color:#ABB2BF;">: [{ </span><span style="color:#E06C75;">条件1</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">条件2</span><span style="color:#ABB2BF;"> }] }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// db.users.find({$or:[{age:{$gt:35}},{friends:{$in:[&quot;雷军&quot;]}}]},{_id:0})</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 年龄大于35，或者friends中有雷军的</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>条件：且和或都有</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 满足条件1，并且满足条件2或者条件3中的一个</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">条件1</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">$or</span><span style="color:#ABB2BF;">: [{ </span><span style="color:#E06C75;">条件2</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">条件3</span><span style="color:#ABB2BF;"> }] }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 年龄大于30 ，并且身高小于175或者认识许家印</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">	{</span></span>
<span class="line"><span style="color:#E06C75;">		age</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$gt</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">30</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#E06C75;">		$or</span><span style="color:#ABB2BF;">: [{ </span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$lt</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">175</span><span style="color:#ABB2BF;"> } }, { </span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$in</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;许家印&quot;</span><span style="color:#ABB2BF;">] } }],</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }</span></span>
<span class="line"><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="其他条件操作-1" tabindex="-1">其他条件操作 <a class="header-anchor" href="#其他条件操作-1" aria-label="Permalink to &quot;其他条件操作&quot;">​</a></h5><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">().limit(</span><span style="color:#61AFEF;">n</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">	//</span><span style="color:#98C379;"> 取满足条件的头n条数据</span></span>
<span class="line"><span style="color:#61AFEF;">	分页使用</span></span>
<span class="line"><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">().skip(</span><span style="color:#61AFEF;">n</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">	//</span><span style="color:#98C379;"> 跳过n条数据再取数据</span></span>
<span class="line"><span style="color:#61AFEF;">	分页使用</span></span>
<span class="line"><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">()</span><span style="color:#61AFEF;">.count</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#61AFEF;">	//</span><span style="color:#98C379;"> 对满足条件的数据进行计数</span></span>
<span class="line"><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">().sort({第一排序条件,第二排序条件,.....})</span></span>
<span class="line"><span style="color:#61AFEF;">	 /</span><span style="color:#98C379;"> /按照属性进行排序</span></span>
<span class="line"><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">().skip(</span><span style="color:#61AFEF;">m</span><span style="color:#ABB2BF;">).limit(</span><span style="color:#61AFEF;">n</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">	//</span><span style="color:#98C379;"> 跳过m条数据</span><span style="color:#98C379;"> 再取头n条数据</span><span style="color:#ABB2BF;"> (调用顺序没有讲究,但是作用效果均为先跳过数据再取数据)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>示例</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({}, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }).</span><span style="color:#61AFEF;">limit</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 取users集合中所有文档的前3个</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({}, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }).</span><span style="color:#61AFEF;">limit</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">skip</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 取users集合中敲过前三个后取目前文档的前3个</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({}, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> }).</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 按照年龄升序排列（正数为升序）</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({}, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> }).</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 按照年龄降序排列（负数为升序）</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({}, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> }).</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 按照年龄升序排列，如果年龄相同，按照身高升序排列</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">$gt</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">35</span><span style="color:#ABB2BF;"> } }, { </span><span style="color:#E06C75;">_id</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> }).</span><span style="color:#61AFEF;">count</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">err</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">count</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">	console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">count</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 统计年龄大于35岁的文档个数</span></span>
<span class="line"><span style="color:#E06C75;">设计翻页</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">users</span></span>
<span class="line"><span style="color:#ABB2BF;">	.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">	.</span><span style="color:#61AFEF;">limit</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">	.</span><span style="color:#61AFEF;">skip</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#E06C75;"> y</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>练习 1：查询所有数据</strong>：</p><p><img src="`+i+'" alt="1584879409036"></p><p><strong>练习 2：查询年龄大于 5 岁的数据？</strong></p><p><img src="'+B+'" alt="1584879582863"></p><p><strong>练习 3：查询年龄是 5 岁、8 岁、10 岁的数据？</strong></p><p><img src="'+y+'" alt="1584879685355"></p><p><strong>练习 3：只看年龄列，或者年龄以外的列（_id 别管它）？</strong></p><p><img src="'+u+`" alt="1584879731549"></p><h3 id="u-改" tabindex="-1">#U 改 <a class="header-anchor" href="#u-改" aria-label="Permalink to &quot;#U 改&quot;">​</a></h3><p><strong>基础语法：</strong> db.集合名.update（条件， 新数据 [,是否新增，是否修改多条]）</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">查询条件</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">新对象</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;">	默认情况下会使用新对象来替换旧的对象</span></span>
<span class="line"><span style="color:#E06C75;">	如果修改指定的属性</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">而不是替换需要使用</span><span style="color:#ABB2BF;">“</span><span style="color:#E06C75;">修改操作符</span><span style="color:#ABB2BF;">”</span><span style="color:#E06C75;">来完成修改</span></span>
<span class="line"><span style="color:#E06C75;">	修改一个符合条件的文档</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">query</span><span style="color:#ABB2BF;">,{</span><span style="color:#E06C75;">修改器</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">属性</span><span style="color:#ABB2BF;">:</span><span style="color:#E06C75;">值</span><span style="color:#ABB2BF;">}},</span><span style="color:#E06C75;">option</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;">	option</span><span style="color:#E06C75;"> 为可选参数</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">为对象类型</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">其下有两个属性</span><span style="color:#ABB2BF;">：</span></span>
<span class="line"><span style="color:#E06C75;">    multi</span><span style="color:#ABB2BF;"> : </span><span style="color:#E06C75;">布尔值</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">是否修改所有符合条件的数据</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">默认false</span></span>
<span class="line"><span style="color:#E06C75;">    upsert</span><span style="color:#ABB2BF;"> : </span><span style="color:#E06C75;">布尔值</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">当没有符合条件的数据时</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">是否创建该数据</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">默认false</span></span>
<span class="line"><span style="color:#E5C07B;">	db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">({</span><span style="color:#98C379;">&quot;user&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;ahah&quot;</span><span style="color:#ABB2BF;">},{ </span><span style="color:#E06C75;">$修改器</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">}},{</span><span style="color:#E06C75;">multi</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">})</span></span>
<span class="line"><span style="color:#E06C75;">		同时修改多个符合条件的文档</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">updateOne</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#E06C75;">	修改一个符合条件的文档</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">updateMany</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#E06C75;">	同时修改多个符合条件的文档</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">replaceOne</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#E06C75;">	替换一个符合条件的文档</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>说明</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">是否新增：指条件匹配不到数据则插入(true是插入，false否不插入默认</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">是否修改多条：指将匹配成功的数据都修改（true是，false否默认）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>升级语法</strong>：</p><p>说明：</p><p>是否新增：指匹配不到数据则插入（true-是插入，false-否不插入默认）</p><p>是否修改多条：将匹配成功的数据都修改（true-是，false-否默认）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.集合名.update（条件，</span><span style="color:#98C379;"> 新数据）</span></span>
<span class="line"><span style="color:#ABB2BF;">                      {</span><span style="color:#61AFEF;">修改器:</span><span style="color:#98C379;"> {键:值}}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><table tabindex="0"><thead><tr><th style="text-align:center;">修改器</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">$inc</td><td style="text-align:left;">递增：对文档指定值进行叠加(值为正)或递减(值为负) 适用于数字类型的值</td></tr><tr><td style="text-align:center;">$rename</td><td style="text-align:left;">重命名列</td></tr><tr><td style="text-align:center;">$set</td><td style="text-align:left;">修改列值：对文档指定属性重新赋值</td></tr><tr><td style="text-align:center;">$unset</td><td style="text-align:left;">删除列：删除文档的指定属性(包括属性名及属性值)</td></tr></tbody></table><p>示例：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;马云&quot;</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">$set</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">55</span><span style="color:#ABB2BF;">}})</span></span>
<span class="line"><span style="color:#E06C75;">	设置username为</span><span style="color:#ABB2BF;">”</span><span style="color:#E06C75;">马云</span><span style="color:#ABB2BF;">“</span><span style="color:#E06C75;">文档的</span><span style="color:#E06C75;"> age为55</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;马云&quot;</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">$inc</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">}}))</span></span>
<span class="line"><span style="color:#E06C75;">	设置username为</span><span style="color:#ABB2BF;">”</span><span style="color:#E06C75;">马云</span><span style="color:#ABB2BF;">“</span><span style="color:#E06C75;">的age在原来的基础上</span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">如果是</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">2</span><span style="color:#E06C75;">的话是减2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;马云&quot;</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">$unset</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">age</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">}})</span></span>
<span class="line"><span style="color:#E06C75;">	删除username为</span><span style="color:#ABB2BF;">”</span><span style="color:#E06C75;">马云</span><span style="color:#ABB2BF;">“</span><span style="color:#E06C75;">的age属性</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">这里age设置的值可以任意</span><span style="color:#ABB2BF;">。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>数组修改器</p><table tabindex="0"><thead><tr><th style="text-align:center;">数组修改器</th><th style="text-align:center;">值说明</th></tr></thead><tbody><tr><td style="text-align:center;">$push</td><td style="text-align:center;">给数组类型的值添加一个新元素</td></tr><tr><td style="text-align:center;">$addToSet</td><td style="text-align:center;">给数组类型的值添加一个新元素 (该方法不会重复添加已经存在的值,同时也不会影响原来已经存在的重复值)</td></tr><tr><td style="text-align:center;">$pop</td><td style="text-align:center;">从尾部删除一条数据 (值的大小不会对结果产生影响 永远只会操作一条数据) (值为正 从尾部删除一条数据 值为负 从头部删除一条数据)</td></tr><tr><td style="text-align:center;">$pull</td><td style="text-align:center;">按条件删除数组内元素 {$pull:{属性:值}} 删除指定值的元素</td></tr></tbody></table><p>数组修改器示例：</p><p>在默认情况下，修改操作只会操作第一条符合条件的数据。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;马云&quot;</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">$push</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;Daotin&quot;</span><span style="color:#ABB2BF;">}})</span></span>
<span class="line"><span style="color:#E06C75;">	给马云的friends属性的最后增加一个值</span><span style="color:#ABB2BF;">“</span><span style="color:#E06C75;">Daotin</span><span style="color:#ABB2BF;">”</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;马云&quot;</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">$pop</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">}})</span></span>
<span class="line"><span style="color:#E06C75;">	给马云的friends属性从最后删除一个值</span><span style="color:#ABB2BF;">。</span><span style="color:#E06C75;">这里指令friends的值可随意</span><span style="color:#ABB2BF;">。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">update</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;马云&quot;</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">$pull</span><span style="color:#ABB2BF;">:{</span><span style="color:#E06C75;">friends</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;林更新&quot;</span><span style="color:#ABB2BF;">}})</span></span>
<span class="line"><span style="color:#E06C75;">	删除马云的friends属性中的林更新</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>准备工作</strong>：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E06C75;">use</span><span style="color:#E06C75;"> test2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">&lt;=</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#E5C07B;">    db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">c3</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">insert</span><span style="color:#ABB2BF;">( {</span><span style="color:#98C379;">&quot;uname&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;zs&quot;</span><span style="color:#56B6C2;">+</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&quot;age&quot;</span><span style="color:#ABB2BF;">:</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">} );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>练习 1：将{uname:</strong>&quot;<strong>zs1</strong>&quot;<strong>}改为{uname:</strong>&quot;<strong>zs2</strong>&quot;<strong>}</strong></p><p><img src="`+d+'" alt="1584883099949"></p><blockquote><p>发现：默认不是修改，而是替换</p><p>解决：使用升级语法 修改器</p><p>需求：使用修改器将 zs4 的姓名改为 zs44</p><p>语法：db.c3.update({uname:&quot;zs4&quot;}, {$set: {uname: &quot;zs44&quot;}})</p></blockquote><p><img src="'+b+'" alt="1584883391699"></p><p><strong>练习 2：给{uname:</strong>&quot;<strong>zs10</strong>&quot;<strong>}的年龄加 2 岁或者减 2 岁</strong></p><p><img src="'+F+'" alt="1584883478690"></p><p><img src="'+A+`" alt="1584883523057"></p><p><strong>练习 3：修改器综合练习</strong> ：</p><p>插入数据：db.c4.insert( {uname:&quot;神龙教主&quot;,age:888,who:&quot;男&quot;,other:&quot;非国人&quot;});</p><blockquote><p>完成需求：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">uname</span><span style="color:#98C379;">  改成</span><span style="color:#98C379;">   webopenfather</span><span style="color:#ABB2BF;">      (修改器：$set）</span></span>
<span class="line"><span style="color:#61AFEF;">age</span><span style="color:#98C379;">    增加</span><span style="color:#D19A66;">   111</span><span style="color:#ABB2BF;">                       (修改器：</span><span style="color:#56B6C2;">\\$</span><span style="color:#ABB2BF;">inc）</span></span>
<span class="line"><span style="color:#61AFEF;">who</span><span style="color:#98C379;">   改字段</span><span style="color:#98C379;"> sex</span><span style="color:#ABB2BF;">                      (修改器：</span><span style="color:#56B6C2;">\\$</span><span style="color:#ABB2BF;">rename）</span></span>
<span class="line"><span style="color:#61AFEF;">other</span><span style="color:#98C379;"> 删除</span><span style="color:#ABB2BF;">                            (修改器：</span><span style="color:#56B6C2;">\\$</span><span style="color:#ABB2BF;">unset）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>语法分析：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.c4.update(</span><span style="color:#98C379;">{uname:</span><span style="color:#61AFEF;">&quot;神龙教主&quot;</span><span style="color:#61AFEF;">},</span><span style="color:#98C379;"> {uname:</span><span style="color:#98C379;"> &quot;webopenfather&quot;}</span><span style="color:#ABB2BF;">)  </span><span style="color:#7F848E;font-style:italic;">#错误，替换</span></span>
<span class="line"><span style="color:#ABB2BF;">                                {</span><span style="color:#E06C75;">$set</span><span style="color:#ABB2BF;">: {</span><span style="color:#61AFEF;">uname:</span><span style="color:#98C379;"> &quot;webopenfather&quot;}}</span></span>
<span class="line"><span style="color:#ABB2BF;">                                {</span><span style="color:#E06C75;">$inc</span><span style="color:#ABB2BF;">: {</span><span style="color:#61AFEF;">age:</span><span style="color:#D19A66;"> 111</span><span style="color:#98C379;">}}</span></span>
<span class="line"><span style="color:#ABB2BF;">                                {</span><span style="color:#E06C75;">$rename</span><span style="color:#ABB2BF;">: {</span><span style="color:#61AFEF;">who:</span><span style="color:#98C379;"> &quot;sex&quot;}}</span></span>
<span class="line"><span style="color:#ABB2BF;">                                {</span><span style="color:#E06C75;">$unset</span><span style="color:#ABB2BF;">: {</span><span style="color:#61AFEF;">other:</span><span style="color:#D19A66;"> true</span><span style="color:#98C379;">}}</span></span>
<span class="line"><span style="color:#61AFEF;">留心如何一次性写多个修改器</span></span>
<span class="line"><span style="color:#61AFEF;">db.c4.update(</span><span style="color:#98C379;">{uname:</span><span style="color:#61AFEF;">&quot;神龙教主&quot;</span><span style="color:#61AFEF;">},</span><span style="color:#98C379;"> {</span></span>
<span class="line"><span style="color:#E06C75;">    $set</span><span style="color:#98C379;">:</span><span style="color:#98C379;"> {uname:</span><span style="color:#98C379;"> &quot;webopenfather&quot;},</span></span>
<span class="line"><span style="color:#E06C75;">    $inc</span><span style="color:#98C379;">:</span><span style="color:#98C379;"> {age:</span><span style="color:#D19A66;"> 111</span><span style="color:#98C379;">},</span></span>
<span class="line"><span style="color:#E06C75;">    $rename</span><span style="color:#98C379;">:</span><span style="color:#98C379;"> {who:</span><span style="color:#98C379;"> &quot;sex&quot;},</span></span>
<span class="line"><span style="color:#E06C75;">    $unset</span><span style="color:#98C379;">:</span><span style="color:#98C379;"> {other:</span><span style="color:#D19A66;"> true</span><span style="color:#98C379;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></blockquote><p><img src="`+m+'" alt="1584883798685"></p><p><strong>练习 4：验证语法最后两个参数（了解）</strong>：</p><p>【验证】是否新增 true 是 false 否：修改 uame 等于 zs30 的年龄 30 岁</p><p><img src="'+C+'" alt="1584883984485"></p><p>【验证】是否修改多条 true 是，false 否默认</p><p><img src="'+E+`" alt="1584884114315"></p><h3 id="d-删" tabindex="-1">#D 删 <a class="header-anchor" href="#d-删" aria-label="Permalink to &quot;#D 删&quot;">​</a></h3><p>语法：db.集合名.remove(条件 [, 是否删除一条] )</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">remove</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">query</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">option</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;">	注意</span></span>
<span class="line"><span style="color:#E06C75;">		默认情况下</span><span style="color:#E06C75;">  会删除所有符合条件的数据</span></span>
<span class="line"><span style="color:#E06C75;">	option</span><span style="color:#ABB2BF;">：</span><span style="color:#E06C75;">为可选参数</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">为对象类型属性</span></span>
<span class="line"><span style="color:#E06C75;">		justOne</span></span>
<span class="line"><span style="color:#E06C75;">			是否只删除第一条符合条件的数据</span><span style="color:#ABB2BF;">，</span><span style="color:#E06C75;">默认false</span></span>
<span class="line"><span style="color:#E06C75;">	示例</span></span>
<span class="line"><span style="color:#E5C07B;">		db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">remove</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">user</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;lvonve&quot;</span><span style="color:#ABB2BF;">})</span></span>
<span class="line"><span style="color:#E06C75;">			删除user属性值为lvonve的所有文档</span></span>
<span class="line"><span style="color:#E5C07B;">		db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">remove</span><span style="color:#ABB2BF;">({</span><span style="color:#E06C75;">user</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&quot;lvonve&quot;</span><span style="color:#ABB2BF;">},{</span><span style="color:#E06C75;">justOne</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">})</span></span>
<span class="line"><span style="color:#E06C75;">			删除user属性值为lvonve的第一个文档</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">deleteOne</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#E06C75;">	删除一个符合条件的数据</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">deleteMany</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#E06C75;">	删除多个符合条件的数据</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">集合名</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drop</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#E06C75;">	清空删除集合</span><span style="color:#ABB2BF;">：</span><span style="color:#E5C07B;">db</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">users</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drop</span><span style="color:#ABB2BF;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>说明</p><p>公司数据一般不使用删除语句，一般使用一个字段来标识这段数据是否删除（虚拟删除），使用 0 和 1 或者 布尔值 表示是否删除</p><p>注意：是否删除一条 true 是,false 否 默认</p><p><img src="`+h+`" alt="1584884531503"></p><h3 id="小总结" tabindex="-1">小总结 <a class="header-anchor" href="#小总结" aria-label="Permalink to &quot;小总结&quot;">​</a></h3><p>高级开发攻城狮统称：所有数据库都需要增删改查 CURD 标识</p><p>MongoDB 删除语法：remove</p><p>增 Create</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.集合名.insert(JSON数据</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>删 Delete</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.集合名.remove(条件</span><span style="color:#ABB2BF;"> [,是否删除一条true是false否默认])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">也就是默认删除多条</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>改 Update</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.集合名.update(条件，</span><span style="color:#98C379;"> 新数据</span><span style="color:#ABB2BF;">  [,是否新增,是否修改多条])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">升级语法db.集合名.update(条件，</span><span style="color:#98C379;">{修改器：{键：值}</span><span style="color:#61AFEF;">}</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查 Read</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">db.集合名.find(条件</span><span style="color:#ABB2BF;"> [,查询的列])</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">## MongoDB实战教学管理系统数据库设计</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">### 数据库设计流程</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">根据UI设计稿</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">1确定功能模块所属集合</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">2确定集合字段</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">\`\`\`</span><span style="color:#61AFEF;">bash</span></span>
<span class="line"><span style="color:#61AFEF;">UI设计稿每个展示内容对应一个字段</span></span>
<span class="line"><span style="color:#61AFEF;">创建于字段</span></span>
<span class="line"><span style="color:#61AFEF;">更新于字段</span></span>
<span class="line"><span style="color:#61AFEF;">状态字段</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">最后：先中文、再英文</span></span>
<span class="line"><span style="color:#61AFEF;">留心：上述规则照顾基础差的，如果大神</span><span style="color:#98C379;"> 或 久而久之 就变成肌肉记忆 下意识直接创建</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="练习" tabindex="-1">练习 <a class="header-anchor" href="#练习" aria-label="Permalink to &quot;练习&quot;">​</a></h4><ul><li><p>需求：根据教学系统，设置存放学生信息的集合，并插入 20 条测试数据</p></li><li><p>代码</p></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">1.</span><span style="color:#98C379;"> 先中文</span></span>
<span class="line"><span style="color:#61AFEF;">集合名称：学生集合</span></span>
<span class="line"><span style="color:#61AFEF;">集合字段：编号、学好、姓名、电话、性别、年龄、学历、备注</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">2.</span><span style="color:#98C379;"> 再英文</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">use</span><span style="color:#98C379;"> school</span></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> (</span><span style="color:#61AFEF;">var</span><span style="color:#98C379;"> num=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">; </span><span style="color:#61AFEF;">num</span><span style="color:#ABB2BF;">&lt;=20; </span><span style="color:#61AFEF;">num++</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#61AFEF;">    db.stu.insert(</span><span style="color:#98C379;">{</span></span>
<span class="line"><span style="color:#61AFEF;">        id:num,</span></span>
<span class="line"><span style="color:#61AFEF;">        no:</span><span style="color:#98C379;"> &quot;QF&quot;+num,</span></span>
<span class="line"><span style="color:#61AFEF;">        uname:</span><span style="color:#98C379;"> &quot;神龙教&quot;+num,</span></span>
<span class="line"><span style="color:#61AFEF;">        tel:</span><span style="color:#98C379;"> &quot;1111111111&quot;,</span></span>
<span class="line"><span style="color:#61AFEF;">        sex:</span><span style="color:#98C379;"> &quot;女&quot;,</span></span>
<span class="line"><span style="color:#61AFEF;">        age:</span><span style="color:#98C379;"> num,</span></span>
<span class="line"><span style="color:#61AFEF;">        school:</span><span style="color:#98C379;"> &quot;研究生&quot;,</span></span>
<span class="line"><span style="color:#61AFEF;">        remark:</span><span style="color:#98C379;"> &quot;土豪&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="■mongodb-实战教学管理系统数据库设计" tabindex="-1">■MongoDB 实战教学管理系统数据库设计 <a class="header-anchor" href="#■mongodb-实战教学管理系统数据库设计" aria-label="Permalink to &quot;■MongoDB 实战教学管理系统数据库设计&quot;">​</a></h2><h3 id="实战开发流程" tabindex="-1">实战开发流程 <a class="header-anchor" href="#实战开发流程" aria-label="Permalink to &quot;实战开发流程&quot;">​</a></h3><p><img src="`+g+`" alt="1584885071168"></p><h3 id="数据库设计流程" tabindex="-1">数据库设计流程 <a class="header-anchor" href="#数据库设计流程" aria-label="Permalink to &quot;数据库设计流程&quot;">​</a></h3><p>根据 UI 设计稿</p><p>1 确定功能模块所属集合</p><p>2 确定集合字段</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">UI设计稿每个展示内容对应一个字段</span></span>
<span class="line"><span style="color:#61AFEF;">创建于字段</span></span>
<span class="line"><span style="color:#61AFEF;">更新于字段</span></span>
<span class="line"><span style="color:#61AFEF;">状态字段</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">最后：先中文、再英文</span></span>
<span class="line"><span style="color:#61AFEF;">留心：上述规则照顾基础差的，如果大神</span><span style="color:#98C379;"> 或</span><span style="color:#98C379;"> 久而久之</span><span style="color:#98C379;"> 就变成肌肉记忆</span><span style="color:#98C379;"> 下意识直接创建</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="设计练习" tabindex="-1">设计练习 <a class="header-anchor" href="#设计练习" aria-label="Permalink to &quot;设计练习&quot;">​</a></h3><ul><li><p>需求：根据教学系统，设置存放学生信息的集合，并插入 20 条测试数据</p></li><li><p>代码</p></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">1.</span><span style="color:#98C379;"> 先中文</span></span>
<span class="line"><span style="color:#61AFEF;">集合名称：学生集合</span></span>
<span class="line"><span style="color:#61AFEF;">集合字段：编号、学好、姓名、电话、性别、年龄、学历、备注</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">2.</span><span style="color:#98C379;"> 再英文</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">use</span><span style="color:#98C379;"> school</span></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> (</span><span style="color:#61AFEF;">var</span><span style="color:#98C379;"> num=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">; </span><span style="color:#61AFEF;">num</span><span style="color:#ABB2BF;">&lt;=20; </span><span style="color:#61AFEF;">num++</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#61AFEF;">    db.stu.insert(</span><span style="color:#98C379;">{</span></span>
<span class="line"><span style="color:#61AFEF;">        id:num,</span></span>
<span class="line"><span style="color:#61AFEF;">        no:</span><span style="color:#98C379;"> &quot;QF&quot;+num,</span></span>
<span class="line"><span style="color:#61AFEF;">        uname:</span><span style="color:#98C379;"> &quot;神龙教&quot;+num,</span></span>
<span class="line"><span style="color:#61AFEF;">        tel:</span><span style="color:#98C379;"> &quot;1111111111&quot;,</span></span>
<span class="line"><span style="color:#61AFEF;">        sex:</span><span style="color:#98C379;"> &quot;女&quot;,</span></span>
<span class="line"><span style="color:#61AFEF;">        age:</span><span style="color:#98C379;"> num,</span></span>
<span class="line"><span style="color:#61AFEF;">        school:</span><span style="color:#98C379;"> &quot;研究生&quot;,</span></span>
<span class="line"><span style="color:#61AFEF;">        remark:</span><span style="color:#98C379;"> &quot;土豪&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,197)]))}const P=n(q,[["render",f]]);export{w as __pageData,P as default};
