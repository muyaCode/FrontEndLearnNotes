import{_ as a,c as s,o as n,ah as r}from"./chunks/framework.DqD713j2.js";const l="/FrontEndLearnNotes/assets/640.DxVUK1yW.webp",b=JSON.parse('{"title":"Wasmerç®€ä»‹å’Œèµ„æº","description":"","frontmatter":{},"headers":[],"relativePath":"Document/å…¶ä»–å‰ç«¯åŒ…ç®¡ç†å·¥å…·/Wasmer/Wasmerç®€ä»‹å’Œèµ„æº.md","filePath":"Document/å…¶ä»–å‰ç«¯åŒ…ç®¡ç†å·¥å…·/Wasmer/Wasmerç®€ä»‹å’Œèµ„æº.md","lastUpdated":1750954157000}'),p={name:"Document/å…¶ä»–å‰ç«¯åŒ…ç®¡ç†å·¥å…·/Wasmer/Wasmerç®€ä»‹å’Œèµ„æº.md"};function i(t,e,o,c,d,u){return n(),s("div",null,e[0]||(e[0]=[r('<h1 id="wasmerç®€ä»‹å’Œèµ„æº" tabindex="-1">Wasmerç®€ä»‹å’Œèµ„æº <a class="header-anchor" href="#wasmerç®€ä»‹å’Œèµ„æº" aria-label="Permalink to &quot;Wasmerç®€ä»‹å’Œèµ„æº&quot;">â€‹</a></h1><h2 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to &quot;ç®€ä»‹&quot;">â€‹</a></h2><p>WinterJS æ˜¯ä¸€ä¸ªéå¸¸å¿«é€Ÿçš„å…¼å®¹ WinterCG çš„ Javascript è¿è¡Œæ—¶ï¼Œç”¨ Rust ç¼–å†™ï¼Œä½¿ç”¨ SpiderMonkey å¼•æ“æ‰§è¡Œ JavaScriptï¼Œå¹¶ä½¿ç”¨ Tokio å¤„ç†åº•å±‚ HTTP è¯·æ±‚å’Œ JS äº‹ä»¶å¾ªç¯ã€‚WinterJS è¿è¡Œæ—¶ä¹Ÿå¯ä»¥ç¼–è¯‘ä¸º WebAssemblyï¼Œå› æ­¤æ˜¯ç¬¬ä¸€ä¸ªå¯ä»¥åœ¨ Wasmer Edge ä¸­å®Œå…¨è¿è¡Œçš„ç”Ÿäº§çº§è¿è¡Œæ—¶ã€‚</p><p>åœ¨ WinterJS 1.0 ï¼š</p><ul><li>é£å¿«çš„é€Ÿåº¦ï¼ˆæ¯” Bunã€WorkerD å’Œ Node æ›´å¿«ï¼ï¼‰</li><li>WinterJS ç°åœ¨å®Œå…¨å…¼å®¹* WinterCG è§„èŒƒ</li><li>Cloudflare API å…¼å®¹æ€§</li><li>Web æ¡†æ¶æ”¯æŒï¼šNext.jsï¼ˆæ”¯æŒ React æœåŠ¡å™¨ç»„ä»¶ï¼ï¼‰ã€Honoã€Astroã€SvelteKit ç­‰</li></ul><h2 id="ç‰¹æ€§" tabindex="-1">ç‰¹æ€§ <a class="header-anchor" href="#ç‰¹æ€§" aria-label="Permalink to &quot;ç‰¹æ€§&quot;">â€‹</a></h2><h3 id="é£å¿«çš„é€Ÿåº¦" tabindex="-1">é£å¿«çš„é€Ÿåº¦ <a class="header-anchor" href="#é£å¿«çš„é€Ÿåº¦" aria-label="Permalink to &quot;é£å¿«çš„é€Ÿåº¦&quot;">â€‹</a></h3><p>WinterJS 1.0 åœ¨æœ¬åœ°æ‰§è¡Œæ—¶èƒ½å¤Ÿå¤„ç† 150,000 ä¸ªè¯·æ±‚/ç§’ï¼ˆä½¿ç”¨ WASIX ç¼–è¯‘ä¸º Wasm åä¸º 20,000 ä¸ªè¯·æ±‚/ç§’ï¼‰ã€‚</p><p>æˆªè‡³ä»Šæ—¥ï¼ŒWinterJS æ¯” Bunï¼ˆ117,000 è¯·æ±‚/ç§’ï¼‰ã€WorkerDï¼ˆ40,000 è¯·æ±‚/ç§’ï¼‰å’Œ Nodeï¼ˆ75,000 è¯·æ±‚/ç§’ï¼‰å¤„ç†æ›´å¤šçš„è¯·æ±‚/ç§’ï¼ˆè¯·å‚è§åŸºå‡†æµ‹è¯•ï¼‰ã€‚</p><p><img src="'+l+`" alt="å›¾ç‰‡"></p><h3 id="wintercg-å…¼å®¹æ€§" tabindex="-1">WinterCG å…¼å®¹æ€§ <a class="header-anchor" href="#wintercg-å…¼å®¹æ€§" aria-label="Permalink to &quot;WinterCG å…¼å®¹æ€§&quot;">â€‹</a></h3><p>WinterCG æ˜¯è´Ÿè´£å®šä¹‰ä¸€ç»„å…¨å±€ç±»å’Œå‡½æ•°çš„æœºæ„ä¹‹ä¸€ï¼Œè¿™äº›ç±»å’Œå‡½æ•°éœ€è¦å­˜åœ¨æ‰èƒ½åœ¨ä¸€ç»„åŸºç¡€æ¶æ„ä¸Šæ­£ç¡®è¿è¡Œå·¥ä½œè´Ÿè½½ã€‚</p><p>è‡ªæˆ‘ä»¬é¦–æ¬¡å…¬å‘Šä»¥æ¥ï¼Œæˆ‘ä»¬å·²ç»æ·»åŠ äº†å¯¹å®Œæ•´ä¸€å¥— API çš„æ”¯æŒï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>Data fetching:<code>fetch</code>ã€<code>URL</code>ã€<code>Request</code>ã€<code>Response</code></li><li>Files:<code>Blob</code>ã€<code>File</code></li><li>Streams:<code>ReadableStream</code>ã€<code>WritableStream</code>ã€<code>TransformStream*</code></li><li>Text Encoders:<code>TextEncoder</code>ã€<code>TextEncoderStream</code>ã€<code>atob</code>ã€<code>btoa</code></li><li>Cryptography:<code>crypto*</code></li></ul><p><em><strong>æ³¨æ„ï¼šå˜æ¢æµä¸­çš„åå‹å’Œä¸€äº›ï¼ˆéå¸¸è§çš„ï¼‰åŠ å¯†ç®—æ³•å°šæœªå®ç°ã€‚</strong></em></p><h3 id="cloudflare-api-å…¼å®¹æ€§" tabindex="-1">Cloudflare API å…¼å®¹æ€§ <a class="header-anchor" href="#cloudflare-api-å…¼å®¹æ€§" aria-label="Permalink to &quot;Cloudflare API å…¼å®¹æ€§&quot;">â€‹</a></h3><p>æˆ‘ä»¬å¸Œæœ›ç¡®ä¿å¤§å¤šæ•°å‰ç«¯æ¡†æ¶åœ¨ WinterJS ä¸­éƒ½èƒ½æ— ç¼è¿è¡Œï¼Œæ— éœ€é¢å¤–å¤„ç†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p><ul><li>ä¸ºæ¯ä¸ªå‰ç«¯æ¡†æ¶åˆ›å»ºå…¨æ–°çš„é›†æˆ</li><li>åŠ å…¥ä¸€ä¸ªç°æœ‰çš„ææ¡ˆ</li></ul><p>ç»è¿‡å¯¹ Denoã€Cloudflare å’Œ Fastly é€‚é…å™¨çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬æ„è¯†åˆ°æœ€å¼ºå¤§çš„é€‰æ‹©æ˜¯ Cloudflareï¼Œå› ä¸ºå®ƒå·²ç»æ”¯æŒäº†å…¶ä»– API æ¡†æ¶çš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œå¹¶ä¸”å¯èƒ½æ˜¯æœ€å¸¸ç”¨çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å†³å®šé‡‡ç”¨ Cloudflare API å…¼å®¹æ€§ã€‚</p><p>ä¸ºäº†æ”¯æŒ Cloudflare Worker çš„å·¥ä½œè´Ÿè½½ï¼Œæˆ‘ä»¬ç€æ‰‹è§£å†³äº†å››ä¸ªä¸»è¦æ–¹é¢çš„é—®é¢˜ï¼š</p><ul><li>é€šè¿‡ import è¯­æ³•æ”¯æŒ ES æ¨¡å—</li><li>é€šè¿‡ Node.js å…¼å®¹æ€§ API æ”¯æŒ</li><li>é€šè¿‡node:async_hooks æ”¯æŒ AsyncLocalStorage</li><li>é€šè¿‡ _routes.json æ”¯æŒè°ƒç”¨è·¯ç”±</li><li>æ”¯æŒæ–‡ä»¶ç³»ç»Ÿç»“æ„</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>_worker.js</span></span>
<span class="line"><span>index.html</span></span>
<span class="line"><span>mystaticimage.jpg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>æ”¯æŒ Cloudflare çš„ WinterCG è‡ªå®šä¹‰ fetch API</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>export default {</span></span>
<span class="line"><span> async fetch(request, env, ctx) {</span></span>
<span class="line"><span>  return new Response(&#39;Hello World!&#39;);</span></span>
<span class="line"><span> },</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä»¥åŠ env.ASSETS APIï¼Œå®ƒå…è®¸é€šè¿‡ Rust çš„è¶…çº§ä¼˜åŒ–çš„é™æ€ Web æœåŠ¡å™¨ç›´æ¥æä¾›é™æ€èµ„äº§ï¼Œå› æ­¤æ‚¨å¯ä»¥æ‰§è¡Œï¼š</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>export default {</span></span>
<span class="line"><span>  async fetch(request, env) {</span></span>
<span class="line"><span>    const url = new URL(request.url);</span></span>
<span class="line"><span>    if (url.pathname.startsWith(&#39;/api/&#39;)) {</span></span>
<span class="line"><span>      // TODO: Add your custom /api/* logic here.</span></span>
<span class="line"><span>      return new Response(&#39;Ok&#39;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    // Otherwise, serve the static assets.</span></span>
<span class="line"><span>    // Without this, the Worker will error and no assets will be served.</span></span>
<span class="line"><span>    return env.ASSETS.fetch(request);</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><a href="https://developers.cloudflare.com/workers/runtime-apis/handlers/fetch/" target="_blank" rel="noreferrer">è¯·åœ¨æ­¤å¤„æŸ¥çœ‹å®Œæ•´çš„è‡ªå®šä¹‰ Cloudflare fetch APIï¼š</a></p><p>åœ¨è·å¾—æ‰€æœ‰è¿™äº›åŠŸèƒ½ä¹‹åï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥é€šè¿‡ä¼ é€’ <code>--mode=cloudflare </code>æ¥è¿è¡Œä»»ä½•å…¶ä»–ç½‘ç»œæ¡†æ¶ã€‚</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>winterjs --mode=cloudflare output/static</span></span>
<span class="line"><span>  # OR (using WASIX)</span></span>
<span class="line"><span>wasmer run wasmer/winterjs --net --mapdir=output/static:/web -- --mode=cloudflare /web</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ç°æœ‰-web-æ¡†æ¶çš„å…¼å®¹æ€§" tabindex="-1">ç°æœ‰ Web æ¡†æ¶çš„å…¼å®¹æ€§ <a class="header-anchor" href="#ç°æœ‰-web-æ¡†æ¶çš„å…¼å®¹æ€§" aria-label="Permalink to &quot;ç°æœ‰ Web æ¡†æ¶çš„å…¼å®¹æ€§&quot;">â€‹</a></h3><p>ç”±äºä¸ Cloudflare Workers API çš„æ–°å…¼å®¹æ€§ï¼Œæˆ‘ä»¬ç°åœ¨å®Œå…¨æ”¯æŒä»¥ä¸‹æ¡†æ¶ï¼Œä¸ä»…å¯ä»¥æä¾›æ¡†æ¶ç”Ÿæˆçš„é™æ€ç½‘ç«™ï¼Œè¿˜å¯ä»¥è®©è¿™äº›æ¡†æ¶è¿›è¡ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼š</p><ul><li>Next.jsï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰</li><li>Next.js React æœåŠ¡å™¨ç»„ä»¶ï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰- æ³¨æ„ï¼šæœåŠ¡å™¨ç«¯è·å–ç¼“å­˜å°šæœªå®ç°</li><li>Honoï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰</li><li>Astro.buildï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰</li><li>Remix.runï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰</li><li>Svelteï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰</li><li>Gatsbyï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰</li><li>Nuxtï¼ˆåº”ç”¨æ¨¡æ¿ï¼Œæ¼”ç¤ºï¼‰</li></ul><h3 id="æ”¯æŒ-react-æœåŠ¡å™¨ç»„ä»¶" tabindex="-1">æ”¯æŒ React æœåŠ¡å™¨ç»„ä»¶ <a class="header-anchor" href="#æ”¯æŒ-react-æœåŠ¡å™¨ç»„ä»¶" aria-label="Permalink to &quot;æ”¯æŒ React æœåŠ¡å™¨ç»„ä»¶&quot;">â€‹</a></h3><p>æˆ‘ä»¬å–å¾—çš„æœ€å…·æŒ‘æˆ˜æ€§çš„æˆå°±ä¹‹ä¸€æ˜¯è¿è¡Œå…·æœ‰æœåŠ¡å™¨ç»„ä»¶æ”¯æŒçš„ Next.js æœåŠ¡å™¨ï¼Œå› æ­¤æ¸²æŸ“å¯ä»¥å®Œå…¨åœ¨æœåŠ¡å™¨ç«¯å®Œæˆã€‚</p><p>åŠªåŠ›ä½¿ React æœåŠ¡å™¨ç»„ä»¶å®Œå…¨å¯ç”¨æœ‰åŠ©äºæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„æµå®ç°ä¸è§„èŒƒå­˜åœ¨ä¸€äº›ç»†å¾®ä½†é‡è¦çš„å·®å¼‚ã€‚æˆ‘ä»¬è¿˜æ„è¯†åˆ°æˆ‘ä»¬çš„è·å–å®ç°æœ‰ä¸€äº›æ€ªç™–éœ€è¦ä¿®å¤ï¼Œä½†æœ€ç»ˆï¼Œåœ¨ç»è¿‡è®¸å¤šæ±—æ°´å’Œä¸çœ ä¹‹å¤œåï¼Œæˆ‘ä»¬å®Œå…¨åšåˆ°äº†ï¼ğŸ‰</p><p>[æ‚¨å¯ä»¥æŸ¥çœ‹ä½¿ç”¨ React æœåŠ¡å™¨ç«¯ç»„ä»¶çš„ Hacker News æ¼”ç¤ºï¼š]ï¼ˆ<a href="https://next-rsc-hn.wasmer.app/%EF%BC%89%EF%BC%88%E8%AF%B7%E6%B3%A8%E6%84%8F%EF%BC%8C%E5%9C%A8%E6%AD%A4%E6%BC%94%E7%A4%BA%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E6%B2%A1%E6%9C%89%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E7%BC%93%E5%AD%98%E8%8E%B7%E5%8F%96%E7%BB%93%E6%9E%9C%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%8A%A0%E8%BD%BD%E6%97%B6%E9%97%B4%E5%8F%AF%E8%83%BD%E4%B8%8D%E6%98%AF%E6%9C%80%E5%BF%AB%E7%9A%84%EF%BC%89%E3%80%82" target="_blank" rel="noreferrer">https://next-rsc-hn.wasmer.app/ï¼‰ï¼ˆè¯·æ³¨æ„ï¼Œåœ¨æ­¤æ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰åœ¨æœåŠ¡å™¨ç«¯ç¼“å­˜è·å–ç»“æœï¼Œå› æ­¤åŠ è½½æ—¶é—´å¯èƒ½ä¸æ˜¯æœ€å¿«çš„ï¼‰ã€‚</a></p><p>æˆ‘ä»¬ç°åœ¨åªå·®ä¸€å°æ­¥å°±å¯ä»¥å°†æˆ‘ä»¬çš„ Next.js å‰ç«¯ä» Vercel è¿ç§»åˆ° Wasmer Edgeï¼Œæˆæœ¬æ›´ä½ï¼Œè€Œä¸”å®Œå…¨å¯ä»¥åœ¨æœ¬åœ°é‡ç°ã€‚</p><p>å³åˆ»ä½“éªŒ Wasmer Edgeï¼é€‰æ‹©ä¸Šè¿°ä»»ä¸€åº”ç”¨ç¨‹åºæ¨¡æ¿ï¼Œåœ¨ Wasmer Edge ä¸Šéƒ¨ç½²æ‚¨çš„ç¬¬ä¸€ä¸ª WinterJS åº”ç”¨ç¨‹åºï¼Œæˆ–æŒ‰ç…§ JS Worker å¿«é€Ÿå…¥é—¨æŒ‡å—æ“ä½œã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªå°ç»†èŠ‚â€¦æˆ‘ä»¬æ­£åœ¨å‡†å¤‡åœ¨ Wasm ç©ºé—´ä¸­å®Œå…¨è¿è¡Œ JIT ç¼–è¯‘çš„ JS å·¥ä½œè´Ÿè½½â€¦â€¦æ•¬è¯·å…³æ³¨æ›´å¤šæ›´æ–°ï¼</p><p>æ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆï¼ŸWinterJS 1.0 åªæ˜¯å¼€å§‹ã€‚</p><p>åœ¨ Wasmerï¼Œæˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ç§æ–°çš„è¾¹ç¼˜éƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Œé€šè¿‡å°è¯•è¾¹ç¼˜æŠ€æœ¯ï¼Œä¸ºæ‚¨çš„é¡¹ç›®å¼€å¯ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ–°ç”¨ä¾‹ã€‚</p><h2 id="ç½‘ç«™èµ„æº" tabindex="-1">ç½‘ç«™èµ„æº <a class="header-anchor" href="#ç½‘ç«™èµ„æº" aria-label="Permalink to &quot;ç½‘ç«™èµ„æº&quot;">â€‹</a></h2><p>å¼€æºåœ°å€ï¼š<a href="https://github.com/wasmerio/wasmer" target="_blank" rel="noreferrer">https://github.com/wasmerio/wasmer</a></p><p>å®˜ç½‘ï¼š<a href="https://wasmer.io/" target="_blank" rel="noreferrer">https://wasmer.io/</a></p>`,44)]))}const h=a(p,[["render",i]]);export{b as __pageData,h as default};
