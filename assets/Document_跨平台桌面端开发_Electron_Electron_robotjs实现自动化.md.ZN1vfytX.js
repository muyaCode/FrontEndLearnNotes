import{_ as n,c as a,o as l,ah as o}from"./chunks/framework.DqD713j2.js";const p="/FrontEndLearnNotes/assets/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%8A%A5%E9%94%99.CEgeROyT.jpg",e="/FrontEndLearnNotes/assets/%E7%BC%96%E8%AF%91%E6%88%90%E5%8A%9F%E5%90%8E%E4%BB%8D%E7%84%B6%E9%81%87%E5%88%B0%E7%89%88%E6%9C%AC%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E9%97%AE%E9%A2%98.DuJ-rigL.jpg",r="/FrontEndLearnNotes/assets/640.B2QWjwai.gif",t="/FrontEndLearnNotes/assets/640-1713975248857-964.C25MieZM.webp",c="/FrontEndLearnNotes/assets/640-1713975248857-965.oJS-dUYL.webp",A=JSON.parse('{"title":"Electron+robotjs 实现自动化","description":"","frontmatter":{},"headers":[],"relativePath":"Document/跨平台桌面端开发/Electron/Electron+robotjs实现自动化.md","filePath":"Document/跨平台桌面端开发/Electron/Electron+robotjs实现自动化.md","lastUpdated":1750954157000}'),y={name:"Document/跨平台桌面端开发/Electron/Electron+robotjs实现自动化.md"};function B(i,s,C,d,b,u){return l(),a("div",null,s[0]||(s[0]=[o(`<p><a href="https://cloud.tencent.com/developer/article/1541231" target="_blank" rel="noreferrer">UI 自动化工具，你知道有几个？</a></p><p>[robotjs alternative-掘金 (juejin.cn)](<a href="https://juejin.cn/s/robotjs" target="_blank" rel="noreferrer">https://juejin.cn/s/robotjs</a> alternative)</p><h1 id="electron-robotjs-实现自动化" tabindex="-1">Electron+robotjs 实现自动化 <a class="header-anchor" href="#electron-robotjs-实现自动化" aria-label="Permalink to &quot;Electron+robotjs 实现自动化&quot;">​</a></h1><p>参考：<a href="https://blog.csdn.net/jncinets/article/details/123822486" target="_blank" rel="noreferrer">electron+robotjs 安装出错问题解决日志_electron 安装 robotjs_QIHU.ZY 的博客-CSDN 博客</a></p><p>robotjs 官网编译方案：<a href="http://robotjs.io/docs/electron" target="_blank" rel="noreferrer">http://robotjs.io/docs/electron</a></p><p>Electron 编译元素 Node 模块方案：<a href="https://www.electronjs.org/zh/docs/latest/tutorial/using-native-node-modules" target="_blank" rel="noreferrer">https://www.electronjs.org/zh/docs/latest/tutorial/using-native-node-modules</a></p><h2 id="_1-安装-robotjs" tabindex="-1">1.安装 robotjs <a class="header-anchor" href="#_1-安装-robotjs" aria-label="Permalink to &quot;1.安装 robotjs&quot;">​</a></h2><p>在已有的 electron 项目中添加 robotjs 并使用</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#98C379;"> install</span><span style="color:#98C379;"> robotjs</span><span style="color:#D19A66;"> --save</span></span>
<span class="line"><span style="color:#61AFEF;">或</span></span>
<span class="line"><span style="color:#61AFEF;">yarn</span><span style="color:#98C379;"> add</span><span style="color:#98C379;"> robotjs</span></span>
<span class="line"><span style="color:#61AFEF;">或</span></span>
<span class="line"><span style="color:#61AFEF;">pnpm</span><span style="color:#98C379;"> install</span><span style="color:#98C379;"> robotjs</span><span style="color:#D19A66;"> --save</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// js中引入使用</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> robot</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> require</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;robotjs&quot;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_2-引用-robotjs-后运行时报错" tabindex="-1">2.引用 robotjs 后运行时报错 <a class="header-anchor" href="#_2-引用-robotjs-后运行时报错" aria-label="Permalink to &quot;2.引用 robotjs 后运行时报错&quot;">​</a></h2><p><img src="`+p+`" alt="运行时报错"></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">start</span><span style="color:#98C379;"> electron</span><span style="color:#98C379;"> app...</span></span>
<span class="line"><span style="color:#61AFEF;">X</span><span style="color:#ABB2BF;"> [ERROR] Could not resolve </span><span style="color:#98C379;">&quot;./build/Release/robotjs.node&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">    node_modules/robotjs/index.js:1:22:</span></span>
<span class="line"><span style="color:#61AFEF;">      1</span><span style="color:#98C379;"> │</span><span style="color:#98C379;"> var</span><span style="color:#98C379;"> robotjs</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> require</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&#39;./build/Release/robotjs.node&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">        ╵</span><span style="color:#98C379;">                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">19:32:32</span><span style="color:#ABB2BF;"> [vite] error </span><span style="color:#C678DD;">while</span><span style="color:#61AFEF;"> updating</span><span style="color:#98C379;"> dependencies:</span></span>
<span class="line"><span style="color:#61AFEF;">Error:</span><span style="color:#98C379;"> Build</span><span style="color:#98C379;"> failed</span><span style="color:#98C379;"> with</span><span style="color:#D19A66;"> 1</span><span style="color:#98C379;"> error:</span></span>
<span class="line"><span style="color:#61AFEF;">node_modules/robotjs/index.js:1:22:</span><span style="color:#98C379;"> ERROR:</span><span style="color:#98C379;"> Could</span><span style="color:#98C379;"> not</span><span style="color:#98C379;"> resolve</span><span style="color:#98C379;"> &quot;./build/Release/robotjs.node&quot;</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> failureErrorWithLog</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#ABB2BF;">ain.js:1604:15)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#98C379;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#98C379;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#98C379;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#98C379;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#98C379;">ain.js:1056:28</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> runOnEndCallbacks</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#ABB2BF;">ain.js:1476:61)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> buildResponseToResult</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#ABB2BF;">ain.js:1054:7)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#98C379;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#98C379;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#98C379;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#98C379;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#98C379;">ain.js:1166:14</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> responseCallbacks.</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">compute</span><span style="color:#ABB2BF;">d&gt; (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#ABB2BF;">ain.js:701:9)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> handleIncomingPacket</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#ABB2BF;">ain.js:756:9)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Socket.readFromStdout</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">sbuild</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\m</span><span style="color:#ABB2BF;">ain.js:677:7)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Socket.emit</span><span style="color:#ABB2BF;"> (node:events:513:28)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> addChunk</span><span style="color:#ABB2BF;"> (node:internal/streams/readable:324:12)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="报错原因" tabindex="-1">报错原因 <a class="header-anchor" href="#报错原因" aria-label="Permalink to &quot;报错原因&quot;">​</a></h3><p>robotjs 使用的 Node 环境与当前 Node 版本不一致，需要重新编译 robotjs</p><h3 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-label="Permalink to &quot;解决方案&quot;">​</a></h3><p><strong>根据官网文档方案</strong>：<a href="http://robotjs.io/docs/electron" target="_blank" rel="noreferrer">http://robotjs.io/docs/electron</a></p><p>注意：找到 electron 的版本和对应的 Node 版本，这里的 node 版本可不是你在命令行中查到的版本；</p><p>如果没安装 node-gyp 等编译工具，需要先安装</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># window系统C和C++打包工具</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -g</span><span style="color:#D19A66;"> --production</span><span style="color:#98C379;"> windows-build-tools</span></span>
<span class="line"><span style="color:#61AFEF;">yarn</span><span style="color:#98C379;"> global</span><span style="color:#98C379;"> add</span><span style="color:#98C379;"> windows-build-tools</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># node包编译工具</span></span>
<span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#98C379;"> install</span><span style="color:#D19A66;"> -g</span><span style="color:#98C379;"> node-gyp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="安装-electron-rebuild-重新编译项目中使用的-node-版本" tabindex="-1">安装 electron-rebuild 重新编译项目中使用的 Node 版本 <a class="header-anchor" href="#安装-electron-rebuild-重新编译项目中使用的-node-版本" aria-label="Permalink to &quot;安装 electron-rebuild 重新编译项目中使用的 Node 版本&quot;">​</a></h4><h4 id="_1-先安装-electron-rebuild" tabindex="-1">1.先安装：electron-rebuild <a class="header-anchor" href="#_1-先安装-electron-rebuild" aria-label="Permalink to &quot;1.先安装：electron-rebuild&quot;">​</a></h4><p>注意：electron-rebuild 必须安装到 dependencies 里</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#98C379;"> i</span><span style="color:#98C379;"> electron-rebuild</span><span style="color:#D19A66;"> --dev</span></span>
<span class="line"><span style="color:#61AFEF;">或</span></span>
<span class="line"><span style="color:#61AFEF;">yarn</span><span style="color:#98C379;"> add</span><span style="color:#98C379;"> electron-rebuild</span><span style="color:#D19A66;"> -D</span></span>
<span class="line"><span style="color:#61AFEF;">或</span></span>
<span class="line"><span style="color:#61AFEF;">pnpm</span><span style="color:#98C379;"> i</span><span style="color:#98C379;"> electron-rebuild</span><span style="color:#D19A66;"> --dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>依赖包的命令目录</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">./node_modules/.bin/electron-rebuild</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="安装原生模块文档" tabindex="-1">安装原生模块文档 <a class="header-anchor" href="#安装原生模块文档" aria-label="Permalink to &quot;安装原生模块文档&quot;">​</a></h4><p>关于 gyp 与 node-gyp 与 node-pre-gyp 可以看这篇文章：<a href="https://zhuanlan.zhihu.com/p/330468774" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/330468774</a></p><p><strong>官网安装原生模块文档</strong>：<a href="https://www.electronjs.org/zh/docs/latest/tutorial/using-native-node-modules" target="_blank" rel="noreferrer">Node 原生模块 | Electron (electronjs.org)</a></p><h4 id="_2-进入-robotjs-目录-直接进入模块文件夹" tabindex="-1">2.进入 robotjs 目录，直接进入模块文件夹 <a class="header-anchor" href="#_2-进入-robotjs-目录-直接进入模块文件夹" aria-label="Permalink to &quot;2.进入 robotjs 目录，直接进入模块文件夹&quot;">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#56B6C2;">cd</span><span style="color:#98C379;"> ./node_modules/robotjs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-目录中执行执行命令" tabindex="-1">3.目录中执行执行命令 <a class="header-anchor" href="#_3-目录中执行执行命令" aria-label="Permalink to &quot;3.目录中执行执行命令&quot;">​</a></h4><p>版本说明</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">node-gyp</span><span style="color:#98C379;"> rebuild</span><span style="color:#D19A66;"> --runtime=electron</span><span style="color:#D19A66;"> --disturl=https://atom.io/download/atom-shell</span><span style="color:#D19A66;"> --target=</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#D19A66;">你的electron版本</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#D19A66;"> --abi=</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#D19A66;">对应abi版本</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>示例：项目中查询 abi 版本：<code>npx electron --abi</code></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">node-gyp</span><span style="color:#98C379;"> rebuild</span><span style="color:#D19A66;"> --runtime=electron</span><span style="color:#D19A66;"> --target=21.4.1</span><span style="color:#D19A66;"> --disturl=https://atom.io/download/atom-shell</span><span style="color:#D19A66;"> --abi=109</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：</p><ul><li>--target：是你当前的 electron 版本</li><li>--abi：当前 electron 中<code>node版本</code>对应的<code>node_abi</code>号：<a href="https://github.com/mapbox/node-pre-gyp/blob/master/lib/util/abi_crosswalk.json" target="_blank" rel="noreferrer">找 abi 版本</a><ul><li>1.或者在这里查询-<code>node版本</code>对应的<code>node_abi</code>号：<a href="https://www.yuque.com/u34495/mivcfg/by432vfs60nuuoy7" target="_blank" rel="noreferrer">v21 (yuque.com)</a></li><li>2.或者使用命令：打开 全局<code>electron --abi</code> 或 局部 <code>npx electron --abi</code></li></ul></li></ul><h4 id="编译成功后仍然遇到版本不匹配的问题" tabindex="-1">编译成功后仍然遇到版本不匹配的问题 <a class="header-anchor" href="#编译成功后仍然遇到版本不匹配的问题" aria-label="Permalink to &quot;编译成功后仍然遇到版本不匹配的问题&quot;">​</a></h4><p><img src="`+e+`" alt="编译成功后仍然遇到版本不匹配的问题"></p><p>其实报错信息中已经提示了 需要哪个版本，重新编译对应版本的 robotjs 就行了</p><p>其他还不能解决的问题：<a href="https://github.com/octalmage/robotjs/issues/675" target="_blank" rel="noreferrer">为电子重建机器人 J ·问题 #675 ·Octalmage/robotjs (github.com)</a></p><p>尝试运行下面命令来修复错误：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">electron-rebuild</span><span style="color:#D19A66;"> -f</span><span style="color:#D19A66;"> -w</span><span style="color:#98C379;"> robotjs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="安装-robotjs-引入使用后报错" tabindex="-1">安装 robotjs 引入使用后报错 <a class="header-anchor" href="#安装-robotjs-引入使用后报错" aria-label="Permalink to &quot;安装 robotjs 引入使用后报错&quot;">​</a></h4><p>报错信息</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">App</span><span style="color:#98C379;"> threw</span><span style="color:#98C379;"> an</span><span style="color:#98C379;"> error</span><span style="color:#98C379;"> during</span><span style="color:#98C379;"> load</span></span>
<span class="line"><span style="color:#61AFEF;">Error:</span><span style="color:#98C379;"> A</span><span style="color:#98C379;"> dynamic</span><span style="color:#98C379;"> link</span><span style="color:#98C379;"> library</span><span style="color:#ABB2BF;"> (DLL) initialization routine failed.</span></span>
<span class="line"><span style="color:#61AFEF;">\\\\?\\D:\\vue\\lianji\\node_modules\\robotjs\\build\\Release\\robotjs.node</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> process.module.</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">anonymous</span><span style="color:#98C379;"> function</span><span style="color:#ABB2BF;">) [as </span><span style="color:#98C379;">dlopen]</span><span style="color:#ABB2BF;"> (ELECTRON_ASAR.js:166:20)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Object.Module._extensions..node</span><span style="color:#ABB2BF;"> (internal/modules/cjs/loader.js:740:18)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Object.module.</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">anonymous</span><span style="color:#98C379;"> function</span><span style="color:#ABB2BF;">) [as </span><span style="color:#98C379;">.node]</span><span style="color:#ABB2BF;"> (ELECTRON_ASAR.js:166:20)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Module.load</span><span style="color:#ABB2BF;"> (internal/modules/cjs/loader.js:620:32)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> tryModuleLoad</span><span style="color:#ABB2BF;"> (internal/modules/cjs/loader.js:559:12)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Function.Module._load</span><span style="color:#ABB2BF;"> (internal/modules/cjs/loader.js:551:3)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Module.require</span><span style="color:#ABB2BF;"> (internal/modules/cjs/loader.js:658:17)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> require</span><span style="color:#ABB2BF;"> (internal/modules/cjs/helpers.js:20:18)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Object.</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">anonymou</span><span style="color:#ABB2BF;">s&gt; (D:</span><span style="color:#56B6C2;">\\v</span><span style="color:#ABB2BF;">ue</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ianji</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\r</span><span style="color:#ABB2BF;">obotjs</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">ndex.js:1:170)</span></span>
<span class="line"><span style="color:#61AFEF;">    at</span><span style="color:#98C379;"> Object.</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">anonymou</span><span style="color:#ABB2BF;">s&gt; (D:</span><span style="color:#56B6C2;">\\v</span><span style="color:#ABB2BF;">ue</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ianji</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\r</span><span style="color:#ABB2BF;">obotjs</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">ndex.js:38:3)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="在项目根目录中执行" tabindex="-1">在项目根目录中执行 <a class="header-anchor" href="#在项目根目录中执行" aria-label="Permalink to &quot;在项目根目录中执行&quot;">​</a></h4><h5 id="_1-直接执行编译命令" tabindex="-1">1.直接执行编译命令 <a class="header-anchor" href="#_1-直接执行编译命令" aria-label="Permalink to &quot;1.直接执行编译命令&quot;">​</a></h5><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#98C379;"> rebuild</span><span style="color:#D19A66;"> --runtime=electron</span><span style="color:#D19A66;"> --target=21.1.1</span><span style="color:#D19A66;"> --disturl=https://atom.io/download/atom-shell</span><span style="color:#D19A66;"> --abi=102</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="_2-在-package-json-中设置编译命令" tabindex="-1">2.在 package.json 中设置编译命令 <a class="header-anchor" href="#_2-在-package-json-中设置编译命令" aria-label="Permalink to &quot;2.在 package.json 中设置编译命令&quot;">​</a></h5><p>Node 版本使用的是：17.1.0</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#98C379;">&quot;scripts&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">    &quot;rebuild&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;npm rebuild --runtime=electron --target=21.1.1 --disturl=https://atom.io/download/atom-shell --abi=102&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_3-使用命令创建的-electron-项目快速开发安装-robotjs-的错误" tabindex="-1">3.使用命令创建的 electron 项目快速开发安装 robotjs 的错误 <a class="header-anchor" href="#_3-使用命令创建的-electron-项目快速开发安装-robotjs-的错误" aria-label="Permalink to &quot;3.使用命令创建的 electron 项目快速开发安装 robotjs 的错误&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#98C379;"> create</span><span style="color:#98C379;"> @quick-start/electron</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>选择使用的是 vue 的 js 模板</p><h3 id="原因" tabindex="-1">原因 <a class="header-anchor" href="#原因" aria-label="Permalink to &quot;原因&quot;">​</a></h3><p>背景：使用 electron-builder 和 @journeyapps/sqlcipher 的项目</p><p>安装 robotjs 时，会执行：electron-builder install-app-deps</p><p>一般 electron-builder 的项目下完包的最后，会调用 electron-builder install-app-deps 命令重新构建本地依赖</p><h3 id="然后报错" tabindex="-1">然后报错 <a class="header-anchor" href="#然后报错" aria-label="Permalink to &quot;然后报错&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">electron-builder</span><span style="color:#98C379;"> install-app-deps</span></span>
<span class="line"><span style="color:#61AFEF;">  •</span><span style="color:#98C379;"> electron-builder</span><span style="color:#98C379;">  version=</span><span style="color:#D19A66;">23.6.0</span></span>
<span class="line"><span style="color:#61AFEF;">  •</span><span style="color:#98C379;"> loaded</span><span style="color:#98C379;"> configuration</span><span style="color:#98C379;">  file=D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#98C379;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#98C379;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\e</span><span style="color:#98C379;">lectron-builder.yml</span></span>
<span class="line"><span style="color:#61AFEF;">  •</span><span style="color:#98C379;"> rebuilding</span><span style="color:#98C379;"> native</span><span style="color:#98C379;"> dependencies</span><span style="color:#98C379;">  dependencies=robotjs@0.6.0</span><span style="color:#98C379;"> platform=win32</span><span style="color:#98C379;"> arch=x64</span></span>
<span class="line"><span style="color:#61AFEF;">  •</span><span style="color:#98C379;"> install</span><span style="color:#98C379;"> prebuilt</span><span style="color:#98C379;"> binary</span><span style="color:#98C379;">  name=robotjs</span><span style="color:#98C379;"> version=</span><span style="color:#D19A66;">0.6.0</span><span style="color:#98C379;"> platform=win32</span><span style="color:#98C379;"> arch=x64</span><span style="color:#98C379;"> napi=</span></span>
<span class="line"><span style="color:#61AFEF;">  •</span><span style="color:#98C379;"> build</span><span style="color:#98C379;"> native</span><span style="color:#98C379;"> dependency</span><span style="color:#98C379;"> from</span><span style="color:#98C379;"> sources</span><span style="color:#98C379;">  name=robotjs</span></span>
<span class="line"><span style="color:#E06C75;">                                          version</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0.6.0</span></span>
<span class="line"><span style="color:#E06C75;">                                          platform</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">win32</span></span>
<span class="line"><span style="color:#E06C75;">                                          arch</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">x64</span></span>
<span class="line"><span style="color:#E06C75;">                                          napi</span><span style="color:#56B6C2;">=</span></span>
<span class="line"><span style="color:#E06C75;">                                          reason</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">prebuild-install</span><span style="color:#61AFEF;"> failed</span><span style="color:#98C379;"> with</span><span style="color:#98C379;"> error</span><span style="color:#ABB2BF;"> (run </span><span style="color:#98C379;">with</span><span style="color:#98C379;"> env</span><span style="color:#98C379;"> DEBUG=electron-builder</span><span style="color:#98C379;"> to</span><span style="color:#98C379;"> get</span><span style="color:#98C379;"> more</span><span style="color:#98C379;"> information</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;">                                          error</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#98C379;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">MyProject</span><span style="color:#ABB2BF;">]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode-abi</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">ndex.js:36</span></span>
<span class="line"><span style="color:#61AFEF;">      throw</span><span style="color:#98C379;"> new</span><span style="color:#98C379;"> Error</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&#39;Could not detect abi for version &#39;</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> target</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> &#39; and runtime &#39;</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> runtime</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> &#39;.  Updating &quot;node-abi&quot; might help solve this issue if it is a new release of &#39;</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> runtime</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">      ^</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">    Error:</span><span style="color:#98C379;"> Could</span><span style="color:#98C379;"> not</span><span style="color:#98C379;"> detect</span><span style="color:#98C379;"> abi</span><span style="color:#98C379;"> for</span><span style="color:#98C379;"> version</span><span style="color:#D19A66;"> 23.0.0</span><span style="color:#98C379;"> and</span><span style="color:#98C379;"> runtime</span><span style="color:#98C379;"> electron.</span><span style="color:#98C379;">  Updating</span><span style="color:#98C379;"> &quot;node-abi&quot;</span><span style="color:#98C379;"> might</span><span style="color:#98C379;"> help</span><span style="color:#98C379;"> solve</span><span style="color:#98C379;"> this</span><span style="color:#98C379;"> issue</span><span style="color:#98C379;"> if</span><span style="color:#98C379;"> it</span><span style="color:#98C379;"> is</span><span style="color:#98C379;"> a</span><span style="color:#98C379;"> new</span><span style="color:#98C379;"> release</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> electron</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> getAbi</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode-abi</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">ndex.js:36:9)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> module.exports</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\p</span><span style="color:#ABB2BF;">rebuild-install</span><span style="color:#56B6C2;">\\r</span><span style="color:#ABB2BF;">c.js:73:57)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Object.</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">anonymou</span><span style="color:#ABB2BF;">s&gt; (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\p</span><span style="color:#ABB2BF;">rebuild-install</span><span style="color:#56B6C2;">\\b</span><span style="color:#ABB2BF;">in.js:9:25)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module._compile</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:1159:14)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module._extensions..js</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:1213:10)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module.load</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:1037:32)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module._load</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:878:12)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Function.executeUserEntryPoint</span><span style="color:#ABB2BF;"> [as </span><span style="color:#98C379;">runMain]</span><span style="color:#ABB2BF;"> (node:internal/modules/run_main:81:12)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> node:internal/main/run_main_module:23:47</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">    Node.js</span><span style="color:#98C379;"> v18.12.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">  •</span><span style="color:#98C379;"> rebuilding</span><span style="color:#98C379;"> native</span><span style="color:#98C379;"> dependency</span><span style="color:#98C379;">  name=robotjs</span><span style="color:#98C379;"> version=</span><span style="color:#D19A66;">0.6.0</span></span>
<span class="line"><span style="color:#61AFEF;">  ⨯</span><span style="color:#98C379;"> cannot</span><span style="color:#98C379;"> execute</span><span style="color:#98C379;">  cause=exit</span><span style="color:#98C379;"> status</span><span style="color:#D19A66;"> 1</span></span>
<span class="line"><span style="color:#61AFEF;">yarn</span><span style="color:#98C379;"> run</span><span style="color:#98C379;"> v1.22.19</span></span>
<span class="line"><span style="color:#61AFEF;">$</span><span style="color:#98C379;"> prebuild-install</span><span style="color:#ABB2BF;"> || </span><span style="color:#61AFEF;">node-gyp</span><span style="color:#98C379;"> rebuild</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">    D:\\Code\\[MyProject]\\[Electron]\\electron-recruitment_assistant\\node_modules\\robotjs</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#98C379;">if</span><span style="color:#98C379;"> not</span><span style="color:#98C379;"> defined</span><span style="color:#98C379;"> npm_config_node_gyp</span><span style="color:#ABB2BF;"> (node </span><span style="color:#98C379;">&quot;C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\node-gyp-bin</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js&quot;</span><span style="color:#98C379;"> rebuild</span><span style="color:#ABB2BF;"> )  </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> (</span><span style="color:#61AFEF;">node</span><span style="color:#98C379;"> &quot;&quot;</span><span style="color:#98C379;"> rebuild</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#61AFEF;">info</span><span style="color:#98C379;"> Visit</span><span style="color:#98C379;"> https://yarnpkg.com/en/docs/cli/run</span><span style="color:#98C379;"> for</span><span style="color:#98C379;"> documentation</span><span style="color:#98C379;"> about</span><span style="color:#98C379;"> this</span><span style="color:#98C379;"> command.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">warning</span><span style="color:#98C379;"> ..</span><span style="color:#56B6C2;">\\.</span><span style="color:#98C379;">.</span><span style="color:#56B6C2;">\\p</span><span style="color:#98C379;">ackage.json:</span><span style="color:#98C379;"> No</span><span style="color:#98C379;"> license</span><span style="color:#98C379;"> field</span></span>
<span class="line"><span style="color:#61AFEF;">    D:\\Code\\[MyProject]\\[Electron]\\electron-recruitment_assistant\\node_modules\\node-abi\\index.js:36</span></span>
<span class="line"><span style="color:#61AFEF;">      throw</span><span style="color:#98C379;"> new</span><span style="color:#98C379;"> Error</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">&#39;Could not detect abi for version &#39;</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> target</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> &#39; and runtime &#39;</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> runtime</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> &#39;.  Updating &quot;node-abi&quot; might help solve this issue if it is a new release of &#39;</span><span style="color:#98C379;"> +</span><span style="color:#98C379;"> runtime</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">      ^</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">    Error:</span><span style="color:#98C379;"> Could</span><span style="color:#98C379;"> not</span><span style="color:#98C379;"> detect</span><span style="color:#98C379;"> abi</span><span style="color:#98C379;"> for</span><span style="color:#98C379;"> version</span><span style="color:#D19A66;"> 23.0.0</span><span style="color:#98C379;"> and</span><span style="color:#98C379;"> runtime</span><span style="color:#98C379;"> electron.</span><span style="color:#98C379;">  Updating</span><span style="color:#98C379;"> &quot;node-abi&quot;</span><span style="color:#98C379;"> might</span><span style="color:#98C379;"> help</span><span style="color:#98C379;"> solve</span><span style="color:#98C379;"> this</span><span style="color:#98C379;"> issue</span><span style="color:#98C379;"> if</span><span style="color:#98C379;"> it</span><span style="color:#98C379;"> is</span><span style="color:#98C379;"> a</span><span style="color:#98C379;"> new</span><span style="color:#98C379;"> release</span><span style="color:#98C379;"> of</span><span style="color:#98C379;"> electron</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> getAbi</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode-abi</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">ndex.js:36:9)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> module.exports</span><span style="color:#ABB2BF;"> (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\p</span><span style="color:#ABB2BF;">rebuild-install</span><span style="color:#56B6C2;">\\r</span><span style="color:#ABB2BF;">c.js:73:57)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Object.</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">anonymou</span><span style="color:#ABB2BF;">s&gt; (D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#ABB2BF;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\p</span><span style="color:#ABB2BF;">rebuild-install</span><span style="color:#56B6C2;">\\b</span><span style="color:#ABB2BF;">in.js:9:25)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module._compile</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:1159:14)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module._extensions..js</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:1213:10)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module.load</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:1037:32)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Module._load</span><span style="color:#ABB2BF;"> (node:internal/modules/cjs/loader:878:12)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> Function.executeUserEntryPoint</span><span style="color:#ABB2BF;"> [as </span><span style="color:#98C379;">runMain]</span><span style="color:#ABB2BF;"> (node:internal/modules/run_main:81:12)</span></span>
<span class="line"><span style="color:#61AFEF;">        at</span><span style="color:#98C379;"> node:internal/main/run_main_module:23:47</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">    Node.js</span><span style="color:#98C379;"> v18.12.1</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> info</span><span style="color:#98C379;"> it</span><span style="color:#98C379;"> worked</span><span style="color:#98C379;"> if</span><span style="color:#98C379;"> it</span><span style="color:#98C379;"> ends</span><span style="color:#98C379;"> with</span><span style="color:#98C379;"> ok</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> info</span><span style="color:#98C379;"> using</span><span style="color:#98C379;"> node-gyp@9.1.0</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> info</span><span style="color:#98C379;"> using</span><span style="color:#98C379;"> node@18.12.1</span><span style="color:#ABB2BF;"> | </span><span style="color:#61AFEF;">win32</span><span style="color:#ABB2BF;"> | </span><span style="color:#61AFEF;">x64</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> info</span><span style="color:#98C379;"> find</span><span style="color:#98C379;"> Python</span><span style="color:#98C379;"> using</span><span style="color:#98C379;"> Python</span><span style="color:#98C379;"> version</span><span style="color:#D19A66;"> 3.10.10</span><span style="color:#98C379;"> found</span><span style="color:#98C379;"> at</span><span style="color:#98C379;"> &quot;C:\\Users\\userHu\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\python.exe&quot;</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> http</span><span style="color:#98C379;"> GET</span><span style="color:#98C379;"> https://registry.npmmirror.com/dist/v23.0.0/node-v23.0.0-headers.tar.gz</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> http</span><span style="color:#D19A66;"> 404</span><span style="color:#98C379;"> https://registry.npmmirror.com/dist/v23.0.0/node-v23.0.0-headers.tar.gz</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> WARN</span><span style="color:#98C379;"> install</span><span style="color:#98C379;"> got</span><span style="color:#98C379;"> an</span><span style="color:#98C379;"> error,</span><span style="color:#98C379;"> rolling</span><span style="color:#98C379;"> back</span><span style="color:#98C379;"> install</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> configure</span><span style="color:#98C379;"> error</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> stack</span><span style="color:#98C379;"> Error:</span><span style="color:#D19A66;"> 404</span><span style="color:#98C379;"> response</span><span style="color:#98C379;"> downloading</span><span style="color:#98C379;"> https://registry.npmmirror.com/dist/v23.0.0/node-v23.0.0-headers.tar.gz</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> stack</span><span style="color:#98C379;">     at</span><span style="color:#98C379;"> go</span><span style="color:#ABB2BF;"> (C:</span><span style="color:#56B6C2;">\\U</span><span style="color:#ABB2BF;">sers</span><span style="color:#56B6C2;">\\u</span><span style="color:#ABB2BF;">serHu</span><span style="color:#56B6C2;">\\A</span><span style="color:#ABB2BF;">ppData</span><span style="color:#56B6C2;">\\R</span><span style="color:#ABB2BF;">oaming</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">vm</span><span style="color:#56B6C2;">\\v</span><span style="color:#ABB2BF;">18.12.1</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">pm</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode-gyp</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">nstall.js:153:17)</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> stack</span><span style="color:#98C379;">     at</span><span style="color:#98C379;"> process.processTicksAndRejections</span><span style="color:#ABB2BF;"> (node:internal/process/task_queues:95:5)</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> stack</span><span style="color:#98C379;">     at</span><span style="color:#98C379;"> async</span><span style="color:#98C379;"> install</span><span style="color:#ABB2BF;"> (C:</span><span style="color:#56B6C2;">\\U</span><span style="color:#ABB2BF;">sers</span><span style="color:#56B6C2;">\\u</span><span style="color:#ABB2BF;">serHu</span><span style="color:#56B6C2;">\\A</span><span style="color:#ABB2BF;">ppData</span><span style="color:#56B6C2;">\\R</span><span style="color:#ABB2BF;">oaming</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">vm</span><span style="color:#56B6C2;">\\v</span><span style="color:#ABB2BF;">18.12.1</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">pm</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode-gyp</span><span style="color:#56B6C2;">\\l</span><span style="color:#ABB2BF;">ib</span><span style="color:#56B6C2;">\\i</span><span style="color:#ABB2BF;">nstall.js:62:18)</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> System</span><span style="color:#98C379;"> Windows_NT</span><span style="color:#D19A66;"> 10.0.22621</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> command</span><span style="color:#98C379;"> &quot;C:</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">Program Files</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">nodejs</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">node.exe&quot;</span><span style="color:#98C379;"> &quot;C:</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">Program Files</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">nodejs</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">node_modules</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">npm</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">node_modules</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">node-gyp</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">bin</span><span style="color:#56B6C2;">\\\\</span><span style="color:#98C379;">node-gyp.js&quot;</span><span style="color:#98C379;"> &quot;rebuild&quot;</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> cwd</span><span style="color:#98C379;"> D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#98C379;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">MyProject]</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#98C379;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">ode_modules</span><span style="color:#56B6C2;">\\r</span><span style="color:#98C379;">obotjs</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> node</span><span style="color:#D19A66;"> -v</span><span style="color:#98C379;"> v18.12.1</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> node-gyp</span><span style="color:#D19A66;"> -v</span><span style="color:#98C379;"> v9.1.0</span></span>
<span class="line"><span style="color:#61AFEF;">    gyp</span><span style="color:#98C379;"> ERR!</span><span style="color:#98C379;"> not</span><span style="color:#98C379;"> ok</span></span>
<span class="line"><span style="color:#61AFEF;">error</span><span style="color:#98C379;"> Command</span><span style="color:#98C379;"> failed</span><span style="color:#98C379;"> with</span><span style="color:#98C379;"> exit</span><span style="color:#98C379;"> code</span><span style="color:#98C379;"> 1.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">                    command</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;C:\\Program Files\\nodejs\\node.exe&#39;</span><span style="color:#98C379;"> &#39;C:\\Users\\userHu\\AppData\\Roaming\\nvm\\v18.12.1\\node_modules\\yarn\\bin\\yarn.js&#39;</span><span style="color:#61AFEF;"> run</span><span style="color:#98C379;"> install</span></span>
<span class="line"><span style="color:#E06C75;">                    workingDir</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">D:</span><span style="color:#56B6C2;">\\C</span><span style="color:#98C379;">ode</span><span style="color:#56B6C2;">\\[</span><span style="color:#98C379;">MyProject</span><span style="color:#ABB2BF;">]</span><span style="color:#56B6C2;">\\[</span><span style="color:#ABB2BF;">Electron]</span><span style="color:#56B6C2;">\\e</span><span style="color:#ABB2BF;">lectron-recruitment_assistant</span><span style="color:#56B6C2;">\\n</span><span style="color:#ABB2BF;">ode_modules</span><span style="color:#56B6C2;">\\r</span><span style="color:#ABB2BF;">obotjs</span></span>
<span class="line"><span style="color:#61AFEF;">error</span><span style="color:#98C379;"> Command</span><span style="color:#98C379;"> failed</span><span style="color:#98C379;"> with</span><span style="color:#98C379;"> exit</span><span style="color:#98C379;"> code</span><span style="color:#98C379;"> 1.</span></span>
<span class="line"><span style="color:#61AFEF;">info</span><span style="color:#98C379;"> Visit</span><span style="color:#98C379;"> https://yarnpkg.com/en/docs/cli/add</span><span style="color:#98C379;"> for</span><span style="color:#98C379;"> documentation</span><span style="color:#98C379;"> about</span><span style="color:#98C379;"> this</span><span style="color:#98C379;"> command.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><p><a href="https://github.com/octalmage/robotjs/issues/642" target="_blank" rel="noreferrer">当我为 javaScript 项目安装 robotjs 时出错（操作系统自动化） ·问题 #642 ·Octalmage/robotjs (github.com)</a></p><p>前面的都不行的话，看：Electron 编译元素 Node 模块方案：<a href="https://www.electronjs.org/zh/docs/latest/tutorial/using-native-node-modules" target="_blank" rel="noreferrer">https://www.electronjs.org/zh/docs/latest/tutorial/using-native-node-modules</a></p><p>文档页面内搜索：<code>--dist-url=https://electronjs.org/headers</code> 替换 <code>--disturl=https://atom.io/download/atom-shell</code> ，因为 atom-shell 这个链接停止运营</p><h1 id="「全局命令」-robotjs-体验桌面自动化" tabindex="-1">「全局命令」&amp; robotjs 体验桌面自动化 <a class="header-anchor" href="#「全局命令」-robotjs-体验桌面自动化" aria-label="Permalink to &quot;「全局命令」&amp; robotjs 体验桌面自动化&quot;">​</a></h1><p>本文主要介绍如何实现全局命令，如何使用 robotjs 实现桌面自动化以及踩坑经验分享。</p><p><img src="`+r+`" alt="图片"></p><p>自动旋转 3D 模型</p><h2 id="实现全局命令的步骤" tabindex="-1">实现全局命令的步骤 <a class="header-anchor" href="#实现全局命令的步骤" aria-label="Permalink to &quot;实现全局命令的步骤&quot;">​</a></h2><h4 id="_1-创建一个新项目-并生成-package-json-文件" tabindex="-1">1.创建一个新项目，并生成 package.json 文件 <a class="header-anchor" href="#_1-创建一个新项目-并生成-package-json-文件" aria-label="Permalink to &quot;1.创建一个新项目，并生成 package.json 文件&quot;">​</a></h4><p>比如新建项目 <code>weakup</code>，并在项目根目录下执行 <code>npm init -y</code> 生成 package.json 文件。</p><h4 id="_2-创建一个-bin-文件夹-并在-bin-文件夹下创建一个-weakup-js-文件" tabindex="-1">2.创建一个 bin 文件夹，并在 bin 文件夹下创建一个 weakup.js 文件 <a class="header-anchor" href="#_2-创建一个-bin-文件夹-并在-bin-文件夹下创建一个-weakup-js-文件" aria-label="Permalink to &quot;2.创建一个 bin 文件夹，并在 bin 文件夹下创建一个 weakup.js 文件&quot;">​</a></h4><p>比如需要创建一个 node 可执行文件，如下代码：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">#!/usr/bin/env node</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;Hello, Weakup&quot;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>首行 <code>#!/usr/bin/env</code> 表示这是一个可执行文件，<code>node</code> 表示使用系统环境变量中的 <code>node</code> 命令来执行这个文件。如果需要用 <code>python</code> 来执行这个文件，可以改为 <code>#!/usr/bin/env python</code>。</p><h4 id="_3-修改-package-json-文件添加-bin-字段" tabindex="-1">3.修改 package.json 文件添加 <code>bin</code> 字段 <a class="header-anchor" href="#_3-修改-package-json-文件添加-bin-字段" aria-label="Permalink to &quot;3.修改 package.json 文件添加 \`bin\` 字段&quot;">​</a></h4><p>在<code>bin</code>字段中声明全局命令和对应执行的文件，如下代码：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;name&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;weakup&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;type&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;module&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;bin&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;weakup&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;bin/weakup.js&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;files&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;bin&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>&quot;weakup&quot;: &quot;bin/weakup.js&quot;</code>表示全局命令为 <code>weakup</code>，对应的执行文件为 <code>bin/weakup.js</code>。当我们在命令行里输入 <code>weakup</code> 并按下回车后，会自动执行 <code>bin/weakup.js</code> 文件。</p><h4 id="_4-执行-npm-link-将-weakup-命令注册到系统" tabindex="-1">4.执行 <code>npm link</code> 将 <code>weakup</code> 命令注册到系统 <a class="header-anchor" href="#_4-执行-npm-link-将-weakup-命令注册到系统" aria-label="Permalink to &quot;4.执行 \`npm link\` 将 \`weakup\` 命令注册到系统&quot;">​</a></h4><blockquote><p><code>npm link</code> 可以帮助我们模拟包安装后的状态，它会在系统中做一个快捷方式映射，让本地的包就好像 install 过一样，可以直接使用。</p></blockquote><p><strong>在项目根目录下执行 <code>npm link</code> 命令</strong>，将<code>weakup</code>命令注册到系统。这样在任意命令行下执行 <code>weakup</code> 都会自动执行 <code>bin/weakup.js</code> 文件。</p><p>请注意<code>name</code>字段是必填项，否则在执行 <code>npm link</code> 时会报相应错误。另外，如果是 Mac 电脑可能需要加 <code>sudo</code> 执行。</p><p>参考<a href="https://juejin.cn/post/7271599265969225743" target="_blank" rel="noreferrer">从零开发前端 CL 命令</a> 👍</p><h4 id="_5-配合inquirer库-可以实现命令行交互功能" tabindex="-1">5.配合<code>inquirer</code>库，可以实现命令行交互功能 <a class="header-anchor" href="#_5-配合inquirer库-可以实现命令行交互功能" aria-label="Permalink to &quot;5.配合\`inquirer\`库，可以实现命令行交互功能&quot;">​</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> inquirer</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;inquirer&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> questions</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [{</span><span style="color:#E06C75;">type</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&#39;list&#39;</span><span style="color:#ABB2BF;">, ...}, {</span><span style="color:#E06C75;">type</span><span style="color:#ABB2BF;">:</span><span style="color:#98C379;">&#39;input&#39;</span><span style="color:#ABB2BF;">, ...}]</span></span>
<span class="line"><span style="color:#E5C07B;">inquirer</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">prompt</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">questions</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">then</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">res</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">  console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;你的选择:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">res</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}).</span><span style="color:#61AFEF;">catch</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">error</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参考<a href="https://www.npmjs.com/package/inquirer" target="_blank" rel="noreferrer">inquirer 文档</a></p><h2 id="robotjs-的基本使用" tabindex="-1">robotjs 的基本使用 <a class="header-anchor" href="#robotjs-的基本使用" aria-label="Permalink to &quot;robotjs 的基本使用&quot;">​</a></h2><p>robotjs 可以实现桌面自动化，它提供了鼠标、键盘和屏幕的控制能力。方法不是很多，文档也比较清晰，使用的时候查一下就好了。需要注意的是，执行完鼠标移动、点击或输入操作后，最好 delay 一下，否则可能会出现一些奇怪的问题。参考<a href="https://robotjs.io/docs/syntax" target="_blank" rel="noreferrer">robotjs 文档</a></p><h3 id="下面说一下安装" tabindex="-1">下面说一下安装： <a class="header-anchor" href="#下面说一下安装" aria-label="Permalink to &quot;下面说一下安装：&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">npm</span><span style="color:#98C379;"> install</span><span style="color:#98C379;"> robotjs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="mac-前置安装工具-如果运行失败" tabindex="-1">Mac 前置安装工具（如果运行失败） <a class="header-anchor" href="#mac-前置安装工具-如果运行失败" aria-label="Permalink to &quot;Mac 前置安装工具（如果运行失败）&quot;">​</a></h4><ol><li><ol><li>xcode 环境</li></ol></li><li><ol start="2"><li>CammandLineTools</li></ol></li></ol><h4 id="windows-前置安装工具" tabindex="-1">windows 前置安装工具 <a class="header-anchor" href="#windows-前置安装工具" aria-label="Permalink to &quot;windows 前置安装工具&quot;">​</a></h4><ul><li>• Python 环境：下载安装 python3.11.x（下载地址：<a href="https://www.python.org/downloads/windows/%E3%80%82%E5%AE%89%E8%A3%85%E5%90%8E%E5%8F%AF%E5%9C%A8C:%5CUsers%5Cxxx%5CAppData%5CLocal%5CPrograms%5CPython%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E7%89%88%E6%9C%AC%EF%BC%89" target="_blank" rel="noreferrer">https://www.python.org/downloads/windows/。安装后可在C:\\Users\\xxx\\AppData\\Local\\Programs\\Python查看安装版本）</a></li><li>• C++环境：下载安装 VisualStudio，在安装 Visual Studio 时，请确保选择了 &quot;Desktop development with C++&quot; 工作负载。（下载地址：<a href="https://visualstudio.microsoft.com/zh-hans/downloads/%EF%BC%88%E7%A4%BE%E5%8C%BA%E7%89%88%EF%BC%89%EF%BC%89%EF%BC%9B" target="_blank" rel="noreferrer">https://visualstudio.microsoft.com/zh-hans/downloads/（社区版））；</a></li><li>• npm install --global --production windows-build-tools</li></ul><h3 id="几个本人的使用场景" tabindex="-1">几个本人的使用场景 <a class="header-anchor" href="#几个本人的使用场景" aria-label="Permalink to &quot;几个本人的使用场景&quot;">​</a></h3><ul><li>• 屏幕取色：实时显示鼠标位置和当前位置的屏幕颜色；</li><li>• 风格截屏：截取整个屏幕，处理 rgba 信息，并保存为 PNG 文件（还没有实现鼠标拖动截屏功能）；</li><li>• 自动登陆 ssh：打开系统命令行工具，执行预设的服务器登录流程</li><li>• 抖音无人直播助手：web 页面观看直播时自动点击页面实现保活 / 3D 无人直播时旋转 3D 模型 / 模拟输入自动回复直播间的聊天（需要走 http 服务并接入 GPT）；</li><li>• 录屏：robotjs 截屏存图，再用 ffmpeg 把图片组装生成视频（todo）；</li></ul><p>之前用过<code>puppeteer</code>这种无头浏览器模拟，它的功能更强大。用来实现爬虫、截屏、自动化测试都挺方便的运行起来不占用用户的鼠标、键盘外设，这些是它的优点。但是<code>robotjs</code>的优点也很明显，就是它能够在桌面层级进行操作，理论上如果仔细编排流程的话，任何界面任何软件都能模拟用户的真实操作。<em>觉得 robojs 强大，然而我没有想到什么特别有意思且使用的场景，想来个集思广益的 😮</em>。</p><h3 id="「截屏保存」简单实现" tabindex="-1">「截屏保存」简单实现 <a class="header-anchor" href="#「截屏保存」简单实现" aria-label="Permalink to &quot;「截屏保存」简单实现&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> fs</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;fs&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> robot</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;robotjs&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">PNG</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &quot;pngjs&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">fileURLToPath</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &quot;url&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> path</span><span style="color:#ABB2BF;">, { </span><span style="color:#E06C75;">dirname</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &quot;path&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> __filename</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> fileURLToPath</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">meta</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> __dirname</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> dirname</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">__filename</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 截图尺寸</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> dpr</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">//获取自己屏幕的dpr</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> size</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> robot</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getScreenSize</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;size:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">size</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 截取屏幕</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> robot</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">screen</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">capture</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;screenshot.image.length:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 创建 PNG 对象，缩放dpr倍，解决图片不完整的问题</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> png</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> PNG</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">	width</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> dpr</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	height</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> dpr</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">png.data.length:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">png</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> y</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E5C07B;"> png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> x</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E5C07B;"> png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> idx</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> y</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> x</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 4</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> a</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		//交换r和b</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> b</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> g</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> r</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> a</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 将 PNG 对象保存为图片文件</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> filename</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;screenshot.png&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> savePath</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">join</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">__dirname</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">filename</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">png</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pack</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">pipe</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">fs</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createWriteStream</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">filename</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">\`截图保存在 </span><span style="color:#C678DD;">\${</span><span style="color:#E06C75;">savePath</span><span style="color:#C678DD;">}</span><span style="color:#98C379;">\`</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="踩坑经验" tabindex="-1">踩坑经验 <a class="header-anchor" href="#踩坑经验" aria-label="Permalink to &quot;踩坑经验&quot;">​</a></h2><p>以下是实现「屏幕截图存为图片」时遇到的几个问题：</p><h4 id="_1-如何把-robot-screen-capture-返回的-bitmap-数据的-image-存储为-png-文件" tabindex="-1">1. 如何把 <code>robot.screen.capture</code> 返回的 <code>Bitmap</code> 数据的 <code>image</code> 存储为 PNG 文件？ <a class="header-anchor" href="#_1-如何把-robot-screen-capture-返回的-bitmap-数据的-image-存储为-png-文件" aria-label="Permalink to &quot;1. 如何把 \`robot.screen.capture\` 返回的 \`Bitmap\` 数据的 \`image\` 存储为 PNG 文件？&quot;">​</a></h4><p><code>robotjs</code> 没有提供类似方法，我目前是利用<code>pngjs</code>库进行的处理。参考<a href="https://github.com/pngjs/pngjs" target="_blank" rel="noreferrer">pngjs 文档</a></p><h4 id="_2-使用-pngjs-保存的-png-模糊不完整" tabindex="-1">2. 使用 <code>pngjs</code> 保存的 PNG 模糊不完整？ <a class="header-anchor" href="#_2-使用-pngjs-保存的-png-模糊不完整" aria-label="Permalink to &quot;2. 使用 \`pngjs\` 保存的 PNG 模糊不完整？&quot;">​</a></h4><p>先看第一版代码：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> robot</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">screen</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">capture</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> png</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> PNG</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">	width</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	height</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;screenshot.image.length:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;png.data.length:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">png</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>观察上面的 log 输出可以发现，从<code>robot.screen.capture</code>返回的<code>screenshot.image</code>长度为<code>x</code>，而<code>png.data</code>长度为<code>x/2</code>，相差一半。这里可以初步判断图片不完整的原因，且可以知道 <code>dpr</code> 是 2；</p><p><img src="`+t+`" alt="图片"></p><p>模糊不完整截图</p><p>如果修改为以下代码，问题就解决了。</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> dpr</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 假设屏幕是高清屏</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> png</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> PNG</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">	width</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> dpr</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	height</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">size</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> dpr</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+c+`" alt="图片"></p><p>完整清晰截图</p><h4 id="_3-生成的-png-图片「红蓝颠倒」了" tabindex="-1">3.生成的 png 图片「红蓝颠倒」了？ <a class="header-anchor" href="#_3-生成的-png-图片「红蓝颠倒」了" aria-label="Permalink to &quot;3.生成的 png 图片「红蓝颠倒」了？&quot;">​</a></h4><p>将 robotjs 截图数据填充到<code>png</code>的<code>data</code>过程中，需要交换<code>r</code>和<code>b</code>两个像素的位置，例如：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> y</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E5C07B;"> png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> x</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E5C07B;"> png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> idx</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> y</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> x</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 4</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> a</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> screenshot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		//交换r和b（不知道为什么顺序不是rgba而是bgra🤷）</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> b</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> g</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> r</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">		png</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">idx</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> a</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 不透明</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>请教下屏幕前的朋友为什么顺序不是 rgba 而是 bgra🤷</p><h4 id="_4-es-module-模式不支持-dirname-报错如下" tabindex="-1">4. <code>ES module</code> 模式不支持 <code>__dirname</code>，报错如下： <a class="header-anchor" href="#_4-es-module-模式不支持-dirname-报错如下" aria-label="Permalink to &quot;4. \`ES module\` 模式不支持 \`__dirname\`，报错如下：&quot;">​</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> savePath</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">join</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">__dirname</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;screenshot.png&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#56B6C2;">^</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">ReferenceError</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">__dirname</span><span style="color:#E06C75;"> is</span><span style="color:#E06C75;"> not</span><span style="color:#E06C75;"> defined</span><span style="color:#C678DD;"> in</span><span style="color:#E5C07B;"> ES</span><span style="color:#C678DD;"> module</span><span style="color:#E5C07B;"> scope</span></span>
<span class="line"><span style="color:#E5C07B;">This</span><span style="color:#E5C07B;"> file</span><span style="color:#E5C07B;"> is</span><span style="color:#E5C07B;"> being</span><span style="color:#E5C07B;"> treated</span><span style="color:#E5C07B;"> as</span><span style="color:#E5C07B;"> an</span><span style="color:#E5C07B;"> ES</span><span style="color:#E5C07B;"> module</span><span style="color:#E5C07B;"> because</span><span style="color:#E5C07B;"> it</span><span style="color:#E5C07B;"> has</span><span style="color:#E5C07B;"> a</span><span style="color:#98C379;"> &#39;.js&#39;</span><span style="color:#E5C07B;"> file</span><span style="color:#E5C07B;"> extension</span><span style="color:#E5C07B;"> and</span><span style="color:#98C379;"> &#39;/Users/xxx/package.json&#39;</span><span style="color:#E5C07B;"> contains</span><span style="color:#98C379;"> &quot;type&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;module&quot;</span><span style="color:#ABB2BF;">. </span><span style="color:#E5C07B;">To</span><span style="color:#E5C07B;"> treat</span><span style="color:#E5C07B;"> it</span><span style="color:#E5C07B;"> as</span><span style="color:#E5C07B;"> a</span><span style="color:#E5C07B;"> CommonJS</span><span style="color:#E5C07B;"> script</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">rename</span><span style="color:#E5C07B;"> it</span><span style="color:#E5C07B;"> to</span><span style="color:#E5C07B;"> use</span><span style="color:#E5C07B;"> the</span><span style="color:#98C379;"> &#39;.cjs&#39;</span><span style="color:#E5C07B;"> file</span><span style="color:#E5C07B;"> extension</span><span style="color:#ABB2BF;">.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>解决方案：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">fileURLToPath</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &quot;url&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> path</span><span style="color:#ABB2BF;">, { </span><span style="color:#E06C75;">dirname</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#98C379;"> &quot;path&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> __filename</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> fileURLToPath</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">meta</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> __dirname</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> dirname</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">__filename</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> savePath</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">join</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">__dirname</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;screenshot.png&quot;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="引用链接" tabindex="-1">引用链接 <a class="header-anchor" href="#引用链接" aria-label="Permalink to &quot;引用链接&quot;">​</a></h4><p><code>[1]</code> 从零开发前端 CL 命令：<a href="https://juejin.cn/post/7271599265969225743" target="_blank" rel="noreferrer">https://juejin.cn/post/7271599265969225743</a><code>[2]</code> inquirer 文档：<a href="https://www.npmjs.com/package/inquirer" target="_blank" rel="noreferrer">https://www.npmjs.com/package/inquirer</a><code>[3]</code> robotjs 文档：<a href="https://robotjs.io/docs/syntax" target="_blank" rel="noreferrer">https://robotjs.io/docs/syntax</a><code>[4]</code> pngjs 文档：<a href="https://github.com/pngjs/pngjs" target="_blank" rel="noreferrer">https://github.com/pngjs/pngjs</a></p>`,125)]))}const m=n(y,[["render",B]]);export{A as __pageData,m as default};
