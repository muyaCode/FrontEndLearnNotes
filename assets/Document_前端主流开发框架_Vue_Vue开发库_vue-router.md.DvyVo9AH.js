import{_ as n,c as a,o as l,ah as p}from"./chunks/framework.DqD713j2.js";const u=JSON.parse('{"title":"vue-router4","description":"","frontmatter":{},"headers":[],"relativePath":"Document/å‰ç«¯ä¸»æµå¼€å‘æ¡†æ¶/Vue/Vueå¼€å‘åº“/vue-router.md","filePath":"Document/å‰ç«¯ä¸»æµå¼€å‘æ¡†æ¶/Vue/Vueå¼€å‘åº“/vue-router.md","lastUpdated":1750954157000}'),o={name:"Document/å‰ç«¯ä¸»æµå¼€å‘æ¡†æ¶/Vue/Vueå¼€å‘åº“/vue-router.md"};function e(t,s,r,c,B,i){return l(),a("div",null,s[0]||(s[0]=[p(`<h1 id="vue-router4" tabindex="-1">vue-router4 <a class="header-anchor" href="#vue-router4" aria-label="Permalink to &quot;vue-router4&quot;">â€‹</a></h1><p>å®˜ç½‘ï¼š<a href="https://router.vuejs.org/zh/" target="_blank" rel="noreferrer">Vue Router</a></p><p>æ–‡æ¡£ï¼š<a href="https://router.vuejs.org/zh/introduction.html" target="_blank" rel="noreferrer">ä»‹ç» | Vue Router</a>ï¼ŒæŒ‰ç…§æ–‡æ¡£é…ç½®ä¿¡æ¯</p><p>GitHubï¼š<a href="https://github.com/vuejs/router" target="_blank" rel="noreferrer">GitHub - vuejs/router: ğŸš¦ The official router for Vue.js</a></p><hr><h4 id="æ–‡æ¡£ä¹‹å¤–çš„-è·¯ç”±å’Œæƒé™æ ¡éªŒ" tabindex="-1">æ–‡æ¡£ä¹‹å¤–çš„ï¼šè·¯ç”±å’Œæƒé™æ ¡éªŒï¼š <a class="header-anchor" href="#æ–‡æ¡£ä¹‹å¤–çš„-è·¯ç”±å’Œæƒé™æ ¡éªŒ" aria-label="Permalink to &quot;æ–‡æ¡£ä¹‹å¤–çš„ï¼šè·¯ç”±å’Œæƒé™æ ¡éªŒï¼š&quot;">â€‹</a></h4><h5 id="åˆ©ç”¨è·¯ç”±å…ƒä¿¡æ¯-meta-å±æ€§æ¥è®¾ç½®å¯¹è±¡-è·¯ç”±å…ƒä¿¡æ¯-vue-router" tabindex="-1"><strong>åˆ©ç”¨è·¯ç”±å…ƒä¿¡æ¯ meta å±æ€§æ¥è®¾ç½®å¯¹è±¡ï¼š<a href="https://router.vuejs.org/zh/guide/advanced/meta.html" target="_blank" rel="noreferrer">è·¯ç”±å…ƒä¿¡æ¯ | Vue Router</a></strong> <a class="header-anchor" href="#åˆ©ç”¨è·¯ç”±å…ƒä¿¡æ¯-meta-å±æ€§æ¥è®¾ç½®å¯¹è±¡-è·¯ç”±å…ƒä¿¡æ¯-vue-router" aria-label="Permalink to &quot;**åˆ©ç”¨è·¯ç”±å…ƒä¿¡æ¯ meta å±æ€§æ¥è®¾ç½®å¯¹è±¡ï¼š[è·¯ç”±å…ƒä¿¡æ¯ | Vue Router](https://router.vuejs.org/zh/guide/advanced/meta.html)**&quot;">â€‹</a></h5><p>1.meta å­—æ®µå®šä¹‰è·¯ç”±æ ‡é¢˜ã€å›¾æ ‡ã€æƒé™ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> routes</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">	{</span></span>
<span class="line"><span style="color:#E06C75;">		path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;/login&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#61AFEF;">		component</span><span style="color:#ABB2BF;">: () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#61AFEF;"> import</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;@/views/login.vue&quot;</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#E06C75;">		meta</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;è·¯ç”±æ ‡é¢˜&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">icon</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;edit&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">roles</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;admin1&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;admin2&quot;</span><span style="color:#ABB2BF;">] },</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="è·¯ç”±å®ˆå«è®¾ç½®" tabindex="-1">è·¯ç”±å®ˆå«è®¾ç½®ï¼š <a class="header-anchor" href="#è·¯ç”±å®ˆå«è®¾ç½®" aria-label="Permalink to &quot;è·¯ç”±å®ˆå«è®¾ç½®ï¼š&quot;">â€‹</a></h5><p><strong>å…¨å±€å‰ç½®å®ˆå«è®¾ç½®<code>router.beforeEach</code>ï¼š</strong></p><p>å½“ä¸€ä¸ªå¯¼èˆªè§¦å‘æ—¶ï¼Œå…¨å±€å‰ç½®å®ˆå«æŒ‰ç…§åˆ›å»ºé¡ºåºè°ƒç”¨ã€‚å®ˆå«æ˜¯å¼‚æ­¥è§£ææ‰§è¡Œï¼Œæ­¤æ—¶å¯¼èˆªåœ¨æ‰€æœ‰å®ˆå« resolve å®Œä¹‹å‰ä¸€ç›´å¤„äº<strong>ç­‰å¾…ä¸­</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beforeEach</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">next</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä¾‹å­ï¼špermission.js æƒé™æ–¹æ³•é‡Œé¢ä½¿ç”¨ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦ç™»å½•ï¼Œå’Œç™»å½•åéœ€è¦è·³è½¬çš„è·¯ç”±é¡µé¢</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beforeEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">async</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">next</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">	NProgress</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">start</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> token</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">state</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">token</span><span style="color:#56B6C2;"> ||</span><span style="color:#E5C07B;"> sessionStorage</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getItem</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;token&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">token</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">to</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">path</span><span style="color:#56B6C2;"> ===</span><span style="color:#98C379;"> &quot;/login&quot;</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;">			next</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;/information&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			NProgress</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">done</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">			const</span><span style="color:#E5C07B;"> hasRoles</span><span style="color:#56B6C2;"> =</span></span>
<span class="line"><span style="color:#E5C07B;">				store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">state</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">permissionRoutes</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">state</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">permissionRoutes</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">hasRoles</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;">				next</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">			} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// è·å–ç”¨æˆ·çš„è§’è‰²</span></span>
<span class="line"><span style="color:#C678DD;">				let</span><span style="color:#E06C75;"> admins</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> await</span><span style="color:#E5C07B;"> absApi</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getAdmin</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">				if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">admins</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">code</span><span style="color:#56B6C2;"> ===</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">					const</span><span style="color:#ABB2BF;"> { </span><span style="color:#E5C07B;">authorities</span><span style="color:#ABB2BF;"> } </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> admins</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">					store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">mutations</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">setUser</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">admins</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">					const</span><span style="color:#E5C07B;"> roles</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> authorities</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">map</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">auth</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> auth</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">authorityCode</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">mutations</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">setRoles</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">roles</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// è·å–è§’è‰²çš„è·¯ç”±æƒé™</span></span>
<span class="line"><span style="color:#C678DD;">					const</span><span style="color:#E5C07B;"> permissionRoutes</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> permissionUtils</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">generateRoutes</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">roles</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// ç›®å‰åªæœ‰SYSTEM_ADMINè´¦å·æ‰æœ‰æ•°æ®æŸ¥çœ‹çš„æƒé™</span></span>
<span class="line"><span style="color:#C678DD;">					if</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#E5C07B;">						roles</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">includes</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;SYSTEM_ADMIN&quot;</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">||</span></span>
<span class="line"><span style="color:#E5C07B;">						roles</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">includes</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;COUNTY_ADMIN&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">					) {</span></span>
<span class="line"><span style="color:#E06C75;">						permissionRoutes</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">redirect</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;/dashboard&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">					} </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">roles</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">includes</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;INSURANCE_COMPANY&quot;</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#E06C75;">						permissionRoutes</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">redirect</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;/insurance&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">					} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">						permissionRoutes</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">redirect</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;/information&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">					}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// æ·»åŠ è·¯ç”±</span></span>
<span class="line"><span style="color:#E5C07B;">					router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addRoutes</span><span style="color:#ABB2BF;">([</span></span>
<span class="line"><span style="color:#ABB2BF;">						{</span></span>
<span class="line"><span style="color:#E06C75;">							path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;*&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">							component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">Layout</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">							redirect</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;/404&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">							meta</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;é¦–é¡µ&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#E06C75;">							children</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">								{</span></span>
<span class="line"><span style="color:#E06C75;">									path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;/404&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">									meta</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;404&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#61AFEF;">									component</span><span style="color:#ABB2BF;">: () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#61AFEF;"> import</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;@/views/error/404&quot;</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">								},</span></span>
<span class="line"><span style="color:#ABB2BF;">							],</span></span>
<span class="line"><span style="color:#ABB2BF;">						},</span></span>
<span class="line"><span style="color:#ABB2BF;">						...</span><span style="color:#E06C75;">permissionRoutes</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">					]);</span></span>
<span class="line"><span style="color:#E5C07B;">					store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">mutations</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">setPermissionRoutes</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">permissionRoutes</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">					next</span><span style="color:#ABB2BF;">({ ...</span><span style="color:#E06C75;">to</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#ABB2BF;">				} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">					store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">mutations</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearStoreData</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#61AFEF;">					next</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;/login&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					NProgress</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">done</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">				}</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">whiteRoutes</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">includes</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">to</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#61AFEF;">			next</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">			store</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">mutations</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearStoreData</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#61AFEF;">			next</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;/login&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			NProgress</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">done</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><hr><p><strong>å…¨å±€è§£æå®ˆå«è®¾ç½®<code>router.beforeResolve</code>ï¼š</strong></p><p>åœ¨ Â <strong>æ¯æ¬¡å¯¼èˆª</strong>æ—¶éƒ½ä¼šè§¦å‘ï¼Œä½†æ˜¯ç¡®ä¿åœ¨å¯¼èˆªè¢«ç¡®è®¤ä¹‹å‰ï¼Œ<strong>åŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æä¹‹åï¼Œè§£æå®ˆå«å°±è¢«æ­£ç¡®è°ƒç”¨</strong></p><p><code>router.beforeResolve</code>Â  æ˜¯è·å–æ•°æ®æˆ–æ‰§è¡Œä»»ä½•å…¶ä»–æ“ä½œï¼ˆå¦‚æœç”¨æˆ·æ— æ³•è¿›å…¥é¡µé¢æ—¶ä½ å¸Œæœ›é¿å…æ‰§è¡Œçš„æ“ä½œï¼‰çš„ç†æƒ³ä½ç½®ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beforeResolve</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">async</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä¾‹å­ï¼šç¡®ä¿ç”¨æˆ·å¯ä»¥è®¿é—® è‡ªå®šä¹‰ <a href="https://router.vuejs.org/zh/guide/advanced/meta.html" target="_blank" rel="noreferrer">meta</a>Â  å±æ€§ Â <code>requiresCamera</code>Â  çš„è·¯ç”±ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beforeResolve</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">async</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">to</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">meta</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">requiresCamera</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		try</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">			await</span><span style="color:#61AFEF;"> askForCameraPermission</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		} </span><span style="color:#C678DD;">catch</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">error</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">			if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">error</span><span style="color:#C678DD;"> instanceof</span><span style="color:#E5C07B;"> NotAllowedError</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// ... å¤„ç†é”™è¯¯ï¼Œç„¶åå–æ¶ˆå¯¼èˆª</span></span>
<span class="line"><span style="color:#C678DD;">				return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// æ„æ–™ä¹‹å¤–çš„é”™è¯¯ï¼Œå–æ¶ˆå¯¼èˆªå¹¶æŠŠé”™è¯¯ä¼ ç»™å…¨å±€å¤„ç†å™¨</span></span>
<span class="line"><span style="color:#C678DD;">				throw</span><span style="color:#E06C75;"> error</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>å…¨å±€åç½®é’©å­è®¾ç½®<code>router.afterEach</code>ï¼š</strong></p><p>å¯¹äºåˆ†æã€æ›´æ”¹é¡µé¢æ ‡é¢˜ã€å£°æ˜é¡µé¢ç­‰è¾…åŠ©åŠŸèƒ½ä»¥åŠè®¸å¤šå…¶ä»–äº‹æƒ…éƒ½å¾ˆæœ‰ç”¨</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">afterEach</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#61AFEF;">	sendToAnalytics</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">to</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fullPath</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="https://router.vuejs.org/zh/guide/advanced/navigation-failures.html" target="_blank" rel="noreferrer">navigation failures</a>Â  ç­‰å¾…å¯¼èˆªç»“æœ ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">afterEach</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">failure</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E06C75;">failure</span><span style="color:#ABB2BF;">) </span><span style="color:#61AFEF;">sendToAnalytics</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">to</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fullPath</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä½¿ç”¨è¿›åº¦æ¡åŠ è½½å®Œæˆä¾‹å­ï¼šNProgress.done();</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">afterEach</span><span style="color:#ABB2BF;">(() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">	NProgress</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">done</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>ç»„ä»¶å†…çš„å®ˆå«</strong>ï¼š<a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB" target="_blank" rel="noreferrer">å¯¼èˆªå®ˆå« | Vue Router</a></p><ul><li><code>beforeRouteEnter</code>åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢«éªŒè¯å‰è°ƒç”¨ï¼šå¸¸ç”¨äºåˆ¤æ–­é¡µé¢è·³è½¬çš„å‚æ•°æ¥æ›´æ”¹é¡µé¢æ ‡é¢˜</li><li><code>beforeRouteUpdate</code>åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨ï¼š</li><li><code>beforeRouteLeave</code>åœ¨å¯¼èˆªç¦»å¼€æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨ï¼š</li></ul><hr><h5 id="åŠ¨æ€æ·»åŠ è·¯ç”±" tabindex="-1">åŠ¨æ€æ·»åŠ è·¯ç”±ï¼š <a class="header-anchor" href="#åŠ¨æ€æ·»åŠ è·¯ç”±" aria-label="Permalink to &quot;åŠ¨æ€æ·»åŠ è·¯ç”±ï¼š&quot;">â€‹</a></h5><p>å¸¸ç”¨äºè·¯ç”±æƒé™æ›´æ”¹ï¼Œå’Œç”¨æˆ·çš„è·¯ç”±æƒé™</p><hr><h5 id="vue-router-åŸç†è§£æ" tabindex="-1">vue-router åŸç†è§£æ <a class="header-anchor" href="#vue-router-åŸç†è§£æ" aria-label="Permalink to &quot;vue-router åŸç†è§£æ&quot;">â€‹</a></h5><p>vue-router æ˜¯ vue é¡¹ç›®çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œç”¨äºæ„å»ºå•é¡µåº”ç”¨ã€‚å•é¡µåº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥ã€‚è·¯ç”±çš„æœ¬è´¨å°±æ˜¯å»ºç«‹ url å’Œé¡µé¢ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œè§£æ URL å®ç°ä¸åŒé¡µé¢ä¹‹é—´çš„è·³è½¬</p><h5 id="_1ã€vue-router-è·¯ç”±åŸç†" tabindex="-1">1ã€vue-router è·¯ç”±åŸç† <a class="header-anchor" href="#_1ã€vue-router-è·¯ç”±åŸç†" aria-label="Permalink to &quot;1ã€vue-router è·¯ç”±åŸç†&quot;">â€‹</a></h5><p>vue-router é€šè¿‡ hash ä¸ History interface ä¸¤ç§æ–¹å¼å®ç°å‰ç«¯è·¯ç”±ï¼Œæ›´æ–°è§†å›¾ä½†ä¸é‡æ–°è¯·æ±‚é¡µé¢â€æ˜¯å‰ç«¯è·¯ç”±åŸç†çš„æ ¸å¿ƒä¹‹ä¸€ï¼Œç›®å‰åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­è¿™ä¸€åŠŸèƒ½çš„å®ç°ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼</p><h5 id="_2ã€ä¸¤ç§è·¯ç”±æ¨¡å¼" tabindex="-1">2ã€ä¸¤ç§è·¯ç”±æ¨¡å¼ <a class="header-anchor" href="#_2ã€ä¸¤ç§è·¯ç”±æ¨¡å¼" aria-label="Permalink to &quot;2ã€ä¸¤ç§è·¯ç”±æ¨¡å¼&quot;">â€‹</a></h5><h5 id="_1-hash-æ¨¡å¼" tabindex="-1">1.hash æ¨¡å¼ï¼š <a class="header-anchor" href="#_1-hash-æ¨¡å¼" aria-label="Permalink to &quot;1.hash æ¨¡å¼ï¼š&quot;">â€‹</a></h5><ul><li><p><strong>hash æ¨¡å¼</strong>æ˜¯ vue-router çš„é»˜è®¤æ¨¡å¼ï¼Œåœ¨æµè§ˆå™¨ä¸­ç¬¦å·çš„â€œ#â€ï¼Œä»¥åŠ#åé¢çš„å­—ç¬¦ç§°ä¹‹ä¸º hashï¼Œç”¨ window.location.hash è¯»å–ï¼›</p></li><li><p>hash æŒ‡çš„æ˜¯ url é”šç‚¹ï¼Œ<strong>å½“é”šç‚¹å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæµè§ˆå™¨åªä¼šä¿®æ”¹è®¿é—®å†å²è®°å½•ï¼Œä¸ä¼šè®¿é—®æœåŠ¡å™¨é‡æ–°è·å–é¡µé¢</strong>ã€‚å› æ­¤å¯ä»¥ç›‘å¬æç‚¹å€¼çš„å˜åŒ–ï¼Œæ ¹æ®æç‚¹å€¼æ¸²æŸ“æŒ‡å®š domã€‚</p></li></ul><p><strong>ç‰¹ç‚¹ï¼š</strong></p><ul><li><p>hash è™½ç„¶åœ¨ URL ä¸­ï¼Œä½†ä¸è¢«åŒ…æ‹¬åœ¨ HTTP è¯·æ±‚ä¸­ï¼›ç”¨æ¥æŒ‡å¯¼æµè§ˆå™¨åŠ¨ä½œï¼Œå¯¹æœåŠ¡ç«¯å®‰å…¨æ— ç”¨ã€‚</p></li><li><p>hash ä¸ä¼šé‡åŠ è½½é¡µé¢ã€‚</p></li><li><p>hash æ¨¡å¼ä¸‹ï¼Œä»… hash ç¬¦å·ä¹‹å‰çš„å†…å®¹ä¼šè¢«åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œå¦‚ <a href="http://www.xxx.com" target="_blank" rel="noreferrer">http://www.xxx.com</a>ï¼Œå› æ­¤å¯¹äºåç«¯æ¥è¯´ï¼Œå³ä½¿æ²¡æœ‰åšåˆ°å¯¹è·¯ç”±çš„å…¨è¦†ç›–ï¼Œä¹Ÿä¸ä¼šè¿”å› 404 é”™è¯¯ã€‚</p></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// router/index.js</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> Vue</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;vue&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> Router</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;vue-router&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> routes</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./routes&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">Vue</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">use</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">Router</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Router</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// mode: &#39;history&#39;,</span><span style="color:#7F848E;font-style:italic;"> // é»˜è®¤æ˜¯hashæ¨¡å¼ï¼Œä¸å†™å°±æ˜¯é»˜è®¤æ¨¡å¼</span></span>
<span class="line"><span style="color:#E06C75;">	routes</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>hash æ¨¡å¼ä¸‹ï¼Œurl å¯èƒ½ä¸ºä»¥ä¸‹å½¢å¼ï¼š</strong><br><code>http://localhost:8080/index.html#/book?bookid=1</code></p><p><strong>hash æ¨¡å¼åŸç†å®ç°</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">window</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addEventListener</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;hashchange&quot;</span><span style="color:#ABB2BF;">, () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> hash</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> window</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">location</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">hash</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">substr</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// æ ¹æ®hashå€¼æ¸²æŸ“ä¸åŒçš„dom</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr><h5 id="_2-history-æ¨¡å¼" tabindex="-1">2.history æ¨¡å¼ï¼š <a class="header-anchor" href="#_2-history-æ¨¡å¼" aria-label="Permalink to &quot;2.history æ¨¡å¼ï¼š&quot;">â€‹</a></h5><ul><li>history é‡‡ç”¨ HTML5 çš„æ–°ç‰¹æ€§ï¼›ä¸”æä¾›äº†ä¸¤ä¸ªæ–°æ–¹æ³•ï¼špushStateï¼ˆï¼‰</li><li>replaceStateï¼ˆï¼‰å¯ä»¥å¯¹æµè§ˆå™¨å†å²è®°å½•æ ˆè¿›è¡Œä¿®æ”¹ï¼Œä»¥åŠ popState äº‹ä»¶çš„ç›‘å¬åˆ°çŠ¶æ€å˜æ›´ã€‚</li></ul><p><strong>ç‰¹ç‚¹ï¼š</strong></p><ul><li><p>history æ¨¡å¼ä¸‹ï¼Œå‰ç«¯çš„ URL å¿…é¡»å’Œå®é™…å‘åç«¯å‘èµ·è¯·æ±‚çš„ URL ä¸€è‡´ï¼Œå¦‚ åœ°å€ååŠ ä¸Š/items/idã€‚åç«¯å¦‚æœç¼ºå°‘å¯¹ /items/id çš„è·¯ç”±å¤„ç†ï¼Œå°†è¿”å› 404 é”™è¯¯ã€‚</p></li><li><p>è¿™ç§æ¨¡å¼å……åˆ†åˆ©ç”¨ history.pushState API æ¥å®Œæˆ URL è·³è½¬è€Œæ— é¡»é‡æ–°åŠ è½½é¡µé¢ã€‚</p></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// router/index.js</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> Vue</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;vue&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> Router</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;vue-router&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> routes</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./routes&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">Vue</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">use</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">Router</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Router</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">	mode</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;history&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// é»˜è®¤æ˜¯hashæ¨¡å¼ï¼Œä¸å†™å°±æ˜¯é»˜è®¤æ¨¡å¼</span></span>
<span class="line"><span style="color:#E06C75;">	routes</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>history æ¨¡å¼ï¼Œurl ä¼šå¦‚ä¸‹é¢æ‰€ç¤ºï¼š</strong><br><code>http://localhost:8080/book/1</code></p><p><strong>history æ¨¡å¼åŸç†å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">window</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addEventListener</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;popstate&quot;</span><span style="color:#ABB2BF;">, () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> path</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> window</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">location</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">pathname</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// æ ¹æ®pathä¸åŒå¯æ¸²æŸ“ä¸åŒçš„dom</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr><h5 id="vue-router-æ€»ç»“" tabindex="-1">vue-router æ€»ç»“ <a class="header-anchor" href="#vue-router-æ€»ç»“" aria-label="Permalink to &quot;vue-router æ€»ç»“&quot;">â€‹</a></h5><p>VueRouter æ ¸å¿ƒæ˜¯ï¼Œé€šè¿‡ Vue.use æ³¨å†Œæ’ä»¶ï¼Œåœ¨æ’ä»¶çš„ install æ–¹æ³•ä¸­è·å–ç”¨æˆ·é…ç½®çš„ router å¯¹è±¡ã€‚å½“æµè§ˆå™¨åœ°å€å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ ¹æ® router å¯¹è±¡åŒ¹é…ç›¸åº”è·¯ç”±ï¼Œè·å–ç»„ä»¶ï¼Œå¹¶å°†ç»„ä»¶æ¸²æŸ“åˆ°è§†å›¾ä¸Šã€‚</p><p><strong>ç®€å•çš„ router çš„å®ç°æ­¥éª¤ï¼š</strong></p><ol><li><p>url æ”¹å˜</p></li><li><p>è§¦å‘äº‹ä»¶ç›‘å¬</p></li><li><p>æ”¹å˜ vue-router ä¸­çš„ current å˜é‡</p></li><li><p>ç›‘è§† current å˜é‡çš„ç›‘è§†è€…</p></li><li><p>è·å–æ–°çš„ç»„ä»¶</p></li><li><p>render</p></li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// ****** ç®€å•çš„routerçš„å®ç° ******</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// å­˜å‚¨å…¨å±€ä½¿ç”¨çš„Vueå¯¹è±¡</span></span>
<span class="line"><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> _Vue</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">class</span><span style="color:#E5C07B;"> VueRouter</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// vue.useè¦æ±‚pluginå…·å¤‡ä¸€ä¸ªinstallæ–¹æ³•</span></span>
<span class="line"><span style="color:#C678DD;">	static</span><span style="color:#61AFEF;"> install</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">Vue</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// åˆ¤æ–­æ’ä»¶æ˜¯å¦å·²ç»å®‰è£…è¿‡</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">VueRouter</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">install</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">installed</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">			return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#E5C07B;">		VueRouter</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">install</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">installed</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">		_Vue</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> Vue</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// å°†mainæ–‡ä»¶ä¸­å®ä¾‹åŒ–Vueå¯¹è±¡æ—¶ä¼ å…¥çš„routerå¯¹è±¡æ·»åŠ åˆ°Vueçš„åŸå‹é“¾ä¸Šã€‚</span></span>
<span class="line"><span style="color:#E5C07B;">		_Vue</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">mixin</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#61AFEF;">			beforeCreate</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">				if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">$options</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">router</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">					_Vue</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">$router</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">$options</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">router</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				}</span></span>
<span class="line"><span style="color:#ABB2BF;">			},</span></span>
<span class="line"><span style="color:#ABB2BF;">		});</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">	constructor</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">options</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">options</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> options</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// ç”¨äºå¿«é€ŸæŸ¥æ‰¾route</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">routeMap</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> {};</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">data</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> _Vue</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">observable</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#E06C75;">			current</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">window</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">location</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">hash</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">substr</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">		});</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">init</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">	init</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createRouteMap</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">initComponents</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">_Vue</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">initEvent</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">	createRouteMap</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// éå†æ‰€æœ‰çš„è·¯ç”±è§„åˆ™ å§è·¯ç”±è§„åˆ™è§£ææˆé”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åˆ°routeMapä¸­</span></span>
<span class="line"><span style="color:#E5C07B;">		this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">options</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">routes</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">route</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">			this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">routeMap</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">route</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> route</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">		});</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">	initComponents</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">Vue</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// æ³¨å†Œrouter-linkç»„ä»¶</span></span>
<span class="line"><span style="color:#E5C07B;">		Vue</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">component</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;router-link&quot;</span><span style="color:#ABB2BF;">, {</span></span>
<span class="line"><span style="color:#E06C75;">			props</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">				to</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">String</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">			},</span></span>
<span class="line"><span style="color:#E06C75;">			methods</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#61AFEF;">				clickHandler</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">e</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// ä¿®æ”¹hash</span></span>
<span class="line"><span style="color:#E5C07B;">					location</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">hash</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">to</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// ä¿®æ”¹currentï¼Œè§¦å‘è§†å›¾æ›´æ–°</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">$router</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">current</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">to</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">					e</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">preventDefault</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">			},</span></span>
<span class="line"><span style="color:#61AFEF;">			render</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">h</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">				return</span><span style="color:#61AFEF;"> h</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#98C379;">					&quot;a&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">					{</span></span>
<span class="line"><span style="color:#E06C75;">						attrs</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">							href</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">to</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">						},</span></span>
<span class="line"><span style="color:#E06C75;">						on</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">							click</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">clickHandler</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">						},</span></span>
<span class="line"><span style="color:#ABB2BF;">					},</span></span>
<span class="line"><span style="color:#ABB2BF;">					[</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">$slots</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">default</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#ABB2BF;">			},</span></span>
<span class="line"><span style="color:#ABB2BF;">		});</span></span>
<span class="line"><span style="color:#C678DD;">		const</span><span style="color:#E5C07B;"> that</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// æ³¨å†Œrouter-viewæ’ä»¶</span></span>
<span class="line"><span style="color:#E5C07B;">		Vue</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">component</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;router-view&quot;</span><span style="color:#ABB2BF;">, {</span></span>
<span class="line"><span style="color:#61AFEF;">			render</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">h</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">				const</span><span style="color:#E5C07B;"> component</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">routeMap</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">current</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">				return</span><span style="color:#61AFEF;"> h</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			},</span></span>
<span class="line"><span style="color:#ABB2BF;">		});</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">	initEvent</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// åœ¨hashå‘ç”Ÿæ›´æ”¹çš„æ—¶å€™ï¼Œä¿®æ”¹currentå±æ€§ï¼Œè§¦å‘ç»„ä»¶æ›´æ–°</span></span>
<span class="line"><span style="color:#E5C07B;">		window</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addEventListener</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;hashchange&quot;</span><span style="color:#ABB2BF;">, () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">			this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">data</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">current</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> window</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">location</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">hash</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">substr</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">		});</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#E06C75;"> VueRouter</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br></div></div>`,63)]))}const F=n(o,[["render",e]]);export{u as __pageData,F as default};
