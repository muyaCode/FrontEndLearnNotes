import{_ as a,c as n,o as l,ah as e}from"./chunks/framework.DqD713j2.js";const y=JSON.parse('{"title":"SQL 语言笔记","description":"","frontmatter":{},"headers":[],"relativePath":"Document/数据库的使用/SQL语言笔记.md","filePath":"Document/数据库的使用/SQL语言笔记.md","lastUpdated":1750954157000}'),p={name:"Document/数据库的使用/SQL语言笔记.md"};function o(r,s,t,c,i,d){return l(),n("div",null,s[0]||(s[0]=[e(`<h1 id="sql-语言笔记" tabindex="-1">SQL 语言笔记 <a class="header-anchor" href="#sql-语言笔记" aria-label="Permalink to &quot;SQL 语言笔记&quot;">​</a></h1><p>76 条 SQL 语言完全兼容 4 种数据库</p><ul><li>MySQL</li><li>Oracle</li><li>SQL Server</li><li>PostgreSQL</li></ul><h2 id="数据库客户端" tabindex="-1">数据库客户端 <a class="header-anchor" href="#数据库客户端" aria-label="Permalink to &quot;数据库客户端&quot;">​</a></h2><ul><li>MySQL 字符客户端 mysql</li><li>Oracle 字符客户端 sqlplus</li><li>SQL Server 图形客户端 ADS(Azure Data Studio)</li><li>PostgreSQL 字符客户端 psql</li></ul><h2 id="教程" tabindex="-1">教程 <a class="header-anchor" href="#教程" aria-label="Permalink to &quot;教程&quot;">​</a></h2><p><a href="https://www.w3school.com.cn/sql/sql_syntax.asp" target="_blank" rel="noreferrer">https://www.w3school.com.cn/sql/sql_syntax.asp</a></p><p><a href="https://www.runoob.com/sql/sql-tutorial.html" target="_blank" rel="noreferrer">https://www.runoob.com/sql/sql-tutorial.html</a></p><h2 id="sql-语句" tabindex="-1">SQL 语句 <a class="header-anchor" href="#sql-语句" aria-label="Permalink to &quot;SQL 语句&quot;">​</a></h2><h3 id="基本命令" tabindex="-1">基本命令 <a class="header-anchor" href="#基本命令" aria-label="Permalink to &quot;基本命令&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">登录数据库</span></span>
<span class="line"><span style="color:#E06C75;">	[root@host]</span><span style="color:#ABB2BF;"># mysql -u </span><span style="color:#C678DD;">root</span><span style="color:#ABB2BF;"> -p</span></span>
<span class="line"><span style="color:#ABB2BF;">Enter </span><span style="color:#C678DD;">password</span><span style="color:#ABB2BF;">:******  # 登录后进入终端</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">使用 mysqladmin 创建数据库</span></span>
<span class="line"><span style="color:#E06C75;">	[root@host]</span><span style="color:#ABB2BF;"># mysqladmin -u </span><span style="color:#C678DD;">root</span><span style="color:#ABB2BF;"> -p </span><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> SXT</span></span>
<span class="line"><span style="color:#ABB2BF;">Enter </span><span style="color:#C678DD;">password</span><span style="color:#ABB2BF;">:******</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">创建数据库</span></span>
<span class="line"><span style="color:#C678DD;">	CREATE</span><span style="color:#C678DD;"> DATABASE</span><span style="color:#61AFEF;"> 数据库名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">删除数据库</span></span>
<span class="line"><span style="color:#C678DD;">	drop</span><span style="color:#C678DD;"> database</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#ABB2BF;">数据库名</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">创建数据表</span></span>
<span class="line"><span style="color:#C678DD;">	CREATE</span><span style="color:#C678DD;"> TABLE</span><span style="color:#61AFEF;"> table_name</span><span style="color:#ABB2BF;"> (column_name column_type);</span></span>
<span class="line"><span style="color:#C678DD;">	CREATE</span><span style="color:#C678DD;"> TABLE</span><span style="color:#61AFEF;"> IF</span><span style="color:#C678DD;"> NOT</span><span style="color:#C678DD;"> EXISTS</span><span style="color:#98C379;"> \`sxt_tbl\`</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#98C379;">   \`sxt_id\`</span><span style="color:#C678DD;"> INT</span><span style="color:#ABB2BF;"> UNSIGNED AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#98C379;">   \`sxt_title\`</span><span style="color:#C678DD;"> VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">   \`sxt_author\`</span><span style="color:#C678DD;"> VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">   \`submission_date\`</span><span style="color:#C678DD;"> DATE</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;">   PRIMARY KEY</span><span style="color:#ABB2BF;"> ( </span><span style="color:#98C379;">\`sxt_id\`</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">)ENGINE</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">InnoDB </span><span style="color:#C678DD;">DEFAULT</span><span style="color:#ABB2BF;"> CHARSET</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">删除数据表</span></span>
<span class="line"><span style="color:#C678DD;">	DROP</span><span style="color:#C678DD;"> TABLE</span><span style="color:#ABB2BF;"> table_name ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">选择数据库</span></span>
<span class="line"><span style="color:#C678DD;">	use</span><span style="color:#ABB2BF;"> SXT;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">数据类型</span></span>
<span class="line"><span style="color:#ABB2BF;">	数值类型</span></span>
<span class="line"><span style="color:#ABB2BF;">	日期和时间类型</span></span>
<span class="line"><span style="color:#ABB2BF;">	字符串类型</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="条件" tabindex="-1">条件 <a class="header-anchor" href="#条件" aria-label="Permalink to &quot;条件&quot;">​</a></h3><p>select * from 表名 where 条件;</p><h4 id="比较运算符" tabindex="-1">比较运算符 <a class="header-anchor" href="#比较运算符" aria-label="Permalink to &quot;比较运算符&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:center;">比较运算符</th><th style="text-align:center;">值</th></tr></thead><tbody><tr><td style="text-align:center;">=</td><td style="text-align:center;">等于</td></tr><tr><td style="text-align:center;">&gt;</td><td style="text-align:center;">大于</td></tr><tr><td style="text-align:center;">&gt;=</td><td style="text-align:center;">大于等于</td></tr><tr><td style="text-align:center;">&lt;</td><td style="text-align:center;">小于</td></tr><tr><td style="text-align:center;">&lt;=</td><td style="text-align:center;">小于等于</td></tr><tr><td style="text-align:center;">!=或&lt;&gt;</td><td style="text-align:center;">不等于</td></tr></tbody></table><p>示例</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">查询编号大于3的学生</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#E06C75;"> *</span><span style="color:#ABB2BF;"> from students where id&gt;3;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">查询编号不大于4的科目</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#E06C75;"> *</span><span style="color:#ABB2BF;"> from subjects where id&lt;=4;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">查询姓名不是“黄蓉”的学生</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#E06C75;"> *</span><span style="color:#ABB2BF;"> from students where sname!</span><span style="color:#98C379;">=</span><span style="color:#61AFEF;">&#39;黄蓉&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">查询没被删除的学生</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#E06C75;"> *</span><span style="color:#ABB2BF;"> from students where </span><span style="color:#E06C75;">isdelete</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">0</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="逻辑运算符" tabindex="-1">逻辑运算符 <a class="header-anchor" href="#逻辑运算符" aria-label="Permalink to &quot;逻辑运算符&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:center;">逻辑运算符</th><th style="text-align:center;">值</th></tr></thead><tbody><tr><td style="text-align:center;">and</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">or</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">not</td><td style="text-align:center;"></td></tr></tbody></table><p>示例</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">查询编号大于3的女同学</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id</span><span style="color:#56B6C2;">&gt;</span><span style="color:#D19A66;">3</span><span style="color:#C678DD;"> and</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">查询编号小于4或没被删除的学生</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id</span><span style="color:#56B6C2;">&lt;</span><span style="color:#D19A66;">4</span><span style="color:#C678DD;"> or</span><span style="color:#ABB2BF;"> isdelete</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="模糊查询" tabindex="-1">模糊查询 <a class="header-anchor" href="#模糊查询" aria-label="Permalink to &quot;模糊查询&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:center;">模糊查询</th><th style="text-align:center;">值</th></tr></thead><tbody><tr><td style="text-align:center;">like</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">%</td><td style="text-align:center;">表示任意多个任意字符</td></tr><tr><td style="text-align:center;">_</td><td style="text-align:center;">表示一个任意字符</td></tr></tbody></table><p>示例</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">查询姓黄的学生</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> sname </span><span style="color:#C678DD;">like</span><span style="color:#98C379;"> &#39;黄%&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">查询姓黄并且名字是一个字的学生</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> sname </span><span style="color:#C678DD;">like</span><span style="color:#98C379;"> &#39;黄_&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">查询姓黄或叫靖的学生</span></span>
<span class="line"><span style="color:#C678DD;">	select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> sname </span><span style="color:#C678DD;">like</span><span style="color:#98C379;"> &#39;黄%&#39;</span><span style="color:#C678DD;"> or</span><span style="color:#ABB2BF;"> sname </span><span style="color:#C678DD;">like</span><span style="color:#98C379;"> &#39;%靖%&#39;</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="范围查询" tabindex="-1">范围查询 <a class="header-anchor" href="#范围查询" aria-label="Permalink to &quot;范围查询&quot;">​</a></h4><p>in：表示在一个非连续的范围内</p><p>示例：查询编号是 1 或 3 或 8 的学生</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>between ... and ...：表示在一个连续的范围内</p><p>示例 1：查询学生是 3 至 8 的学生</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id </span><span style="color:#C678DD;">between</span><span style="color:#D19A66;"> 3</span><span style="color:#C678DD;"> and</span><span style="color:#D19A66;"> 8</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>示例 2：查询学生是 3 至 8 的男生</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id </span><span style="color:#C678DD;">between</span><span style="color:#D19A66;"> 3</span><span style="color:#C678DD;"> and</span><span style="color:#D19A66;"> 8</span><span style="color:#C678DD;"> and</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="空判断" tabindex="-1">空判断 <a class="header-anchor" href="#空判断" aria-label="Permalink to &quot;空判断&quot;">​</a></h4><p>注意：null 与&#39;&#39;是不同的</p><p>is null：判断是否为空</p><p>查询没有填写地址的学生</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> hometown </span><span style="color:#C678DD;">is</span><span style="color:#C678DD;"> null</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>is not null：判断不为空</p><p>查询填写了地址的学生</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> hometown </span><span style="color:#C678DD;">is not null</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查询填写了地址的女生</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> hometown </span><span style="color:#C678DD;">is not null</span><span style="color:#C678DD;"> and</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="优先级" tabindex="-1">优先级 <a class="header-anchor" href="#优先级" aria-label="Permalink to &quot;优先级&quot;">​</a></h4><ul><li>小括号，not，比较运算符，逻辑运算符</li><li>and 比 or 先运算，如果同时出现并希望先算 or，需要结合()使用</li></ul><h3 id="排序" tabindex="-1">排序 <a class="header-anchor" href="#排序" aria-label="Permalink to &quot;排序&quot;">​</a></h3><p>语法</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> 表名</span></span>
<span class="line"><span style="color:#C678DD;">order by</span><span style="color:#ABB2BF;"> 列1 </span><span style="color:#C678DD;">asc</span><span style="color:#ABB2BF;">|</span><span style="color:#C678DD;">desc</span><span style="color:#ABB2BF;">,列2 </span><span style="color:#C678DD;">asc</span><span style="color:#ABB2BF;">|</span><span style="color:#C678DD;">desc</span><span style="color:#ABB2BF;">,...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>语法：</p><p>将行数据按照列 1 进行排序，如果某些行列 1 的值相同时，则按照列 2 排序，以此类推</p><p>默认按照列值从小到大排列</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">asc</span><span style="color:#ABB2BF;">：从小到大排列，即升序</span></span>
<span class="line"><span style="color:#C678DD;">desc</span><span style="color:#ABB2BF;">：从大到小排序，即降序</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>示例</p><p>查询未删除男生学生信息，按学号降序</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#C678DD;"> and</span><span style="color:#ABB2BF;"> isdelete</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span></span>
<span class="line"><span style="color:#C678DD;">order by</span><span style="color:#ABB2BF;"> id </span><span style="color:#C678DD;">desc</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查询未删除科目信息，按名称升序</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#C678DD;"> subject</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> isdelete</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span></span>
<span class="line"><span style="color:#C678DD;">order by</span><span style="color:#ABB2BF;"> stitle;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="聚合" tabindex="-1">聚合 <a class="header-anchor" href="#聚合" aria-label="Permalink to &quot;聚合&quot;">​</a></h3><p>为了快速得到统计数据，提供了 5 个聚合函数</p><h4 id="count" tabindex="-1">count(*) <a class="header-anchor" href="#count" aria-label="Permalink to &quot;count(\\*)&quot;">​</a></h4><p>表示计算总行数，括号中写星与列名，结果是相同的</p><p>查询学生总数</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#56B6C2;"> count</span><span style="color:#ABB2BF;">(*) </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="max-列" tabindex="-1">max(列) <a class="header-anchor" href="#max-列" aria-label="Permalink to &quot;max(列)&quot;">​</a></h4><p>表示求此列的最大值</p><p>查询女生的编号最大值</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#56B6C2;"> max</span><span style="color:#ABB2BF;">(id) </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="min-列" tabindex="-1">min(列) <a class="header-anchor" href="#min-列" aria-label="Permalink to &quot;min(列)&quot;">​</a></h4><p>表示求此列的最小值</p><p>查询未删除的学生最小编号</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#56B6C2;"> min</span><span style="color:#ABB2BF;">(id) </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> isdelete</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="sum-列" tabindex="-1">sum(列) <a class="header-anchor" href="#sum-列" aria-label="Permalink to &quot;sum(列)&quot;">​</a></h4><p>表示求此列的和</p><p>查询男生的编号之后</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#56B6C2;"> sum</span><span style="color:#ABB2BF;">(id) </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="avg-列" tabindex="-1">avg(列) <a class="header-anchor" href="#avg-列" aria-label="Permalink to &quot;avg(列)&quot;">​</a></h4><p>表示求此列的平均值</p><p>查询未删除女生的编号平均值</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#56B6C2;"> avg</span><span style="color:#ABB2BF;">(id) </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> isdelete</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span><span style="color:#C678DD;"> and</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="分组" tabindex="-1">分组 <a class="header-anchor" href="#分组" aria-label="Permalink to &quot;分组&quot;">​</a></h3><ul><li>按照字段分组，表示此字段相同的数据会被放到一个组中</li><li>分组后，只能查询出相同的数据列，对于有差异的数据列无法出现在结果集中</li><li>可以对分组后的数据进行统计，做聚合运算</li></ul><h4 id="基本语法" tabindex="-1">基本语法 <a class="header-anchor" href="#基本语法" aria-label="Permalink to &quot;基本语法&quot;">​</a></h4><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> 列1,列2,聚合... </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> 表名 </span><span style="color:#C678DD;">group by</span><span style="color:#ABB2BF;"> 列1,列2,列3...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="例子" tabindex="-1">例子 <a class="header-anchor" href="#例子" aria-label="Permalink to &quot;例子&quot;">​</a></h4><h5 id="查询男女生总数" tabindex="-1">查询男女生总数 <a class="header-anchor" href="#查询男女生总数" aria-label="Permalink to &quot;查询男女生总数&quot;">​</a></h5><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> gender </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> 性别,</span><span style="color:#56B6C2;">count</span><span style="color:#ABB2BF;">(*)</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"><span style="color:#C678DD;">group by</span><span style="color:#ABB2BF;"> gender;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="查询各城市人数" tabindex="-1">查询各城市人数 <a class="header-anchor" href="#查询各城市人数" aria-label="Permalink to &quot;查询各城市人数&quot;">​</a></h5><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> hometown </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> 家乡,</span><span style="color:#56B6C2;">count</span><span style="color:#ABB2BF;">(*)</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"><span style="color:#C678DD;">group by</span><span style="color:#ABB2BF;"> hometown;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="分组后的数据筛选" tabindex="-1">分组后的数据筛选 <a class="header-anchor" href="#分组后的数据筛选" aria-label="Permalink to &quot;分组后的数据筛选&quot;">​</a></h4><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> 列1,列2,聚合... </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> 表名</span></span>
<span class="line"><span style="color:#C678DD;">group by</span><span style="color:#ABB2BF;"> 列1,列2,列3...</span></span>
<span class="line"><span style="color:#C678DD;">having</span><span style="color:#ABB2BF;"> 列1,...聚合...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="having-后面的条件运算符与-where-的相同" tabindex="-1">having 后面的条件运算符与 where 的相同 <a class="header-anchor" href="#having-后面的条件运算符与-where-的相同" aria-label="Permalink to &quot;having 后面的条件运算符与 where 的相同&quot;">​</a></h5><p>查询男生总人数</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">方案一</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#56B6C2;"> count</span><span style="color:#ABB2BF;">(*)</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-----------------------------------</span></span>
<span class="line"><span style="color:#ABB2BF;">方案二：</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> gender </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> 性别,</span><span style="color:#56B6C2;">count</span><span style="color:#ABB2BF;">(*)</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"><span style="color:#C678DD;">group by</span><span style="color:#ABB2BF;"> gender</span></span>
<span class="line"><span style="color:#C678DD;">having</span><span style="color:#ABB2BF;"> gender</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="对比-where-与-having" tabindex="-1">对比 where 与 having <a class="header-anchor" href="#对比-where-与-having" aria-label="Permalink to &quot;对比 where 与 having&quot;">​</a></h4><p>where 是对 from 后面指定的表进行数据筛选，属于对原始数据的筛选</p><p>having 是对 group by 的结果进行筛选</p><h3 id="分页" tabindex="-1">分页 <a class="header-anchor" href="#分页" aria-label="Permalink to &quot;分页&quot;">​</a></h3><p>获取部分行</p><ul><li>从 start 开始，获取 count 条数据</li><li>start 索引从 0 开始</li></ul><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> 表名</span></span>
<span class="line"><span style="color:#C678DD;">limit</span><span style="color:#C678DD;"> start</span><span style="color:#ABB2BF;">,count</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>题目和答案</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">已知：每页显示m条数据，当前显示第n页</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">求总页数：此段逻辑后面会在python中实现</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">查询总条数p1</span></span>
<span class="line"><span style="color:#61AFEF;">使用p1除以m得到p2</span></span>
<span class="line"><span style="color:#61AFEF;">如果整除则p2为总数页</span></span>
<span class="line"><span style="color:#61AFEF;">如果不整除则p2+1为总页数</span></span>
<span class="line"><span style="color:#61AFEF;">求第n页的数据</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>sql</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> isdelete</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">0</span></span>
<span class="line"><span style="color:#C678DD;">limit</span><span style="color:#ABB2BF;"> (n-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">)*m,m</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="范式与关系" tabindex="-1">范式与关系 <a class="header-anchor" href="#范式与关系" aria-label="Permalink to &quot;范式与关系&quot;">​</a></h3><h3 id="链表查询" tabindex="-1">链表查询 <a class="header-anchor" href="#链表查询" aria-label="Permalink to &quot;链表查询&quot;">​</a></h3><h3 id="自关联查询和子查询" tabindex="-1">自关联查询和子查询 <a class="header-anchor" href="#自关联查询和子查询" aria-label="Permalink to &quot;自关联查询和子查询&quot;">​</a></h3>`,108)]))}const b=a(p,[["render",o]]);export{y as __pageData,b as default};
