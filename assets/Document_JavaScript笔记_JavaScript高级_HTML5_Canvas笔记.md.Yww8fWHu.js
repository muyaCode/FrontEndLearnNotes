import{_ as n,c as a,o as l,ah as p}from"./chunks/framework.DqD713j2.js";const t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCAEVAbIDASIAAhEBAxEB/8QAGQABAQEBAQEAAAAAAAAAAAAAAAQFBgID/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHuxmgAAAAAAAAAAAAAAAAAAAAAAAAAAOb6Li06nP8AQ2woAAAAAAAAAAAAAAAAAAAB5yjXAAABFHp/AtxrB8fp8dUgXiBeIF4gXiBeIF4gXiBeIF4gXiBeIF4gXiBeIF4gXiBeIF4gXiBeM7P6HyZWuAAAAAEF8F4AAAAAAAAAAAAAAAAAAAAAAAAAABBfBeAAAAAAAAAAAAAAAAAAAAAAAAAAAQXwXgAAAAAAAAAAAAAAAAAAAAAAAAAAEF8F4AAAAAAAAAAAAAAAAAAAAAAAAAABBfBeAAAAAAAAAAAAAAAAAAAAAAAAAAAQXwXgAAAAAAAAAAAAAAAAAAAAAAAAAAEF8F4AAAAAAAAAAAAAAAAAAAAAAAAAABBfBeAAAAAAAAAAAAAAAAAAAAAAAAAAAQXwXgAAAAAAAAAAAAAAAAAAAAAAAAAAEF8F4AAAAAAAAAAAAAAAAAAAAAAAAAABBfBeAAAAAAAAAAAAAAAAAAAAAAAAAAAQXwXgAAAAAAAAAAAAAAAAAAAAAAAAAAiPN+VqgAAAAAAAAAAAAAAAAAAAAAAAAACC8YWhX6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/8QAIhAAAQQDAAIDAQEAAAAAAAAAAwACBBQBNVAFExESIGAw/9oACAEBAAEFAv69vkyvTZLKwJ+Tk6ec/VuIOcrLHejHueblZ+frDOU7v385dNeUmCqKUjne70OsEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEVgisEWTPc0r64PHyyzI/6yPGSujNcWMMg2ijNC6UPDIHKzjDv9J2v607X9adr+tO1/Wna/rTtf1p2v607X9adr+tO1/Wna/rTtf1p2v607X9adr+tO1/Wna/rTtf1p2v607X9adr+tO1/Wna/rTtf1p2v6ppOAvkv9niuqcTzO8sV4fHxCvPG6ucYc3+p//EABQRAQAAAAAAAAAAAAAAAAAAAID/2gAIAQMBAT8BfH//xAAUEQEAAAAAAAAAAAAAAAAAAACA/9oACAECAQE/AXx//8QAMhAAAQEGBQMDAgUFAAAAAAAAAgEAAxE0kdIEElBzsSExURNBoSJhMEJggfAQIDJx0f/aAAgBAQAGPwL9XjDDRiMeimsOiLDoH3YHz03btD7Lm6fLZRXDL9aokH31Qj4h41RV8eEZynpLmVEEswCvYPOVYJFE+WwwuUNCddkII9hVOvVGdE8WIgUfpcqndFTz99LXL0X2ixZ8mUUTog918p1/x8fgZIwF2GaHlVj/AM+WeEh9Aeg7yQSCxy3f0cKZ5vWdepCCfT27VbE54kDsfV/br0+PlpN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuaTfVC5pN9ULmk31QuZRLBPlRe6KoXMbx1gSdEALAoB0Tv57NneuFdL8F90/vF5+YYp+38g2bMUFJCUPZVT3+EY/UKKmalDNHL9mRUIlyjlBF/Knj4RsYqdzAiWml9Uj+JidouNXxO0XGr4naLjV8TtFxq+J2i41fE7RcavidouNXxO0XGr4naLjV8TtFxq+J2i41fE7RcavidouNXxO0XGr4naLjV8TtFxq+J2i41fE7RcavidouNXxO0XGr4naLjV8TtFxq+J2i41fE7RcavidouNWQSAoKKrm6Q6e3VWfnkIIui+ku/bVgDKHpRiSqvX/X89os8IQzCoqBfaPuwvjDJn6oPhNWUSSKL3Rf1V//xAAmEAEAAQMEAgEEAwAAAAAAAAABESFQUQAxQfBhcYEgYJGhMLHx/9oACAEBAAE/Ifu+aGAaTMCkrA0UUQpWmpCDjxqtbiVBRNbhO9fF0NGYEsi/g31NAxhkxNVAMzWUGymn8uKDQTXhruUrqiWpqsI1dNiRJzBW1zgiGoSD60vogSBzW5QyivxX69+AEHegn0P/AAaeKHaArLSZq2eDzOlwh2gFxgbV7zsao6InlFUJ8t/DYtSxYsWLFixYsWLFixYsWLFixYsWLFixYsWLFixYsWLFixYsWLCQtCETRIfkIQ2MTq3j+9bQshcHsjsv1zaQQjlRI/Ivj3pRHM0UaFSfQxT3Ki5ikQ8FCnwb/OjE9KYp0QV8ktPem4VFeWn9AHxazoISMJNRk/f8nQ5Xfocrv0OV36HK79Dld+hyu/Q5Xfocrv0OV36HK79Dld+hyu/Q5Xfocrv0OV36HK79Dld+hyu/Q5Xfocrv0OV36HK79Dld+hyu/Q5XZGMDM0lZBWDsMKxL0ICre7M5yPNNBEQ7Ndw0eg4TDtH5ceeI0OqCMzgl5nfjeOLseA0AkT7q/9oADAMBAAIAAwAAABDzzzzzzzzzzzzzzzzzzzzzzzzzzzy9/wA88888888888888888888+8888ayOOOOOOOOOOOOOOOOOOOOOe+88888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888888W888888888888888888888888886e88888888888888888888888888uu88888888888888888888888888888888888888888888888888888/8QAFBEBAAAAAAAAAAAAAAAAAAAAgP/aAAgBAwEBPxB8f//EABYRAAMAAAAAAAAAAAAAAAAAAAFAgP/aAAgBAgEBPxBwW5//xAAhEAEBAQACAgEFAQAAAAAAAAABESEAMUFQURAgMGBhoP/aAAgBAQABPxD9vLS96DFBboUI1MsQ9USDVKuohN+LySiuILiKP8EbQ57Mh20kQFwFX8BXxw2Z/vfs0lS2M4JKmSYM9xJBikpYw1rr1gqArRgR6tlE1isjFCKXxS/JwfbVHDWIdgnXW/wFqs8AQUTMlooYLcCJ8E3rceEDuH6ARO3DZmPW2/J3XCMAxu02DVhAAfVOnTp06dOnTp06dOnTp06dOnTp06dOnTp06dOnTp06dOnTp06eQdgIiIwieOORKLoLsVCgXVJDyQknrKWDjXmkSJZ911shEykjmoRp2IUmmU71jFOkFNG8D31FUC8JRQwxspojFrbURGFeHdp0HZlpBAAB2dBaqvqhJ+UQAJvkAj4Qf8tWrVq1atWrVq1atWrVq1atWrVq1atWoDpNKUSBsCSVsXhG5HR5wKDNlpYxoe1dsclyVX0jOom3igJFMMr5BRmstCqqM7WofBQ+EARUvtXE3IJERHETx+1f/9k=",o="/FrontEndLearnNotes/assets/path.CEXrS1s7.jpg",e="/FrontEndLearnNotes/assets/zero.BRo-4Hq1.jpg",r="/FrontEndLearnNotes/assets/%E9%9D%9E%E9%9B%B6%E7%8E%AF%E7%BB%95%E8%A7%84%E5%88%99.BDvkbglQ.jpg",c="/FrontEndLearnNotes/assets/04.DNqY2aq7.png",B="/FrontEndLearnNotes/assets/renderDigit%E6%96%B9%E6%B3%95-%E7%BB%98%E5%88%B6%E5%9C%86%E5%BF%83%E8%AE%A1%E7%AE%97.CT283RK3.jpg",y="/FrontEndLearnNotes/assets/640.BQCd9OAb.webp",i="data:image/webp;base64,UklGRl4PAABXRUJQVlA4IFIPAACwdACdASr+AcQBPm02mUkkIyKhITF4+IANiWlu/D654b0HZ13/qR2S/5jw//FfoX8T+ZnHviC/MPvN+//wnob/o/CX5Qagvtf/U/2HgKwCdz1Nl8L+p3iM/uPqAfy3zbP+r/T+pn65/9f+h+A/+Z/33/ocCr+yobOSYkxJiTEmJMSYkxJiTEmJMSYkUpDxJuyHrT1uPDT9scGieQDxVQXEuJcS4lxLiXAWzpp3bQfUSmXfqSJs3LpTpRuIJxSJczd9P4+ZeF/JMfAU1s3Zuzdm7Nfv5DPn0vuE1/7kSduBhK+Qyr/TfBQNeSym1NqbU2pZ1kd0TRV8CryVtWskxJiQ7xg5xpz5+Z2FJ+T8n5PfzJFNuAnDSgbx+Z2bs3Zvjq84Hck1zk8DUQOgcrw+g5i6Gx+z2dm7N2bs3ZI9if6bwSHQqCNRAxRpAS1E0x7gjUQOgdA6BicVyeXF5nZuyXeNxiHaOln5Pyfk/J+T4HcRF733QsBX2Xrzk2ZeGMMYYwxhjDGEyrYUjlNqWbghLvm+YwxhjDGGMMYYusXsduaH1UDn6r7D2oidRuZ2bs3Zuzdm6Vq0BCWVzHRFwIqqgICqCNRA6B0DoHQOfqai+4wt9A5aG/kEVs3ZuzYAtUZVpFweu4gdA6Bjiy+Ecm4BiTV3Wybk3I5ScACXUNSqn35Abxprq+uuI1xGuI1xGuI0W4E62pr2lT+KCXEuJcRgtlrkNkmJMSXQfElclxGTLzQuWNzOzdm7N2bs3ZsMHInMSOBnwLmeJf69V4E3JuTcm5Nybk1K6Rnc8uuDyfiIHCL9d3S4lxLiXEuJcSx2fsfmbJtRA5VVwsTFBpEZ+T8n5Pyfk+Knumnj8gLAVc6N8AERfM5Nybk3JuTcmqGSzFDbR3EhjczskWLEsP0JYwaiB0DoHQOV4fQY9Y2HXbZuzdkjenfLGlwZQSYkxJiTElzQTtANjXrC0PJuzdm7JZDLmdSbUC1b8Tcm5NyalAYxBuGMRSDjlxLiXEuA1VD66tckBh7FTRA6B0DHNy2XOWGGJfgJ5WskxJiTEl1F1yvObQETw6EVnZsczPwuGM3zXv7tJQhHFk3JuTcm5NyQBlQ5eG/GzsleDr44qNc/QMdOFVGzvOVeOZHGFIC7lCPWTVdHmdK5TII7PEQzqOQSPRBioUv0rzUy6lxkRbU2ptTam1NqbU2paH8v4bSmtALOJHoAkTYkdmG5AOemk3sc+RJRhMBYCwFgLAWAsBYCwPw6rAAA/v/ZNAOgHcQ1G4PHR8jWbUveWJlarslUAoXsXsHHfVo2wIo4J6p6jE5QvEubiFgrJL1c9AZwqQp9Imb0vDF7da4EaIy2eqe7OYsgRzG5r26cEsFEuahJcfD+0NGMcUIFIaLMbuhq2wZvRoaz9ijtr9Qu/GDNG+V+i7PZti4jYX8SDRhSITjksoDcHiCt3tRoBObXYrvF1WBdBhYwH2KPufhT9olLAuNAb05mhkR1GdDnLwdMgFupsjqpmgP4THyCgC3oa0lMWk/jUKIVXsxwUbrTa54MljS2JF6bSqPBtH7A5lmX2V+Dy/IUejRdJM4mzbi9RCyO5kUIW38bpEwik/zcjdxv0p+of3Zi/svHV8tOiwg+SNB04X4hVXl+tKFjdWaAXbnLc97GAYd/jm4esbek4A3+x0BPxYzs+/sKbOEk/GvUk5Nk3beLmXgme+I8Dfapqb8QAkMI2ubWaRS+15W0kLSktCU8d1gp20Ip2gFJXssz92P8ltTzvgYdcB7vDUEe8ruimcIKPugOcQUi89EcRko9pIykTIc/JDVh4FX1E6nkhTt/tudmrj/WFVuyN7Lk6r1TjTkUIP3LtaV1vRJeJjjWhUmr/JQpPippMuUg9xKRx66q99sCXkiYrtXyf1X0XUMWpwmP28oW2jexaMq+bIwf7DKgtYsu+YZhIDwAGwcqWNhh+GRXi9sRo83DH6m2yptp5n0RPK3wde9kQNaYNngMrn/HrSAyZOq/lAjYN/LayvUAwcJWK91tZXQoVw5A7HcqW6yDW1eb5nYSbkvQL8WhcBTvyYowN3qzA87U0Y083Whit4R6K8avSeejKnDUzgKqZ3b186i2iZFlSABJz9USr0Gp8fpN2oh01qPEOyTYjTNkaykP6YmHRqtBEhcLCXJA9xGbK0nMTKGAWXrS2UUIwMsS14FnPAEl+ZY05aruF79IqsaHABtTEAU/MqvE8IrioG8A5hePFV/LOzeUStMALlBKvDEzpEcMEZJXaZ6MjxoXPWYGNAwkRsDv0jGjhcSod0uqO801AsaDVuaWsYecxzIuWs8PVcfWcfT9kyjO7zYslkmXwftQA/4Z9ZmYWPw+d8IzSUB0Y4SJIjGFl27pQ42FbHZQNaXys4owdKu1GnqQyuQ87JyWcbB+IWHPa9Sn2E9M3jHeIB/nzWhWTCnuih+z0CxcgQHj/UimoKQWZgcVkHAd2rXc0L+B5QKlezvR9SFnIQElPNRHydju443GIAYl5p8HeFsrEZxNOfTjYHALb/2Z2uXdY5IsY+PzwsNlNGI+IyRQbGj4TjAPetz+wY25BmpTmet5c965eGKEs+KhW8K3TICCHRjTHNfuOCyQPBfgCsUQIA2WblAOFfZdWLXLRwv/f0WUKnJKSq8/4ALyRRlIUY6/iWFX2Z1qK4sGYu+k4JTK4M1akC3t7yt55LBi7n2E2b8Y1SDv4nFpJGdJF/BlfeROCMWCN2f8lGCy0JiZpjPceJ6JTyZYsBmF/ZW5rm6mIx2dF6/lsixwOuBhiusb0yyVLHvh8yFF8PHAF052HESgw1SUVLOhZAj+XoFQl7BHu8YTPmfXG012cVxrw3dGRfsdWMIKGws5kIrLszLQ0Bk5+rRF6isrqP2Zgu3+FwxpoLcpyeVakYiXNoilAvdJPbtTZS5tcCkKMRbL4mjYsuW88rN4dqAOMrkPNGlUjkVODIPWVyfN/GNYEpxkIc7Ci9naTLj1i6MEZKoHl2OKWbA21k0Gc75etaYiaYFaZP4mavhPTJX5jIllnERbc0cfLFIL+bRZIMqT8XM9Sb/5cjUyX/J+b3u7TXRvZmuOxZhH+pgq26uGKHc4oIvCw0AVfzxHSPONs5qSlBF+t8o3VXMjLzVfiEuslTPnGqCTMwULAIM1CqOBGp3dmQEAR5Kg5LNjWUQSx17gV/vYWGgCUQoqBB3gYCOE4fJIsP78wvWTsiX3f2rXLoMIjy8Y+83nl1GXbSgUbfi01gtAZkLAUKbZMHoNp/OSmKDOB3/xQlEmVyKBhh7P5CMbK4r4LBM0WKGZeFek2rxKSt+FA2lp2wRIQVIQHNpaLih0rDFBZwoL4mp6qD5okc2AuloUuJdczs91/1O904yFh6jhE2r0a3TYkGkS4YrAFPyQVKt+jlBepA9tw6Jpj9H6t69YV+nEyBRPXtJ9blHyMT+Th+RDX8l0oJAub1LtYPFYU96zUjinUqmrCsLWB7DukqOBrF0LeUKeRXOim5oNIIUQixzw9cud/YEoWhS+ZPFUGoPfi2zCmMOzO+Fp0agBaGq+ocxW3jrCshqdRBWyheu7rIrfWW0VLEid4gl8nF7A0oKZnZs6uB88saWjqRfLd45liVTx8FUsvhI3Sicf9RGrNn7meFvBNbytEqUVVdIQbDmwPkq1yGAllumdD0e8g2TogrXvpiePqxrdc6/7clFDqj2vHATX9MP79GnT1nhbT4V2TU5wdBq+iDhmGFrAStaMN+2A0c3toHP0PP0aetCJTU3Fvhet8yhUcr/zUWII/JCWcojEYytkUvmHHKfEHq2GciaykN0d9QT/fnBVUAENOPQ24dlOZtCWrb+roNmeAhZEsXhN53kW2v2r1C7tmeIjI/gHvIwrd0IGYW6eV1FKc/vmH9LNT1nz+FtJHHD8IDgbWMW9aQHyfqZuyWJI8ZSamT97w6LAWS+E1onOHd9DGy8KbFic75g9Ct2zDIwsYI0YJjPRZ3RxZvub47xcqBOFzR7Ig8tj7bV1QTc8JtF/M6wvNgz+z/+V9b35PkK/5QX+ks734bDRlUgSif49zizvD+53D1Cp0ZoQyj3HVYI/vkUAMTHw/hl6oBqqDbL6hUcsY3aVjcLJGgGxbVjlyvnqLgbOigrKVkDwxHzqIg4o+jpq9zmj0azNurJeL9VrNyF/aw5vRHQIsIac9bwTa8zBmwIWqjz9Bi2kTMQMDEFKrzCDCvM8QqIPnzkRaYY1duCurrqVtkFqizxbG1ovMrNHRPetXlrAysnsEqEJeWLiSiF6R76QS7uxEyMmHKOqZJGGmELX8jqs7XVMq8qpsARfRiyyF3yvTkrnyIR7sHhqcJIxP7tKgFC+GWr931B1GwBU6dMu09MPg36Q4YSiQ1UvGK9Jit6HkZnDQvBciXoFMQlLXjKhOi+bvPFrKaCMD6FpdHjWQFKK3Ykb/nHMzD5zoVhsrZwjziVls0kk6E6RccnimqcAOMBK4iyEN+oLAQPDdNacMPZiOGGZ3derP6TEBDeuIetqIgU9DglDpniytlenkvSvtE1Auvi2habPTUoKrULPGyyOYyBTnQTcypELY11oYkCuacMzUTSJzEwJSTIQkx+zNKKX3R5a3YIGUSfAmSp4Huf864efxBVUesvWsbZH8D8Wz5G3jZWw8BeCPoK8Pms9vf/yk+kbfHxnR8HuYP/KvCJ/WbeRuTwK9vD/GpJcS/X/+TjMcs/kETOplXpXuGjWwSMEOotZRPRSBEQtpNNaVL9JmbGnopwl4j7CLA07OBsP5o/LBiPEzgpAjTCiafvrf3xVGN+WgUf/67PeNDoIw4m3c86frtwdtRALZjScn6qnPxjtqqQxM1MHzv5wH3F5kXqyrd/UP+iTzE23Cpplm/htz9JB9AcE+lwZ9cFiRCO3E3dQMIUCtwRp14vD/yx5wmQYtbRP4SXF89GZZ8+J0jFsOhNK+U4sohYObJYinFGqrOn1o3ZIjBihe0O5nAgqpQm8DD1CYYvJsTU6rL4vAX3a55rDh/ucFWG8A8fSkT0TGoSwSz6EOoFhmz2rz5kpLfHMy6MelE/y+6IdcBgRXB1tyUGLjpTBYs48FGHqTRn7zrZLMXUNZNVIee05aLwUW6GWek8TiGFr3JxxtSSNVAkQcuh2JHZCtcw/8OJcNB3rS3B9MXCyHOnUj6Y3Rz48CxFraGC4TUIEuqozW6deT1QFBvRqM7z/lkubrtBHwd8gqHUAAAAA",A="/FrontEndLearnNotes/assets/640-1713276856829-227.R7lFUQPs.webp",b="/FrontEndLearnNotes/assets/640-1713276856830-228.D_5oMb1l.webp",F="/FrontEndLearnNotes/assets/640-1713276856830-229.D51-Kq4n.webp",C="/FrontEndLearnNotes/assets/640-1713276856830-230.ONz24F-F.webp",u="/FrontEndLearnNotes/assets/640-1713276856830-231.CzIXpmQp.webp",m="/FrontEndLearnNotes/assets/640-1713276856830-232.9xtqBQjn.webp",E="/FrontEndLearnNotes/assets/640-1713276856830-233.BH26aFaE.gif",d="/FrontEndLearnNotes/assets/640-1713276856830-234.Qh5MYP6b.webp",h="/FrontEndLearnNotes/assets/640-1713276856830-235.aP-WcWlB.gif",g="/FrontEndLearnNotes/assets/640-1713276856830-236.d7-0F4j-.png",D="/FrontEndLearnNotes/assets/640-1713276856830-237.DF50RrON.webp",v="/FrontEndLearnNotes/assets/e591fb4963f84aed9a83bdebc41a9fa0tplv-k3u1fbpfcp-jj-mark3024000q75.xx5x_TPn.webp",f="/FrontEndLearnNotes/assets/df6ebd3417274ea0bbc371bde2eaf279tplv-k3u1fbpfcp-jj-mark3024000q75.Dnu6iHyU.webp",x="/FrontEndLearnNotes/assets/ece560e606004ae683f8510f1fb59658tplv-k3u1fbpfcp-jj-mark3024000q75.DCsQ-4K_.webp",q="/FrontEndLearnNotes/assets/6f3600cd740843039e7235a79ffda27dtplv-k3u1fbpfcp-jj-mark3024000q75.DgDjdqJn.webp",w="/FrontEndLearnNotes/assets/f8502a64818d4edf8f3577a090d00f7ctplv-k3u1fbpfcp-jj-mark3024000q75.ycaDzbEA.webp",k="/FrontEndLearnNotes/assets/f9af7ea806284cdea6e7521a0f2b8933tplv-k3u1fbpfcp-jj-mark3024000q75.CPBT4zRP.webp",T="/FrontEndLearnNotes/assets/2cce8a2469de4f5e808ef39d8858989ctplv-k3u1fbpfcp-jj-mark3024000q75.BgAvhUXl.webp",P="/FrontEndLearnNotes/assets/771b52fd3fa742abb68239ffba3077a7tplv-k3u1fbpfcp-jj-mark3024000q75.DvfbTH2o.webp",_="/FrontEndLearnNotes/assets/4072e3286aa64792a1b77a07f01e0427tplv-k3u1fbpfcp-jj-mark3024000q75.xmdTkfnV.webp",M="/FrontEndLearnNotes/assets/222d9bd89f224f5da7382971ae795687tplv-k3u1fbpfcp-jj-mark3024000q75.YwSb-JqF.webp",X=JSON.parse('{"title":"HTML5_Canvas 笔记","description":"","frontmatter":{},"headers":[],"relativePath":"Document/JavaScript笔记/JavaScript高级/HTML5_Canvas笔记.md","filePath":"Document/JavaScript笔记/JavaScript高级/HTML5_Canvas笔记.md","lastUpdated":1750954157000}'),I={name:"Document/JavaScript笔记/JavaScript高级/HTML5_Canvas笔记.md"};function L(S,s,j,W,H,z){return l(),a("div",null,s[0]||(s[0]=[p('<h1 id="html5-canvas-笔记" tabindex="-1">HTML5_Canvas 笔记 <a class="header-anchor" href="#html5-canvas-笔记" aria-label="Permalink to &quot;HTML5_Canvas 笔记&quot;">​</a></h1><p>本文章参考文章：<a href="https://www.runoob.com/w3cnote/html5-canvas-intro.html" target="_blank" rel="noreferrer">学习 HTML5 Canvas 这一篇文章就够了 | 菜鸟教程 (runoob.com)</a></p><p>编程之家 Canvas 教程：<a href="https://www.jb51.cc/canvas-tutorial/" target="_blank" rel="noreferrer">https://www.jb51.cc/canvas-tutorial/</a></p><p><strong>canvas 练习项目</strong>：<a href="https://github.com/muyaCode/canvas_study" target="_blank" rel="noreferrer">muyaCode/canvas_study: canvas 学习 (github.com)</a></p><h2 id="相关文档工具" tabindex="-1">相关文档工具 <a class="header-anchor" href="#相关文档工具" aria-label="Permalink to &quot;相关文档工具&quot;">​</a></h2><p><strong>MDN 的 Canvas 文档</strong>：</p><ul><li><p>HTML 的 canvas 标签的使用：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement" target="_blank" rel="noreferrer">HTMLCanvasElement - Web API 接口参考 | MDN (mozilla.org)</a></p></li><li><p>CanvasAPI：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank" rel="noreferrer">Canvas - Web API 接口参考 | MDN (mozilla.org)</a></p></li></ul><p><strong>菜鸟教程的 Canvas 文档工具</strong>：</p><ul><li><p>HTML 的 canvas 标签支持的 HTML 的<code>全局属性</code>和<code>事件属性</code>文档：<a href="https://www.runoob.com/tags/tag-canvas.html" target="_blank" rel="noreferrer">HTML canvas 标签 | 菜鸟教程 (runoob.com)</a></p></li><li><p>HTML5 Canvas 使用例子文档：<a href="https://m.runoob.com/html/html5-canvas.html" target="_blank" rel="noreferrer">HTML5 Canvas | 菜鸟教程 (runoob.com)</a></p></li><li><p>HTML canvas 画布 API 属性和方法文档：<a href="https://www.runoob.com/tags/ref-canvas.html" target="_blank" rel="noreferrer">HTML 画布 | 菜鸟教程 (runoob.com)</a></p></li><li><p><strong>菜鸟工具</strong>：<a href="https://c.runoob.com/codedemo/102/" target="_blank" rel="noreferrer">Canvas 使用 JavaScript 来绘制图形 | 菜鸟工具 (runoob.com)</a></p></li></ul><p><strong>w3cshool 的 Canvas 文档</strong>：</p><ul><li><p>HTML 的 canvas 标签：<a href="https://www.w3school.com.cn/tags/tag_canvas.asp" target="_blank" rel="noreferrer">HTML canvas 标签元素 (w3school.com.cn)</a></p></li><li><p>HTML Canvas 参考手册：<a href="https://www.w3school.com.cn/tags/html_ref_canvas.asp" target="_blank" rel="noreferrer">HTML Canvas 参考手册 (w3school.com.cn)</a></p></li></ul><p><strong>教程文档</strong>：</p><ul><li><p>语雀书籍教程：<a href="https://www.yuque.com/airing/canvas" target="_blank" rel="noreferrer">https://www.yuque.com/airing/canvas</a></p></li><li><p>caibaojian 网站收集的 W3school 教程：</p><ul><li><p><a href="http://caibaojian.com/w3c/sitemap/canvas.html" target="_blank" rel="noreferrer">Canvas 教程 · W3school 教程 (caibaojian.com)</a></p></li><li><p><a href="http://caibaojian.com/w3c/html5/html5_ref_canvas.html" target="_blank" rel="noreferrer">http://caibaojian.com/w3c/html5/html5_ref_canvas.html</a></p></li></ul></li></ul><p><strong>所有图形线条的练习教程</strong>：<a href="https://www.twle.cn/l/yufei/canvas/canvas-basic-index.html" target="_blank" rel="noreferrer">Canvas 练习教程 - 简单教程，简单编程 (twle.cn)</a></p><h2 id="什么是-canvas" tabindex="-1">什么是 Canvas <a class="header-anchor" href="#什么是-canvas" aria-label="Permalink to &quot;什么是 Canvas&quot;">​</a></h2><h3 id="_1-什么是-canvas" tabindex="-1">1.什么是 Canvas <a class="header-anchor" href="#_1-什么是-canvas" aria-label="Permalink to &quot;1.什么是 Canvas&quot;">​</a></h3><blockquote><p>canvas 最早由 Apple 苹果公司引入 WebKit 开源的浏览器引擎，用于 Mac OS X 的 Dashboard 功能工具，后来又在 Safari 浏览器和 Google Chrome 浏览器被实现。 基于 Gecko 1.8 的浏览器，比如 Firefox 1.5，同样支持 canvas 元素。<br><code>&lt;canvas&gt;</code> 标签元素是 WhatWG Web applications 1.0 规范的一部分，也包含于 HTML 5 中。</p></blockquote><h3 id="_2-html-5-的-canvas" tabindex="-1">2.HTML 5 的 Canvas <a class="header-anchor" href="#_2-html-5-的-canvas" aria-label="Permalink to &quot;2.HTML 5 的 Canvas&quot;">​</a></h3><p>canvas 是 HTML5 新增标签</p><blockquote><p>Canvas API（画布）是在<a href="https://baike.baidu.com/item/HTML5/4234903?fromModule=lemma_inlink" target="_blank" rel="noreferrer">HTML5</a>中新增的标签用于在网页实时生成图像，并且可以操作图像内容，基本上它是一个可以用 JavaScript 操作的位图（bitmap）。 Canvas 对象表示一个 HTML 画布元素 <code>&lt;canvas&gt;</code>。它没有自己的行为，但是定义了一个  WebAPI 支持脚本化客户端绘图操作。 —— 百度百科</p></blockquote><p>HTML5 的 canvas 元素使用 JavaScript 在网页上绘制图像。</p><p>画布是一个矩形区域，您可以控制其每一像素。</p><p>canvas 拥有多种绘制路径、矩形、圆形、字符以及添加图像的方法。</p><div class="danger custom-block"><p class="custom-block-title">HTML5 的 canvas 元素的兼容性</p><p>Internet Explorer 9、Firefox、Opera、Chrome 和 Safari 支持 <code>&lt;canvas&gt;</code> 标签的属性及方法。 <strong>注意</strong>：Internet Explorer 8 及更早的 IE 版本不支持 <code>&lt;canvas&gt;</code> 元素。</p></div><div class="warning custom-block"><p class="custom-block-title">canvas 的标准</p><ul><li>最新标准：<a href="https://html.spec.whatwg.org/multipage/" target="_blank" rel="noreferrer">HTML Standard (whatwg.org)</a></li><li>稳定版本的标准：<a href="https://www.w3.org/TR/2013/CR-2dcontext-20130806/" target="_blank" rel="noreferrer">HTML Canvas 2D Context</a></li></ul></div><h2 id="canvas-的应用领域" tabindex="-1">Canvas 的应用领域 <a class="header-anchor" href="#canvas-的应用领域" aria-label="Permalink to &quot;Canvas 的应用领域&quot;">​</a></h2><ul><li><p><strong>游戏开发</strong>：canvas 在基于 Web 的图像显示方面比 Flash 更加立体、更加精巧，canvas 游戏在流畅度和跨平台方面更牛。</p><ul><li><a href="http://www.oschina.net/news/20143/top-25-best-html5-canvas-games-you-love-to-play" target="_blank" rel="noreferrer">25 超棒的 HTML5 Canvas 游戏</a></li></ul></li><li><p><strong>可视化数据</strong>：数据图表，比如百度的 ECharts：<a href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noreferrer">Apache ECharts</a></p></li><li><p><strong>banner 广告</strong>：Flash 曾经辉煌的时代，智能手机还未曾出现。现在以及未来的智能机时代，HTML5 技术能够在 banner 广告上发挥巨大作用，用 Canvas 实现动态的广告效果再合适不过。</p></li><li><p><strong>未来 =&gt; 模拟器</strong>：无论从视觉效果还是核心功能方面来说，模拟器产品可以完全由 JavaScript 来实现。</p></li><li><p><strong>未来 =&gt; 远程计算机控制</strong>：Canvas 可以让开发者更好地实现基于 Web 的数据传输，构建一个完美的可视化控制界面。</p></li><li><p><strong>未来 =&gt; 图形编辑器</strong>：Photoshop 图形编辑器将能够 100%基于 Web 实现。</p></li><li><p><strong>其他可嵌入网站的内容(多用于活动页面、特效)</strong>：类似图表、音频、视频，还有许多元素能够更好地与 Web 融合，并且不需要任何插件。</p></li><li><p><strong>完整的 canvas 移动化应用</strong></p></li></ul><h2 id="canvas-入门" tabindex="-1">Canvas 入门 <a class="header-anchor" href="#canvas-入门" aria-label="Permalink to &quot;Canvas 入门&quot;">​</a></h2><h3 id="_1-创建-canvas-元素" tabindex="-1">1.创建 Canvas 元素 <a class="header-anchor" href="#_1-创建-canvas-元素" aria-label="Permalink to &quot;1.创建 Canvas 元素&quot;">​</a></h3><p>向 HTML5 页面创建添加 canvas 元素。</p><p>规定元素的 id、宽度和高度：</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> id</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;myCanvas&quot;</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;200&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;100&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-canvas-坐标系" tabindex="-1">2.Canvas 坐标系 <a class="header-anchor" href="#_2-canvas-坐标系" aria-label="Permalink to &quot;2.Canvas 坐标系&quot;">​</a></h3><p>原点（0, 0）</p><p>x 轴</p><p>y 轴</p><p><img src="'+t+`" alt="location.jpg"></p><h3 id="_3-通过-javascript-来绘制" tabindex="-1">3.通过 JavaScript 来绘制 <a class="header-anchor" href="#_3-通过-javascript-来绘制" aria-label="Permalink to &quot;3.通过 JavaScript 来绘制&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">/*获取元素*/</span></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;#myCanvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*获取绘图工具*/</span></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> context</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*设置绘图的起始位置*/</span></span>
<span class="line"><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*绘制路径*/</span></span>
<span class="line"><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*描边*/</span></span>
<span class="line"><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_4-完整代码" tabindex="-1">4.完整代码 <a class="header-anchor" href="#_4-完整代码" aria-label="Permalink to &quot;4.完整代码&quot;">​</a></h3><ul><li><p><code>display: block</code>可以把<code>&lt;canvas&gt;&lt;/canvas&gt;</code>变成块级元素，从而可以通过<code>margin: 0 auto;</code>设置为水平居中</p></li><li><p>canvas 有显示的大小，还有内里分辨率的大小，所以不能在 css 中设置 canvas 元素的大小</p></li></ul><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;Title&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*不建议在 样式设置尺寸*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*width: 600px;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            height: 400px;*/</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!--1.准备画布--&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!--1.1 画布是白色的 而且默认300*150--&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!--1.2 设置画布的大小  width=&quot;600&quot; height=&quot;400&quot; --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> id</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;myCanvas&quot;</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!--2.准备绘制工具--&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!--3.利用工具绘图--&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.获取元素*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// var myCanvas = document.querySelector(&#39;canvas&#39;);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;#myCanvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// js方法设置宽高属性</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// myCanvas.width = &quot;600&quot;;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// myCanvas.height = &quot;400&quot;;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.获取上下文 绘制工具箱 */</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">/*web gl 绘制3d效果的网页技术*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.移动画笔*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*4.绘制直线 (轨迹，绘制路径)*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*5.描边*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h2 id="canvas-的概念详解和基本使用" tabindex="-1">Canvas 的概念详解和基本使用 <a class="header-anchor" href="#canvas-的概念详解和基本使用" aria-label="Permalink to &quot;Canvas 的概念详解和基本使用&quot;">​</a></h2><h3 id="_1-图形绘制" tabindex="-1">1.图形绘制 <a class="header-anchor" href="#_1-图形绘制" aria-label="Permalink to &quot;1.图形绘制&quot;">​</a></h3><p>需要理解些概念：</p><ul><li><p>路径的概念</p></li><li><p>路径的绘制</p><ul><li>描边 stroke()</li><li>填充 fill()</li><li><img src="`+o+'" alt="path.jpg"></li></ul><p>闭合路径</p><ul><li>手动闭合</li><li>程序闭合 closePath()</li></ul></li><li><p>填充规则(非零环绕)</p><ul><li><p><img src="'+e+'" alt="zero.jpg"></p></li><li><p><img src="'+r+`" alt="非零环绕规则.jpg"></p></li></ul></li><li><p>开启新的路径 beginPath()</p></li></ul><h3 id="_2-canvas-getcontext-2d-的属性和方法" tabindex="-1">2.canvas.getContext(&quot;2d&quot;);的属性和方法 <a class="header-anchor" href="#_2-canvas-getcontext-2d-的属性和方法" aria-label="Permalink to &quot;2.canvas.getContext(&quot;2d&quot;);的属性和方法&quot;">​</a></h3><ul><li><p>canvas 标签 getContext 的使用文档：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext" target="_blank" rel="noreferrer">HTMLCanvasElement.getContext() - Web API 接口参考 | MDN (mozilla.org)</a></p></li><li><p>getContext(&quot;2d&quot;)的属性和方法参考文档(下列属性和方法参考的文档 1)：<a href="https://www.runoob.com/tags/ref-canvas.html" target="_blank" rel="noreferrer">HTML 画布 | 菜鸟教程 (runoob.com)</a></p></li><li><p><strong>canvas.getContext(&quot;2d&quot;)的使用文档(下列属性和方法参考的文档 2)</strong>：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D" target="_blank" rel="noreferrer">CanvasRenderingContext2D - Web API 接口参考 | MDN (mozilla.org)</a></p></li></ul><h4 id="颜色、样式和阴影" tabindex="-1">颜色、样式和阴影 <a class="header-anchor" href="#颜色、样式和阴影" aria-label="Permalink to &quot;颜色、样式和阴影&quot;">​</a></h4><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-fillstyle.html" target="_blank" rel="noreferrer">fillStyle</a></td><td>设置或返回用于填充绘画的颜色、渐变或模式。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-strokestyle.html" target="_blank" rel="noreferrer">strokeStyle</a></td><td>设置或返回用于笔触的颜色、渐变或模式。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-shadowcolor.html" target="_blank" rel="noreferrer">shadowColor</a></td><td>设置或返回用于阴影的颜色。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-shadowblur.html" target="_blank" rel="noreferrer">shadowBlur</a></td><td>设置或返回用于阴影的模糊级别。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-shadowoffsetx.html" target="_blank" rel="noreferrer">shadowOffsetX</a></td><td>设置或返回阴影与形状的水平距离。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-shadowoffsety.html" target="_blank" rel="noreferrer">shadowOffsetY</a></td><td>设置或返回阴影与形状的垂直距离。</td></tr></tbody></table><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-createlineargradient.html" target="_blank" rel="noreferrer">createLinearGradient()</a></td><td>创建线性渐变（用在画布内容上）。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-createpattern.html" target="_blank" rel="noreferrer">createPattern()</a></td><td>在指定的方向上重复指定的元素。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-createradialgradient.html" target="_blank" rel="noreferrer">createRadialGradient()</a></td><td>创建放射状/环形的渐变（用在画布内容上）。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-addcolorstop.html" target="_blank" rel="noreferrer">addColorStop()</a></td><td>规定渐变对象中的颜色和停止位置。</td></tr></tbody></table><h4 id="虚线" tabindex="-1">虚线 <a class="header-anchor" href="#虚线" aria-label="Permalink to &quot;虚线&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/setLineDash" target="_blank" rel="noreferrer">setLineDash(segments)</a></td><td>填充线时使用虚线模式</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/getLineDash" target="_blank" rel="noreferrer">getLineDash()</a></td><td>获取当前虚线样式的方法</td></tr></tbody></table><p>偏移</p><table tabindex="0"><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineDashOffset" target="_blank" rel="noreferrer">lineDashOffset</a></td><td>ctx.lineDashOffset = -20;<br>如果是正的值 往后偏移，如果是负的值 往前偏移</td></tr></tbody></table><h4 id="线条样式" tabindex="-1">线条样式 <a class="header-anchor" href="#线条样式" aria-label="Permalink to &quot;线条样式&quot;">​</a></h4><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-linecap.html" target="_blank" rel="noreferrer">lineCap</a></td><td>设置或返回线条的结束端点样式。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-linejoin.html" target="_blank" rel="noreferrer">lineJoin</a></td><td>设置或返回两条线相交时，所创建的拐角类型。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-linewidth.html" target="_blank" rel="noreferrer">lineWidth</a></td><td>设置或返回当前的线条宽度。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-miterlimit.html" target="_blank" rel="noreferrer">miterLimit</a></td><td>设置或返回最大斜接长度。</td></tr></tbody></table><h4 id="矩形" tabindex="-1">矩形 <a class="header-anchor" href="#矩形" aria-label="Permalink to &quot;矩形&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-rect.html" target="_blank" rel="noreferrer">rect()</a></td><td>创建矩形。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-fillrect.html" target="_blank" rel="noreferrer">fillRect()</a></td><td>绘制&quot;被填充&quot;的矩形。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-strokerect.html" target="_blank" rel="noreferrer">strokeRect()</a></td><td>绘制矩形（无填充）。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-clearrect.html" target="_blank" rel="noreferrer">clearRect()</a></td><td>在给定的矩形内清除指定的像素。</td></tr></tbody></table><h4 id="路径" tabindex="-1">路径 <a class="header-anchor" href="#路径" aria-label="Permalink to &quot;路径&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-fill.html" target="_blank" rel="noreferrer">fill()</a></td><td>填充当前绘图（路径）。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-stroke.html" target="_blank" rel="noreferrer">stroke()</a></td><td>绘制已定义的路径。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-beginpath.html" target="_blank" rel="noreferrer">beginPath()</a></td><td>起始一条路径，或重置当前路径。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-moveto.html" target="_blank" rel="noreferrer">moveTo()</a></td><td>把路径移动到画布中的指定点，不创建线条。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-closepath.html" target="_blank" rel="noreferrer">closePath()</a></td><td>创建从当前点回到起始点的路径。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-lineto.html" target="_blank" rel="noreferrer">lineTo()</a></td><td>添加一个新点，然后在画布中创建从该点到最后指定点的线条。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-clip.html" target="_blank" rel="noreferrer">clip()</a></td><td>从原始画布剪切任意形状和尺寸的区域。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-quadraticcurveto.html" target="_blank" rel="noreferrer">quadraticCurveTo()</a></td><td>创建二次贝塞尔曲线。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-beziercurveto.html" target="_blank" rel="noreferrer">bezierCurveTo()</a></td><td>创建三次贝塞尔曲线。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-arc.html" target="_blank" rel="noreferrer">arc()</a></td><td>创建弧/曲线（用于创建圆形或部分圆）。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-arcto.html" target="_blank" rel="noreferrer">arcTo()</a></td><td>创建两切线之间的弧/曲线。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-ispointinpath.html" target="_blank" rel="noreferrer">isPointInPath()</a></td><td>如果指定的点位于当前路径中，则返回 true，否则返回 false。</td></tr></tbody></table><h4 id="转换" tabindex="-1">转换 <a class="header-anchor" href="#转换" aria-label="Permalink to &quot;转换&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-scale.html" target="_blank" rel="noreferrer">scale()</a></td><td>缩放当前绘图至更大或更小。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-rotate.html" target="_blank" rel="noreferrer">rotate()</a></td><td>旋转当前绘图。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-translate.html" target="_blank" rel="noreferrer">translate()</a></td><td>重新映射画布上的 (0,0) 位置。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-transform.html" target="_blank" rel="noreferrer">transform()</a></td><td>替换绘图的当前转换矩阵。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-settransform.html" target="_blank" rel="noreferrer">setTransform()</a></td><td>将当前转换重置为单位矩阵。然后运行 transform()。</td></tr></tbody></table><h4 id="文本" tabindex="-1">文本 <a class="header-anchor" href="#文本" aria-label="Permalink to &quot;文本&quot;">​</a></h4><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-font.html" target="_blank" rel="noreferrer">font</a></td><td>设置或返回文本内容的当前字体属性。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-textalign.html" target="_blank" rel="noreferrer">textAlign</a></td><td>设置或返回文本内容的当前对齐方式。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-textbaseline.html" target="_blank" rel="noreferrer">textBaseline</a></td><td>设置或返回在绘制文本时使用的当前文本基线。</td></tr></tbody></table><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-filltext.html" target="_blank" rel="noreferrer">fillText()</a></td><td>在画布上绘制&quot;被填充的&quot;文本。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-stroketext.html" target="_blank" rel="noreferrer">strokeText()</a></td><td>在画布上绘制文本（无填充）。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-measuretext.html" target="_blank" rel="noreferrer">measureText()</a></td><td>返回包含指定文本宽度的对象。</td></tr></tbody></table><h4 id="图像绘制" tabindex="-1">图像绘制 <a class="header-anchor" href="#图像绘制" aria-label="Permalink to &quot;图像绘制&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-drawimage.html" target="_blank" rel="noreferrer">drawImage()</a></td><td>向画布上绘制图像、画布或视频。</td></tr></tbody></table><h4 id="像素操作" tabindex="-1">像素操作 <a class="header-anchor" href="#像素操作" aria-label="Permalink to &quot;像素操作&quot;">​</a></h4><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-imagedata-width.html" target="_blank" rel="noreferrer">width</a></td><td>返回 ImageData 对象的宽度。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-imagedata-height.html" target="_blank" rel="noreferrer">height</a></td><td>返回 ImageData 对象的高度。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-imagedata-data.html" target="_blank" rel="noreferrer">data</a></td><td>返回一个对象，其包含指定的 ImageData 对象的图像数据。</td></tr></tbody></table><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-createimagedata.html" target="_blank" rel="noreferrer">createImageData()</a></td><td>创建新的、空白的 ImageData 对象。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-getimagedata.html" target="_blank" rel="noreferrer">getImageData()</a></td><td>返回 ImageData 对象，该对象为画布上指定的矩形复制像素数据。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-putimagedata.html" target="_blank" rel="noreferrer">putImageData()</a></td><td>把图像数据（从指定的 ImageData 对象）放回画布上。</td></tr></tbody></table><h4 id="合成" tabindex="-1">合成 <a class="header-anchor" href="#合成" aria-label="Permalink to &quot;合成&quot;">​</a></h4><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/tags/canvas-globalalpha.html" target="_blank" rel="noreferrer">globalAlpha</a></td><td>设置或返回绘图的当前 alpha 或透明值。</td></tr><tr><td><a href="https://www.runoob.com/tags/canvas-globalcompositeoperation.html" target="_blank" rel="noreferrer">globalCompositeOperation</a></td><td>设置或返回新图像如何绘制到已有的图像上。</td></tr></tbody></table><h4 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>save()</td><td>保存当前环境的状态。</td></tr><tr><td>restore()</td><td>返回之前保存过的路径状态和属性。</td></tr><tr><td>createEvent()</td><td></td></tr><tr><td>getContext()</td><td></td></tr><tr><td>toDataURL()</td><td></td></tr></tbody></table><h3 id="_3-练习例子" tabindex="-1">3.练习例子 <a class="header-anchor" href="#_3-练习例子" aria-label="Permalink to &quot;3.练习例子&quot;">​</a></h3><h4 id="两条平行线-线条的不饱和样式问题-的解决" tabindex="-1">两条平行线，线条的不饱和样式问题 的解决 <a class="header-anchor" href="#两条平行线-线条的不饱和样式问题-的解决" aria-label="Permalink to &quot;两条平行线，线条的不饱和样式问题 的解决&quot;">​</a></h4><ul><li><p>对齐的点是线的中心位置   会把线分成两个 0.5px 显示的是会不饱和增加宽度</p></li><li><p>解决方案：前后移动 0.5px</p></li></ul><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;两条平行线，线条的不饱和样式问题 的解决&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				            display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*画平行线*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 饱和样式：前后移动0.5px</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 不饱和样式</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制上面已定义的路径：把通过 moveTo() 和 lineTo() 方法定义的路径绘制在画布上*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*关于线条的问题*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.默认的宽度是多少   1px*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.默认的颜色是什么   黑色*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*产生原因  对齐的点是线的中心位置  会把线分成两个0.5px 显示的是会不饱和增加宽度*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*解决方案  前后移动0.5px */</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h4 id="绘制三个不一样的路径" tabindex="-1">绘制三个不一样的路径 <a class="header-anchor" href="#绘制三个不一样的路径" aria-label="Permalink to &quot;绘制三个不一样的路径&quot;">​</a></h4><p>想绘制多个路径而不被覆盖，使用 beginPath()方法开启新路径，继续绘制</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制三个不一样的路径&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				            display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*画平行线*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">/*开启新路径*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*蓝色  10px*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;blue&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制上面已定义的路径：把通过 moveTo() 和 lineTo() 方法定义的路径绘制在画布上*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">/*开启新路径*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*红色 20px*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;red&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制上面已定义的路径：把通过 moveTo() 和 lineTo() 方法定义的路径绘制在画布上*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">/*开启新路径*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绿色 30px*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;green&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 30</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制上面已定义的路径：把通过 moveTo() 和 lineTo() 方法定义的路径绘制在画布上*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 想绘制多个路径而不被覆盖，使用beginPath()方法开启新路径，继续绘制</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><h4 id="绘制三角形-填充和不填充" tabindex="-1">绘制三角形-填充和不填充 <a class="header-anchor" href="#绘制三角形-填充和不填充" aria-label="Permalink to &quot;绘制三角形-填充和不填充&quot;">​</a></h4><p>问题：三角形的闭合路径，路径的宽度，会造成第三条线的闭合会出现缺口</p><p>解决：使用 canvas 的自动闭合<code>closePath()</code>方法，替代第三条路径自动闭合</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制三角形-填充和不填充&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">        canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">            border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">    var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;canvas&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">    var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;2d&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /*1.绘制一个三角形*/</span></span>
<span class="line"><span style="color:#E5C07B;">    ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">    ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">    ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /*起始点和lineTo的结束点无法完全闭合缺角，所以使用下面的关闭路径方法*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // ctx.lineTo(100,100);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /*使用canvas的自动闭合：关闭路径*/</span></span>
<span class="line"><span style="color:#E5C07B;">    ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 路径宽度</span></span>
<span class="line"><span style="color:#E5C07B;">    ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /*2.绘制路径(描边)*/</span></span>
<span class="line"><span style="color:#E5C07B;">    ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /*3.绘制形状并填充*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // ctx.fill();</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;l();</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h4 id="绘制镂空的正方形-非零环绕规则-☝️" tabindex="-1">绘制镂空的正方形：非零环绕规则 ☝️ <a class="header-anchor" href="#绘制镂空的正方形-非零环绕规则-☝️" aria-label="Permalink to &quot;绘制镂空的正方形：非零环绕规则 ☝️&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制镂空的正方形&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.绘制两个正方形 一大200一小100 套在一起*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">// 创建从当前点回到起始点的路径</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">250</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">250</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">250</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">250</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">// 创建从当前点回到起始点的路径</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 绘制描边路径</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.stroke();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 填充样式</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fillStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;red&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.绘制填充*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*在填充的时候回遵循非零环绕规则*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 顺时针和逆时针来绘制外图形和内图形</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><hr><p>画笔的状态</p><ul><li>lineWidth：线宽，默认 1px</li><li>lineCap：线末端类型：(butt 默认)、round、square</li><li>lineJoin：相交线的拐点 miter(默认)、round、bevel</li><li>strokeStyle：线的颜色</li><li>fillStyle：填充颜色</li><li>setLineDash()：设置虚线</li><li>getLineDash()：获取虚线宽度集合</li><li>lineDashOffset：设置虚线偏移量（负值向右偏移）</li></ul><h4 id="绘制三个不同颜色-线的两端样式-拐点形状的箭头" tabindex="-1">绘制三个不同颜色|线的两端样式|拐点形状的箭头 <a class="header-anchor" href="#绘制三个不同颜色-线的两端样式-拐点形状的箭头" aria-label="Permalink to &quot;绘制三个不同颜色|线的两端样式|拐点形状的箭头&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制三个不同颜色|线的两端样式|拐点形状的箭头&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*画平行线*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 第一个蓝色箭头</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;blue&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 路径笔触颜色、渐变或模式：蓝色</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineCap</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;butt&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 线条的结束端点样式：平直的边缘(默认)</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineJoin</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;miter&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 拐角类型：尖角(默认)</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 第二个红色箭头</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">120</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;red&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 路径笔触颜色、渐变或模式：红色</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineCap</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;square&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 线条的结束端点样式：正方形</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineJoin</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;bevel&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 拐角类型：斜角</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 第三个绿色箭头</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">220</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;green&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 路径笔触颜色、渐变或模式：绿色</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 30</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineCap</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;round&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 线条的结束端点样式：圆形</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineJoin</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;round&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 拐角类型：圆形</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h4 id="绘制虚线" tabindex="-1">绘制虚线 <a class="header-anchor" href="#绘制虚线" aria-label="Permalink to &quot;绘制虚线&quot;">​</a></h4><p>getLineDash()方法绘制虚线</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;Title&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*画线*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*[5,10] 数组是用来描述你的排列方式的*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">setLineDash</span><span style="color:#ABB2BF;">([</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">]);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*获取虚线的排列方式 获取的是不重复的那一段的排列方式*/</span></span>
<span class="line"><span style="color:#E5C07B;">			console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getLineDash</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*如果是正的值 往后偏移*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*如果是负的值 往前偏移*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.lineDashOffset = -20;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h4 id="绘制渐变的矩形" tabindex="-1">绘制渐变的矩形 <a class="header-anchor" href="#绘制渐变的矩形" aria-label="Permalink to &quot;绘制渐变的矩形&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;08-绘制一个从黑到白的渐变矩形&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制一个矩形*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*线是由点构成的：用线绘制矩形*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">lineWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 30</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#D19A66;"> 255</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> i</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;rgb(&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;,0,0)&quot;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 渐变</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="绘制网格" tabindex="-1">绘制网格 <a class="header-anchor" href="#绘制网格" aria-label="Permalink to &quot;绘制网格&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;09-绘制网格&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.绘制网格*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.网格的大小*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> gridSize</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> canvasHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> canvasWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 打印数据</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// var canvasHeight = myCanvas.height;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// var canvasWidth = myCanvas.width;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// console.log(canvasHeight);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// console.log(canvasWidth);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// console.log(ctx.canvas.width);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// console.log(ctx.canvas.height);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.画多少条X轴方向的线-横线的条数、画布高度*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> xLineTotal</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> /</span><span style="color:#E06C75;"> gridSize</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 画横线</span></span>
<span class="line"><span style="color:#C678DD;">			for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#E06C75;"> xLineTotal</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;#eee&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*4.画多少条Y轴方向的线*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> yLineTotal</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> /</span><span style="color:#E06C75;"> gridSize</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 画竖线</span></span>
<span class="line"><span style="color:#C678DD;">			for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#E06C75;"> yLineTotal</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">canvasHeight</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;#eee&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*5.遍历的形式去画*/</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><h4 id="绘制坐标系" tabindex="-1">绘制坐标系 <a class="header-anchor" href="#绘制坐标系" aria-label="Permalink to &quot;绘制坐标系&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;10-绘制坐标系&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.绘制坐标系*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.确定原点*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.确定距离画布旁边的距离*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*4.确定坐标轴的长度*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*5.确定箭头的大小  是个等腰三角形  10 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*6.绘制箭头填充*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> space</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 间距</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 箭头尺寸大小</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*计算原点*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> canvasWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> canvasHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> space</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> canvasHeight</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> space</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制x轴*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> space</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*x轴箭头绘制*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> space</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> space</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> space</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制y轴*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*y轴箭头绘制*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> arrowSize</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><h4 id="绘制正方形的点" tabindex="-1">绘制正方形的点 <a class="header-anchor" href="#绘制正方形的点" aria-label="Permalink to &quot;绘制正方形的点&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;11-绘制正方形的点&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.绘制点*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.点的尺寸*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.以坐标中心绘制点*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 点的坐标</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> coordinate</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">				x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">				y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 点的尺寸</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 以坐标中心绘制点</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">coordinate</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h4 id="结合-网格、坐标系、点的绘制案例-绘制折线图" tabindex="-1">结合 - 网格、坐标系、点的绘制案例：绘制折线图 <a class="header-anchor" href="#结合-网格、坐标系、点的绘制案例-绘制折线图" aria-label="Permalink to &quot;结合 - 网格、坐标系、点的绘制案例：绘制折线图&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;12-绘制折线图&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.构造函数*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#61AFEF;"> LineChart</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">ctx</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 获取绘图工具</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> ||</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 画布的大小</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 网格的大小</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">gridSize</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 坐标系的间距</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 坐标原点</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 箭头的大小</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 绘制点</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 6</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*点的坐标 和数据有关系  数据可视化*/</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.行为方法*/</span></span>
<span class="line"><span style="color:#E5C07B;">			LineChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">init</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">data</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawGrid</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawAxis</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawDotted</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制网格*/</span></span>
<span class="line"><span style="color:#E5C07B;">			LineChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawGrid</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// x方向的线</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> xLineTotal</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> /</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">gridSize</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;#eee&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#E06C75;"> xLineTotal</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">				}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// y方向的线</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> yLineTotal</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> /</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">gridSize</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#E06C75;"> yLineTotal</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">gridSize</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">				}</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制坐标系*/</span></span>
<span class="line"><span style="color:#E5C07B;">			LineChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawAxis</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// X轴</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;#000&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// Y轴</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;#000&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">arrowSize</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制所有点*/</span></span>
<span class="line"><span style="color:#E5C07B;">			LineChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawDotted</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">data</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*1.数据的坐标 需要转换 canvas坐标*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*2.再进行点的绘制*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*3.把线连起来*/</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> that</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 记录当前坐标</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> prevCanvasX</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> prevCanvasY</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				data</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">i</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// x = 原点的坐标 + 数据的坐标</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// y = 原点的坐标 - 数据的坐标</span></span>
<span class="line"><span style="color:#C678DD;">					var</span><span style="color:#E06C75;"> canvasX</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">					var</span><span style="color:#E06C75;"> canvasY</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 绘制点</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">						canvasX</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						canvasY</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#ABB2BF;">					);</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">						canvasX</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						canvasY</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#ABB2BF;">					);</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">						canvasX</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						canvasY</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#ABB2BF;">					);</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">						canvasX</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						canvasY</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">dottedSize</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#ABB2BF;">					);</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					/*点的连线*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					/*当时第一个点的时候 起点是 x0 y0*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					/*当时不是第一个点的时候 起点是 上一个点*/</span></span>
<span class="line"><span style="color:#C678DD;">					if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> ==</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">canvasY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">					} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">						/*上一个点*/</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">prevCanvasX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">prevCanvasY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">canvasX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">canvasY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">					}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 记录当前的坐标，下一次要用</span></span>
<span class="line"><span style="color:#E06C75;">					prevCanvasX</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> canvasX</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">					prevCanvasY</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> canvasY</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				});</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.初始化*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> data</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">120</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">160</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">300</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">240</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">120</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					x</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">500</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					y</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">80</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">			];</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> lineChart</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> LineChart</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			lineChart</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">init</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br></div></div><p>其他练习请看：<strong>canvas 练习项目</strong>：<a href="https://github.com/muyaCode/canvas_study" target="_blank" rel="noreferrer">muyaCode/canvas_study: canvas 学习 (github.com)</a></p><h2 id="canvas-图形绘制" tabindex="-1">Canvas 图形绘制 <a class="header-anchor" href="#canvas-图形绘制" aria-label="Permalink to &quot;Canvas 图形绘制&quot;">​</a></h2><h3 id="_1-矩形绘制" tabindex="-1">1.矩形绘制 <a class="header-anchor" href="#_1-矩形绘制" aria-label="Permalink to &quot;1.矩形绘制&quot;">​</a></h3><ul><li>rect(x,y,w,h)：没有独立路径</li><li>strokeRect(x,y,w,h)：有独立路径，不影响别的绘制</li><li>fillRect(x,y,w,h)：有独立路径，不影响别的绘制</li><li>clearRect(x,y,w,h)：擦除矩形区域</li></ul><h4 id="绘制矩形" tabindex="-1">绘制矩形 <a class="header-anchor" href="#绘制矩形" aria-label="Permalink to &quot;绘制矩形&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制矩形&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*方法1：绘制矩形路径 不是独立路径*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.rect(100,100,200,100);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.fillStyle = &#39;green&#39;;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.stroke();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.fill();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*方法2：绘制矩形  有自己的独立路径*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.strokeRect(100,100,200,100);</span><span style="color:#7F848E;font-style:italic;"> // 描边矩形</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fillRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 填充矩形</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*清除矩形的内容*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h4 id="绘制渐变颜色的矩形" tabindex="-1">绘制渐变颜色的矩形 <a class="header-anchor" href="#绘制渐变颜色的矩形" aria-label="Permalink to &quot;绘制渐变颜色的矩形&quot;">​</a></h4><p>3 中方法渐变：</p><ul><li><p>方法 1：填充颜色属性：fillStyle = &#39;pink&#39;|&#39;#000&#39;|&#39;rgb()&#39;|&#39;rgba()&#39;</p></li><li><p>方法 2：使用一个渐变的 createLinearGradient()方法填充矩形</p></li><li><p>方法 3：css 渐变</p></li></ul><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;14-绘制一个渐变颜色的矩形&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/* 方法3：css渐变 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/* .linearGradient {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    width: 400px;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    height: 100px;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    background-image: linear-gradient(to right, pink, blue);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">   } */</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">div</span><span style="color:#D19A66;"> class</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;linearGradient&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// pink----&gt;blue</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 回想线性渐变----&gt;要素 方向  起始颜色 结束颜色</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 通过两个点的坐标可以控制 渐变方向</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*方法1：填充颜色属性：fillStyle = &#39;pink&#39;|&#39;#000&#39;|&#39;rgb()&#39;|&#39;rgba()&#39; */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*方法2：使用一个渐变的createLinearGradient()方法填充矩形*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*x0y0 起始点 x1y1 结束点  确定长度和方向*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> linearGradient</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createLinearGradient</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">500</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 创建一个渐变的方案</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 添加渐变：渐变是有长度的</span></span>
<span class="line"><span style="color:#E5C07B;">			linearGradient</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addColorStop</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;pink&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			//linearGradient.addColorStop(0.5,&#39;red&#39;);</span></span>
<span class="line"><span style="color:#E5C07B;">			linearGradient</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">addColorStop</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;blue&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fillStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> linearGradient</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 填充矩形</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fillRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="_2-圆弧绘制" tabindex="-1">2.圆弧绘制 <a class="header-anchor" href="#_2-圆弧绘制" aria-label="Permalink to &quot;2.圆弧绘制&quot;">​</a></h3><p>arc() 方法文档：<a href="https://www.runoob.com/tags/canvas-arc.html" target="_blank" rel="noreferrer">HTML canvas arc() 方法 | 菜鸟教程 (runoob.com)</a></p><p>arcTo() 方法文档：<a href="https://www.runoob.com/tags/canvas-arcto.html" target="_blank" rel="noreferrer">HTML canvas arcTo() 方法 | 菜鸟教程 (runoob.com)</a></p><ul><li><p>弧度概念</p><ul><li>1.什么是弧度   是一种长度的描述单位</li><li>2.一个弧度怎么去描述   一个圆有多少个弧度  2 * π</li><li>3.一弧度有多长   一个弧度一个半径的长度</li></ul></li><li><p>弧度计算</p><ul><li>角度：一个圆是 360 度</li><li>半径：已一个点为中心多长为放射半径</li><li>周长：2 <em>π</em> r</li></ul></li><li><p><code>arc()</code> 圆弧绘制方法</p><ul><li><p>语法：<code>context.arc(x,y,r,sAngle,eAngle,counterclockwise*);</code></p></li><li><p>参数值：</p><table tabindex="0"><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>圆的中心的 x 坐标（横坐标）。</td></tr><tr><td>y</td><td>圆的中心的 y 坐标（纵坐标）。</td></tr><tr><td>r</td><td>圆的半径。</td></tr><tr><td>sAngle</td><td>起始角（开始角度），以弧度计（弧的圆形的三点钟位置是 0 度）。</td></tr><tr><td>eAngle</td><td>结束角（结束角度），以弧度计。</td></tr><tr><td>counterclockwise</td><td>可选。应该逆时针还是顺时针绘图。false = 顺时针，true = 逆时针。默认 false</td></tr></tbody></table></li></ul></li></ul><h4 id="理解曲线的绘制-三种线的绘制公式" tabindex="-1">理解曲线的绘制：三种线的绘制公式 <a class="header-anchor" href="#理解曲线的绘制-三种线的绘制公式" aria-label="Permalink to &quot;理解曲线的绘制：三种线的绘制公式&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;理解曲线的绘制&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!--</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    1.什么是弧度  是一种长度的描述单位</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    2.一个弧度怎么去描述  一个圆有多少个弧度  2 * π</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    3.一弧度有多长  一个弧度一个半径的长度</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    角度：一个圆是360度</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    半径：已一个点为中心多长为放射半径</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    周长：2 * π * r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    最终的结论：一个角度等于多少弧度  π/180</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.体验曲线的绘制*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.线是由点构成的*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.曲线可以由数学公式得来*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">			for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#D19A66;"> 600</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> x</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> i</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// var y = x / 2;</span><span style="color:#7F848E;font-style:italic;"> // 斜线公式1：y = x / 2</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// var y = Math.pow(x / 10-30, 2);</span><span style="color:#7F848E;font-style:italic;"> // 抛物线公式2：y = (x + 2) ^2</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> y</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 50</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">sin</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 100</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 曲线公式3：y = sin(x)</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h4 id="绘制四分之一个圆弧-arc-方法绘制圆弧" tabindex="-1">绘制四分之一个圆弧：arc()方法绘制圆弧 <a class="header-anchor" href="#绘制四分之一个圆弧-arc-方法绘制圆弧" aria-label="Permalink to &quot;绘制四分之一个圆弧：arc()方法绘制圆弧&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制四分之一个圆弧&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*绘制圆弧*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 1.确定圆心：坐标 x, y</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 2.确定圆半径：r</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 3.确定起始绘制的位置和结束绘制的位置：确定弧的长度和位置：startAngle, endAngle   弧度</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 4.取得绘制的方向 direction 默认是顺时针 false 逆时针 true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*在中心位置画一个半径150px的圆弧左下角*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// arc()方法绘制圆弧：四分之一个圆计算</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h4 id="绘制一个右上角的四分之一的扇形-计算弧度绘制再填充" tabindex="-1">绘制一个右上角的四分之一的扇形：计算弧度绘制再填充 <a class="header-anchor" href="#绘制一个右上角的四分之一的扇形-计算弧度绘制再填充" aria-label="Permalink to &quot;绘制一个右上角的四分之一的扇形：计算弧度绘制再填充&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制一个右上角的四分之一的扇形&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*原理：在中心位置画一个半径150px的圆弧右上角， 1.扇形  2.计算边  3.填充 */</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 把起点放到圆心位置</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 计算扇形弧度</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">-</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 闭合路径</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.closePath();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 填充模式</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="绘制一个圆分成六等分颜色随机" tabindex="-1">绘制一个圆分成六等分颜色随机 <a class="header-anchor" href="#绘制一个圆分成六等分颜色随机" aria-label="Permalink to &quot;绘制一个圆分成六等分颜色随机&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制一个圆分成六等分颜色随机&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 分成几等分</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> num</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 6</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 一份多少弧度</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> angle</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">/</span><span style="color:#E06C75;"> num</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 原点坐标</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 随机颜色方法</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#61AFEF;"> getRandomColor</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				return</span><span style="color:#98C379;"> &quot;rgb(&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;,&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;,&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;)&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 上一次绘制的结束弧度等于当前次的起始弧度</span></span>
<span class="line"><span style="color:#C678DD;">			for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> num</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 起始和结束</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> startAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> angle</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> endAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#E06C75;"> angle</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 开始绘制</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">startAngle</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">endAngle</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fillStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> getRandomColor</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">// 随机颜色</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">// 填充模式</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><h4 id="结合上面例子-根据年龄分布绘制饼图" tabindex="-1">结合上面例子：根据年龄分布绘制饼图 <a class="header-anchor" href="#结合上面例子-根据年龄分布绘制饼图" aria-label="Permalink to &quot;结合上面例子：根据年龄分布绘制饼图&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;根据年龄分布绘制饼图&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*根据年龄分布绘制饼图*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.准备统计的数据*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 15-20岁 6个</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 20-25岁 30个</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 25-30岁 10个</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 30-35岁 8个</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> data</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">6</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">30</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.在饼图表示出来*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 各个年龄段人的总数</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> total</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			data</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">i</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E06C75;">				total</span><span style="color:#56B6C2;"> +=</span><span style="color:#E06C75;"> item</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			});</span></span>
<span class="line"><span style="color:#E5C07B;">			console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">total</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 存放-数据转成弧度</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> angleList</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [];</span></span>
<span class="line"><span style="color:#E5C07B;">			data</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">i</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> angle</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> *</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">item</span><span style="color:#56B6C2;"> /</span><span style="color:#E06C75;"> total</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				angleList</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">angle</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			});</span></span>
<span class="line"><span style="color:#E5C07B;">			console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">angleList</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.根据弧度绘制扇形*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 获取随机颜色方法</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#61AFEF;"> getRandomColor</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				return</span><span style="color:#98C379;"> &quot;rgb(&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;,&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;,&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;)&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> startAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			angleList</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">i</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 上一次绘制的结束弧度等于当前次的起始弧度</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> endAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> startAngle</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> item</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">startAngle</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">endAngle</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fillStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> getRandomColor</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 记录当前的结束位置作为下一次的起始位置</span></span>
<span class="line"><span style="color:#E06C75;">				startAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> endAngle</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			});</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h3 id="_3-绘制文本" tabindex="-1">3.绘制文本 <a class="header-anchor" href="#_3-绘制文本" aria-label="Permalink to &quot;3.绘制文本&quot;">​</a></h3><p>文本的方法和属性：打开<a href="https://www.runoob.com/tags/ref-canvas.html" target="_blank" rel="noreferrer">HTML 画布 | 菜鸟教程 (runoob.com)</a>，搜索 [<code>文本</code>] 两字</p><ul><li><p>ctx.font = &#39;微软雅黑&#39;; - 设置字体</p></li><li><p><code>strokeText()</code>：在画布上绘制文本（无填充）</p></li><li><p><code>fillText(text,x,y,maxWidth)</code> ：在画布上绘制&quot;被填充的&quot;文本</p><ul><li>text 要绘制的文本</li><li>x,y 文本绘制的坐标（文本左下角）</li><li>maxWidth 设置文本最大宽度，可选参数</li></ul></li><li><p><code>ctx.textAlign</code>：文本水平对齐方式，相对绘制坐标来说的</p><ul><li>left</li><li>center</li><li>right</li><li>start（默认）</li><li>end</li></ul></li><li><p><code>ctx.direction</code>属性 css(rtl、ltr) start 和 end 与此相关</p><p>direction 属性文档(前面表格没有的属性)：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/direction" target="_blank" rel="noreferrer">CanvasRenderingContext2D.direction - Web API 接口参考 | MDN (mozilla.org)</a></p><ul><li>如果是 ltr，文本方向从左向右，start 和 left 表现一致</li><li>如果是 rtl，文本方向从右向左，start 和 right 表现一致</li><li>如果是 inherit(默认值)，根据情况继承  <code>canvas</code>元素或者  <code>Document</code></li></ul></li><li><p><code>ctx.textBaseline</code>：设置基线（垂直对齐方式 ）</p><ul><li>top 文本的基线处于文本的正上方，并且有一段距离</li><li>middle 文本的基线处于文本的正中间</li><li>bottom 文本的基线处于文本的证下方，并且有一段距离</li><li>hanging 文本的基线处于文本的正上方，并且和文本粘合</li><li>alphabetic 默认值，基线处于文本的下方，并且穿过文字</li><li>ideographic 和 bottom 相似，但是不一样</li></ul></li><li><p><code>measureText()</code>：获取文本宽度 obj.width</p></li></ul><h4 id="绘制在画布中心的一段文字" tabindex="-1">绘制在画布中心的一段文字 <a class="header-anchor" href="#绘制在画布中心的一段文字" aria-label="Permalink to &quot;绘制在画布中心的一段文字&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制在画布中心的一段文字&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">100</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 在画布的中心绘制一段文字</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.声明一段文字*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> str</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;您吃-,了吗&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.确定画布的中心*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*3.画一个十字架在画布的中心*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 横线</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">w</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 竖线</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">h</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;#eee&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*4.绘制文本*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;#000&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 注意：起点位置在文字的左下角</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 有文本的属性  尺寸 字体  左右对齐方式  垂直对齐的方式</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">font</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;40px Microsoft YaHei&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 左右对齐方式：(center left right start end) 基准起始坐标</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">textAlign</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;center&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 垂直对齐的方式：基线 baseline(top,bottom,middle) 基准起始坐标</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">textBaseline</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;middle&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 文本方向的属性：ltr，从左向右；rtl，从右向左；inherit(默认值)，根据情况继承 \`canvas\`元素或者 \`Document\`</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.direction = &#39;rtl&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 绘制文本</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.strokeText(str, x0, y0);</span><span style="color:#7F848E;font-style:italic;"> // 绘制无填充的文本</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fillText</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">str</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 绘制填充文本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*5.画一个下划线和文字一样长*/</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 获取文本的宽度</span></span>
<span class="line"><span style="color:#E5C07B;">			console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">measureText</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">str</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 返回包含指定文本宽度的对象</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> width</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">measureText</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">str</span><span style="color:#ABB2BF;">).</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 文本的下划线绘制</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> width</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> width</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h4 id="结合上面饼图绘制和文字绘制-绘制完整的带文本数据显示的饼状图" tabindex="-1">结合上面饼图绘制和文字绘制：绘制完整的带文本数据显示的饼状图 <a class="header-anchor" href="#结合上面饼图绘制和文字绘制-绘制完整的带文本数据显示的饼状图" aria-label="Permalink to &quot;结合上面饼图绘制和文字绘制：绘制完整的带文本数据显示的饼状图&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制完整的带文本数据显示的饼状图&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">100</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/***** 绘制饼状态图 *****/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.1 根据数据绘制一个饼图*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.2 绘制标题 从扇形的弧中心伸出一条线在画一条横线在横线的上面写上文字标题*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*1.3 在画布的左上角 绘制说明 一个和扇形一样颜色的矩形 旁边就是文字说明*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#61AFEF;"> PieChart</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">ctx</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 绘制工具</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> ||</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 绘制饼图的中心</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">w</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">h</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 圆心</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">w</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 60</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">h</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 半径</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 150</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 伸出去的线的长度</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">outLine</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 说明的矩形大小</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">rectW</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 30</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">rectH</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 16</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 20</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 间距</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 初始化方法里-准备绘制饼图的数据+方法</span></span>
<span class="line"><span style="color:#E5C07B;">			PieChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">init</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">data</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawPie</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 绘制饼图的-结合下面的数据+方法</span></span>
<span class="line"><span style="color:#E5C07B;">			PieChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawPie</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">data</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> that</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 1.转化弧度</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> angleList</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">transformAngle</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 2.绘制饼图</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> startAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				angleList</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">i</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 当前的结束弧度要等于下一次的起始弧度</span></span>
<span class="line"><span style="color:#C678DD;">					var</span><span style="color:#E06C75;"> endAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> startAngle</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">angle</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">radius</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">startAngle</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">endAngle</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">					var</span><span style="color:#E06C75;"> color</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fillStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getRandomColor</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					/*下一次要使用当前的这一次的结束角度*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 绘制伸出去的线的文本说明</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawTitle</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">startAngle</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">angle</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 绘制说明</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawDesc</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E06C75;">					startAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> endAngle</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				});</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 绘制饼图的 延申的线 和 线上面的 文本数据说明</span></span>
<span class="line"><span style="color:#E5C07B;">			PieChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawTitle</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#E06C75;font-style:italic;">				startAngle</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;font-style:italic;">				angle</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;font-style:italic;">				color</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;font-style:italic;">				title</span></span>
<span class="line"><span style="color:#ABB2BF;">			) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/***** 饼图上伸出去的线计算（比较重点和难点的，计算的看说明-有点抽象） *****/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*1.确定伸出去的线 通过圆心点和伸出去的线的点，确定这个线*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*2.确定伸出去的点，需要确定伸出去的线的长度*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*3.固定伸出去的线的长度*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*4.计算这个点的坐标*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*5.需要根据角度和斜边的长度*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*5.1 使用弧度：当前扇形的起始弧度 + 对应的弧度的一半 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*5.2 半径 + 伸出去的长度 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*5.2.1 outX = x0 + cos(angle) * (r + outLine)*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*5.2.2 outY = y0 + sin(angle) * (r + outLine)*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 斜边</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> edge</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">outLine</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// x轴方向的直角边</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> edgeX</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">cos</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">startAngle</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> angle</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#E06C75;"> edge</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// y轴方向的直角边</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> edgeY</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">sin</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">startAngle</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> angle</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#E06C75;"> edge</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 计算伸出去的点坐标</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> outX</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> edgeX</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> outY</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> edgeY</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 画伸出去的线</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">moveTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">outX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">outY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/***** 画饼图上的文本说明和下划线 *****/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 线的方向怎么判断 伸出去的点在X0的左边 线的方向就是左边</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 线的方向怎么判断 伸出去的点在X0的右边 线的方向就是右边</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 结束的点坐标  和文字大小</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">font</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;14px Microsoft YaHei&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> textWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">measureText</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">).</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 右</span></span>
<span class="line"><span style="color:#C678DD;">				if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">outX</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">outX</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> textWidth</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">outY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">textAlign</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;left&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				} </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 左</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">lineTo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">outX</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> textWidth</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">outY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">textAlign</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;right&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				}</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">textBaseline</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;bottom&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fillText</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">outX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">outY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 绘制左上角矩形和文字说明</span></span>
<span class="line"><span style="color:#E5C07B;">			PieChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawDesc</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">title</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/***** 左上角矩形绘制说明 *****/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 矩形的大小</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 距离上和左边的间距</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 矩形之间的间距</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fillRect</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> index</span><span style="color:#56B6C2;"> *</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">rectH</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">rectW</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">rectH</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 绘制矩形右边文字</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">textAlign</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;left&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">textBaseline</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;top&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">font</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;12px Microsoft YaHei&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fillText</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">					title</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">rectW</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">space</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> index</span><span style="color:#56B6C2;"> *</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">rectH</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 饼图弧度计算方法</span></span>
<span class="line"><span style="color:#E5C07B;">			PieChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">transformAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">data</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 返回的数据内容包含弧度的</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> total</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				data</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">i</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E06C75;">					total</span><span style="color:#56B6C2;"> +=</span><span style="color:#E5C07B;"> item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">num</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				});</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 计算弧度 并且追加到当前的对象内容</span></span>
<span class="line"><span style="color:#E5C07B;">				data</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">forEach</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">i</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">					var</span><span style="color:#E06C75;"> angle</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">num</span><span style="color:#56B6C2;"> /</span><span style="color:#E06C75;"> total</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">					item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">angle</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> angle</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				});</span></span>
<span class="line"><span style="color:#C678DD;">				return</span><span style="color:#E06C75;"> data</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 随机颜色方法</span></span>
<span class="line"><span style="color:#E5C07B;">			PieChart</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getRandomColor</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">				return</span><span style="color:#98C379;"> &quot;rgb(&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> r</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;,&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> g</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;,&quot;</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> b</span><span style="color:#56B6C2;"> +</span><span style="color:#98C379;"> &quot;)&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 准备的数据</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> data</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					title</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;15-20岁&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					num</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">6</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					title</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;20-25岁&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					num</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">30</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					title</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;25-30岁&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					num</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">				{</span></span>
<span class="line"><span style="color:#E06C75;">					title</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;30以上&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					num</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">				},</span></span>
<span class="line"><span style="color:#ABB2BF;">			];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 实例化构造函数和执行实例方法</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> pieChart</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> PieChart</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">			pieChart</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">init</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br></div></div><h2 id="做动画" tabindex="-1">做动画 <a class="header-anchor" href="#做动画" aria-label="Permalink to &quot;做动画&quot;">​</a></h2><h3 id="_1-绘制图片" tabindex="-1">1.绘制图片 <a class="header-anchor" href="#_1-绘制图片" aria-label="Permalink to &quot;1.绘制图片&quot;">​</a></h3><p>图像方法<code>drawImage()</code>文档：<a href="https://www.runoob.com/tags/canvas-drawimage.html" target="_blank" rel="noreferrer">HTML canvas drawImage() 方法 | 菜鸟教程 (runoob.com)</a></p><ul><li><code>drawImage()</code> 方法的三种不同参数绘制图片 <ul><li>三个参数：<code>drawImage(img,x,y)</code>：<strong>在画布上定位图像</strong><ul><li>img 图片对象、canvas 对象、video 对象</li><li>x,y 图片绘制的左上角</li></ul></li><li>五个参数：<code>drawImage(img,x,y,w,h)</code>：<strong>在画布上定位图像，并规定图像的宽度和高度</strong><ul><li>img 图片对象、canvas 对象、video 对象</li><li>x,y 图片绘制的左上角</li><li>w,h 图片绘制尺寸设置(图片缩放，不是截取)</li></ul></li><li>九个参数：<code>drawImage(img,x,y,w,h,x1,y1,w1,h1)</code>：<strong>剪切图像，并在画布上定位被剪切的部分</strong><ul><li>img 图片对象、canvas 对象、video 对象</li><li>x,y,w,h 图片中的一个矩形区域</li><li>x1,y1,w1,h1 画布中的一个矩形区域</li></ul></li></ul></li></ul><h4 id="绘制图片的三种方式-三种图片加载方法示例" tabindex="-1">绘制图片的三种方式+三种图片加载方法示例 <a class="header-anchor" href="#绘制图片的三种方式-三种图片加载方法示例" aria-label="Permalink to &quot;绘制图片的三种方式+三种图片加载方法示例&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;绘制图片&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!-- 方法3：标签引用图片 --&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		&lt;!--&lt;img src=&quot;image/01.jpg&quot; alt=&quot;&quot;&gt;--&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*方法1.创建img元素，加载图片到内存即可*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// var img = document.createElement(&quot;img&quot;);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// img.src = &quot;image/01.jpg&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*方法2：2.1 创建Image对象*/</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> image</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Image</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.2 要使用图片必须等图片加载完毕：先绑定加载完成事件*/</span></span>
<span class="line"><span style="color:#E5C07B;">			image</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">onload</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*实现图片绘制*/</span></span>
<span class="line"><span style="color:#E5C07B;">				console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*绘制图片的三种方式*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*3参数*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// ctx.drawImage(image,100,100);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*5个参数*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// ctx.drawImage(image,100,100,100,100);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*9个参数*/</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*2.3 再设置图片路径*/</span></span>
<span class="line"><span style="color:#E5C07B;">			image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">src</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;image/02.jpg&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h3 id="_2-序列帧动画" tabindex="-1">2.序列帧动画 <a class="header-anchor" href="#_2-序列帧动画" aria-label="Permalink to &quot;2.序列帧动画&quot;">​</a></h3><ul><li>绘制精灵图</li><li>帧动画-动起来</li><li>控制边界</li><li>键盘控制</li></ul><h4 id="结合上面绘制图像方法-进行帧动画绘制-通过drawimage-方法的-9-个参数的使用来截取图片位置-实现帧动画" tabindex="-1">结合上面绘制图像方法-进行帧动画绘制：通过<code>drawImage()</code>方法的 9 个参数的使用来截取图片位置，实现帧动画 <a class="header-anchor" href="#结合上面绘制图像方法-进行帧动画绘制-通过drawimage-方法的-9-个参数的使用来截取图片位置-实现帧动画" aria-label="Permalink to &quot;结合上面绘制图像方法-进行帧动画绘制：通过\`drawImage()\`方法的 9 个参数的使用来截取图片位置，实现帧动画&quot;">​</a></h4><p>精灵图：</p><p><img src="`+c+`" alt="04.png"></p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;帧动画&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> image</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Image</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/*图片加载完成*/</span></span>
<span class="line"><span style="color:#E5C07B;">			image</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">onload</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 动态的去获取当前图片的尺寸</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> imageWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> imageHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 计算出每一个小人物的尺寸</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> personWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> imageWidth</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 4</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> personHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> imageHeight</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 4</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/***** 位截取图片 *****/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 帧动画：在固定的时间间隔，根据图片的索引更换显示的图片</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> index</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*绘制在画布的中心*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 图片绘制的起始点</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> personWidth</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> personHeight</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 绘制图片截取第一个精灵图</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">					image</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">					0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">					0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					personHeight</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					x0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					y0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					personHeight</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 定时按顺序绘制其他精灵图</span></span>
<span class="line"><span style="color:#61AFEF;">				setInterval</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#E06C75;">					index</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 裁剪的索引位置</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 绘制之前清除已经绘制的精灵图，避免重复绘制</span></span>
<span class="line"><span style="color:#E5C07B;">					ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 通过\`drawImage()\`方法的9个参数的使用来截取图片位置，实现帧动画</span></span>
<span class="line"><span style="color:#E5C07B;">					ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">						image</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						index</span><span style="color:#56B6C2;"> *</span><span style="color:#E06C75;"> personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">						0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						personHeight</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						x0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						y0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">						personHeight</span></span>
<span class="line"><span style="color:#ABB2BF;">					);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 只绘制前3帧</span></span>
<span class="line"><span style="color:#C678DD;">					if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;"> &gt;=</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E06C75;">						index</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">					}</span></span>
<span class="line"><span style="color:#ABB2BF;">				}, </span><span style="color:#D19A66;">1000</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"><span style="color:#E5C07B;">			image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">src</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;image/04.png&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h4 id="方向键控制精灵图-行走的帧动画" tabindex="-1">方向键控制精灵图-行走的帧动画 <a class="header-anchor" href="#方向键控制精灵图-行走的帧动画" aria-label="Permalink to &quot;方向键控制精灵图-行走的帧动画&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;方向键控制的行走的小人&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#61AFEF;"> Person</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">ctx</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 绘制工具</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> ||</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 图片路径</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">src</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;image/04.png&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 画布的大小</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*行走相关参数*/</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepSzie</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 0：前，1：左，2：右，3：后  和图片的行数包含的图片对应上</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">direction</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// x轴方向的偏移步数</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepX</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// y轴方向的偏移步数</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepY</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 初始化方法</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">init</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">			Person</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">init</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> that</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/*1.加载图片和绘制出默认的精灵图帧*/</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">loadImage</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">image</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 图片的大小</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 人物的大小</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personWidth</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageWidth</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 4</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personHeight</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageHeight</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 4</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 绘制图片的起点</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personWidth</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personHeight</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 默认绘制在中心位置正面朝外的精灵图帧</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">						image</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">						0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">						0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personHeight</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">						that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personHeight</span></span>
<span class="line"><span style="color:#ABB2BF;">					);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					/*2.能通过方向键去控制人物行走*/</span></span>
<span class="line"><span style="color:#E5C07B;">					that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 监听键盘按键，分别截取不同的帧数</span></span>
<span class="line"><span style="color:#E5C07B;">					document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">onkeydown</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">e</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">						if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">keyCode</span><span style="color:#56B6C2;"> ==</span><span style="color:#D19A66;"> 40</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">							// 0：前</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">direction</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepY</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">						} </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">keyCode</span><span style="color:#56B6C2;"> ==</span><span style="color:#D19A66;"> 37</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">							// 1：左</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">direction</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepX</span><span style="color:#56B6C2;">--</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">						} </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">keyCode</span><span style="color:#56B6C2;"> ==</span><span style="color:#D19A66;"> 39</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">							// 2：右</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">direction</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepX</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">						} </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">keyCode</span><span style="color:#56B6C2;"> ==</span><span style="color:#D19A66;"> 38</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">							// 3：后</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">direction</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepY</span><span style="color:#56B6C2;">--</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">							that</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">						}</span></span>
<span class="line"><span style="color:#ABB2BF;">					};</span></span>
<span class="line"><span style="color:#ABB2BF;">				});</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 加载图片方法</span></span>
<span class="line"><span style="color:#E5C07B;">			Person</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">loadImage</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">callback</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> image</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Image</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">				image</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">onload</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#E06C75;">					callback</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#61AFEF;"> callback</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">				};</span></span>
<span class="line"><span style="color:#E5C07B;">				image</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">src</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">src</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 绘制图片方法</span></span>
<span class="line"><span style="color:#E5C07B;">			Person</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">image</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 清除画布，避免重复绘制</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasWidth</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				/***** 绘图 *****/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 在精灵图上的定位 x  索引</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 在精灵图上的定位 y  方向</span></span>
<span class="line"><span style="color:#E5C07B;">				this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">drawImage</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">					image</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">direction</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personHeight</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personHeight</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">x0</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepX</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepSzie</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y0</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepY</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">stepSzie</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personWidth</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">personHeight</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 如果索引超出了 变成0</span></span>
<span class="line"><span style="color:#C678DD;">				if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;"> &gt;=</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">					this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				}</span></span>
<span class="line"><span style="color:#ABB2BF;">			};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">			new</span><span style="color:#61AFEF;"> Person</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br></div></div><h3 id="_3-坐标变换" tabindex="-1">3.坐标变换 <a class="header-anchor" href="#_3-坐标变换" aria-label="Permalink to &quot;3.坐标变换&quot;">​</a></h3><p>打开文档搜索【转换】：<a href="https://www.runoob.com/tags/ref-canvas.html" target="_blank" rel="noreferrer">HTML 画布 | 菜鸟教程 (runoob.com)</a></p><ul><li>平移 移动画布的原点 <ul><li>translate(x,y) 参数表示移动目标点的坐标：x,y 的坐标位置</li></ul></li><li>缩放 <ul><li>scale(x,y) 参数表示宽高的缩放比例：宽, 高的缩放</li></ul></li><li>旋转 <ul><li>rotate(angle) 参数表示旋转角度：旋转角度，以弧度计</li></ul></li></ul><h4 id="坐标转换示例" tabindex="-1">坐标转换示例 <a class="header-anchor" href="#坐标转换示例" aria-label="Permalink to &quot;坐标转换示例&quot;">​</a></h4><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;!</span><span style="color:#E06C75;">DOCTYPE</span><span style="color:#D19A66;"> html</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">html</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;en&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">meta</span><span style="color:#D19A66;"> charset</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;UTF-8&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;认识canvas的转换&lt;/</span><span style="color:#E06C75;">title</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">			canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">				border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> #ccc</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				display: </span><span style="color:#D19A66;">block</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">				margin: </span><span style="color:#D19A66;">0</span><span style="color:#D19A66;"> auto</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">head</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;600&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> myCanvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">querySelector</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> myCanvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.translate(100, 100);</span><span style="color:#7F848E;font-style:italic;"> // x,y的坐标位置</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.scale(0.5, 1);</span><span style="color:#7F848E;font-style:italic;"> // 缩放：宽, 高</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// ctx.rotate(Math.PI / 6);</span><span style="color:#7F848E;font-style:italic;"> // 旋转：旋转角度，以弧度计</span></span>
<span class="line"><span style="color:#C678DD;">			var</span><span style="color:#E06C75;"> startAngle</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">			ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">translate</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">150</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">			setInterval</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#E06C75;">				startAngle</span><span style="color:#56B6C2;"> +=</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 180</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">rotate</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">startAngle</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 旋转</span></span>
<span class="line"><span style="color:#E5C07B;">				ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">strokeRect</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 矩形填充</span></span>
<span class="line"><span style="color:#ABB2BF;">			}, </span><span style="color:#D19A66;">500</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">		&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">	&lt;/</span><span style="color:#E06C75;">body</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">html</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="✨canvas-动画-🌟" tabindex="-1">✨Canvas 动画 🌟 <a class="header-anchor" href="#✨canvas-动画-🌟" aria-label="Permalink to &quot;✨Canvas 动画 🌟&quot;">​</a></h3><h4 id="_1-运动-三角函数" tabindex="-1">1.运动&amp;三角函数 <a class="header-anchor" href="#_1-运动-三角函数" aria-label="Permalink to &quot;1.运动&amp;三角函数&quot;">​</a></h4><h4 id="_2-边界-摩擦力" tabindex="-1">2.边界&amp;摩擦力 <a class="header-anchor" href="#_2-边界-摩擦力" aria-label="Permalink to &quot;2.边界&amp;摩擦力&quot;">​</a></h4><h4 id="_3-鼠标-绘制对象交互" tabindex="-1">3.鼠标&amp;绘制对象交互 <a class="header-anchor" href="#_3-鼠标-绘制对象交互" aria-label="Permalink to &quot;3.鼠标&amp;绘制对象交互&quot;">​</a></h4><h4 id="_4-缓动-弹动" tabindex="-1">4.缓动&amp;弹动 <a class="header-anchor" href="#_4-缓动-弹动" aria-label="Permalink to &quot;4.缓动&amp;弹动&quot;">​</a></h4><h4 id="_5-碰撞检测" tabindex="-1">5.碰撞检测 <a class="header-anchor" href="#_5-碰撞检测" aria-label="Permalink to &quot;5.碰撞检测&quot;">​</a></h4><h4 id="_6-高级坐标旋转-斜面反弹" tabindex="-1">6.高级坐标旋转&amp;斜面反弹 <a class="header-anchor" href="#_6-高级坐标旋转-斜面反弹" aria-label="Permalink to &quot;6.高级坐标旋转&amp;斜面反弹&quot;">​</a></h4><h4 id="_7-撞球物理" tabindex="-1">7.撞球物理 <a class="header-anchor" href="#_7-撞球物理" aria-label="Permalink to &quot;7.撞球物理&quot;">​</a></h4><h4 id="_8-粒子-万有引力" tabindex="-1">8.粒子&amp;万有引力 <a class="header-anchor" href="#_8-粒子-万有引力" aria-label="Permalink to &quot;8.粒子&amp;万有引力&quot;">​</a></h4><h4 id="_9-从-2d-到-3d" tabindex="-1">9.从 2D 到 3D <a class="header-anchor" href="#_9-从-2d-到-3d" aria-label="Permalink to &quot;9.从 2D 到 3D&quot;">​</a></h4><h4 id="_10-常见的案例-补充" tabindex="-1">10.常见的案例&amp;补充 <a class="header-anchor" href="#_10-常见的案例-补充" aria-label="Permalink to &quot;10.常见的案例&amp;补充&quot;">​</a></h4><h2 id="绘制绚丽的倒计时" tabindex="-1">绘制绚丽的倒计时 <a class="header-anchor" href="#绘制绚丽的倒计时" aria-label="Permalink to &quot;绘制绚丽的倒计时&quot;">​</a></h2><p>绘制绚丽的倒计时代码：<a href="https://codepen.io/ickedesign/pen/peRvwO" target="_blank" rel="noreferrer">Gorgeous Countdown (codepen.io)</a></p><h3 id="creat-canvas-创建画布" tabindex="-1">Creat Canvas - 创建画布 <a class="header-anchor" href="#creat-canvas-创建画布" aria-label="Permalink to &quot;Creat Canvas - 创建画布&quot;">​</a></h3><ul><li><p>canvas 是行内元素，有默认的高宽（300px*150px）</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!--直接在标签头设置--&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">canvas</span><span style="color:#D19A66;"> width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;1024&quot;</span><span style="color:#D19A66;"> height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;500&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 获取元素，创建绘图的2D上下文环境</span></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> canvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getElementById</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> context</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul><hr><h3 id="draw-arc-绘制弧线-画圆" tabindex="-1">Draw Arc - 绘制弧线（画圆） <a class="header-anchor" href="#draw-arc-绘制弧线-画圆" aria-label="Permalink to &quot;Draw Arc - 绘制弧线（画圆）&quot;">​</a></h3><ul><li><p><code>context.arc(300,300,0,1.5*Math.PI,false)</code>  的含义是沿顺时针的方向来绘制一个圆心为（300，300），角度为 1.5π</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">	centerx</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	centery</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	radius</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	startingAngle</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	endingAngle</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	(</span><span style="color:#E06C75;">anticlockwise</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 默认clockwise=false，即在逆时针的方向上以角度为 0,0.5*PI,1*PI,1.5*PI,2*PI这种形式绘图</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul><hr><h3 id="draw-digit-绘制静止的时钟" tabindex="-1">Draw Digit - 绘制静止的时钟 <a class="header-anchor" href="#draw-digit-绘制静止的时钟" aria-label="Permalink to &quot;Draw Digit - 绘制静止的时钟&quot;">​</a></h3><ul><li>先编写一个三维数组，来显示数字和冒号（数字点阵）。这里以 0 和：来举例</li><li>不完全，完全请看代码，digit 变量部分：<a href="https://codepen.io/ickedesign/pen/peRvwO" target="_blank" rel="noreferrer">Gorgeous Countdown (codepen.io)</a></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 数字有7列10行组成，冒号由4列10行组成，数组中有1的地方就是代表有小球</span></span>
<span class="line"><span style="color:#E06C75;">digit</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 10 * 7 的二维数组</span></span>
<span class="line"><span style="color:#ABB2BF;">	[</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">	], </span><span style="color:#7F848E;font-style:italic;">// 0</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 10 * 4 的二维数组</span></span>
<span class="line"><span style="color:#ABB2BF;">	[</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">	], </span><span style="color:#7F848E;font-style:italic;">// :</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>通过循环数组，定义好小球之间的距离，即可画出小球</p><h3 id="renderdigit-方法-绘制圆心计算" tabindex="-1">renderDigit 方法-绘制圆心计算 <a class="header-anchor" href="#renderdigit-方法-绘制圆心计算" aria-label="Permalink to &quot;renderDigit 方法-绘制圆心计算&quot;">​</a></h3><p><img src="`+B+`" alt="renderDigit方法-绘制圆心计算.jpg"></p><h4 id="由圆组成的数字绘制-圆形生成的计算" tabindex="-1">由圆组成的数字绘制，圆形生成的计算 <a class="header-anchor" href="#由圆组成的数字绘制-圆形生成的计算" aria-label="Permalink to &quot;由圆组成的数字绘制，圆形生成的计算&quot;">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 绘制时钟的数字和冒号</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> renderDigit</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">y</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">num</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">cxt</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">	cxt</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fillStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;rgb(0, 102, 153)&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 先绘制出1</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> digit</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">num</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> j</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">j</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> digit</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">num</span><span style="color:#ABB2BF;">][</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">j</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">			if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">digit</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">num</span><span style="color:#ABB2BF;">][</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">][</span><span style="color:#E06C75;">j</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">				cxt</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 弧形的绘制方法：需要计算</span></span>
<span class="line"><span style="color:#E5C07B;">				cxt</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 圆心的绘制计算</span></span>
<span class="line"><span style="color:#E06C75;">					x</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> j</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> *</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#E06C75;">					y</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> *</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#E06C75;">					radius</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">					0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">					2</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span></span>
<span class="line"><span style="color:#ABB2BF;">				);</span></span>
<span class="line"><span style="color:#E5C07B;">				cxt</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// cxt.stroke();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">				cxt</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><hr><h3 id="countdown-effect-设置倒计时效果" tabindex="-1">Countdown Effect - 设置倒计时效果 <a class="header-anchor" href="#countdown-effect-设置倒计时效果" aria-label="Permalink to &quot;Countdown Effect - 设置倒计时效果&quot;">​</a></h3><ul><li>获取倒计时的时间使用设置好的时间减去现在的时间，这个设置好的时间可以使用<code>new Date()</code>生成，比如<code>const endTime=new Date(2017,2,7,20,14,12)</code>。其中月份是从 0 开始的，所以这个时间的含义是 2017-03-07，20：14：12</li><li>也可以使用以下的方法来设置固定的时间，比如倒计时时间固定从 1 小时开始</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> endTime</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Date</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 获取当前时间，并设置倒计时1个小时（因为是毫秒所以计算：3600 * 1000 = 60分钟）</span></span>
<span class="line"><span style="color:#E5C07B;">endTime</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">setTime</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">endTime</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTime</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 3600</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 1000</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用倒计时时间的方法</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 倒计时的时间计算</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> getCurrentShowTimeSeconds</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">	var</span><span style="color:#E06C75;"> currentTime</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Date</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// getTime() 方法可返回距 1970 年 1 月 1 日之间的毫秒数。</span></span>
<span class="line"><span style="color:#C678DD;">	var</span><span style="color:#E06C75;"> ret</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> endTime</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTime</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">-</span><span style="color:#E5C07B;"> currentTime</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTime</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 将毫秒化成秒,ret要加上</span></span>
<span class="line"><span style="color:#E06C75;">	ret</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">round</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">ret</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 1000</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#E06C75;"> ret</span><span style="color:#56B6C2;"> &gt;=</span><span style="color:#D19A66;"> 0</span><span style="color:#C678DD;"> ?</span><span style="color:#E06C75;"> ret</span><span style="color:#C678DD;"> :</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><hr><h3 id="moving-clock-让倒计时动起来" tabindex="-1">Moving Clock - 让倒计时动起来 <a class="header-anchor" href="#moving-clock-让倒计时动起来" aria-label="Permalink to &quot;Moving Clock - 让倒计时动起来&quot;">​</a></h3><ul><li>在页面加载的时候，使用<code>setInterval()</code>方法更新，从而数字可以变化而更新生成新的小球的位置</li><li>为什么定时器是 50 毫秒，这就设计到帧数的概念</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 添加时钟的动画效果</span></span>
<span class="line"><span style="color:#61AFEF;">setInterval</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#C678DD;">	function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#61AFEF;">		render</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">context</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 初始化时间</span></span>
<span class="line"><span style="color:#61AFEF;">		update</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">// 对时间进行更新</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#D19A66;">	50</span><span style="color:#7F848E;font-style:italic;"> // 一秒有1000毫秒，即20分之1，</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 所以帧率为20，即动画1秒钟更新20次。但事实上，因为里面的函数执行效率不同，所以帧数不一定为20</span></span>
<span class="line"><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><code>context.clearRect(x,y,canvasWidth,canvasHeight);</code>其中 x,y 指的是清除矩形画布的左上角位置</li><li>canvasWidth,canvasHeight 指的是清除矩形画布的宽度和长度。使用该函数可以让 canvas 中后来生成的图形不会和原来的图形叠加在一起</li><li><code>context.fillRect()</code>，其作用是填充矩形。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">context</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 从右上角开始，范围是整个画布</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 使用context.canvas.width来获取canvas的宽度是context的属性之一</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr><h3 id="小球的物理抛物线运动" tabindex="-1">小球的物理抛物线运动 <a class="header-anchor" href="#小球的物理抛物线运动" aria-label="Permalink to &quot;小球的物理抛物线运动&quot;">​</a></h3><p>根据物理公式：幂运算</p><p>最后组成的 balls 数组数据，后面的操作和生成彩色小球的方法都需要用到</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 倒计时变化生成的彩色小球集合，并push到balls[]中</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> addBalls</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">y</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">num</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> digit</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">num</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> j</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">j</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> digit</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">num</span><span style="color:#ABB2BF;">][</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">j</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">			if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">digit</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">num</span><span style="color:#ABB2BF;">][</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">][</span><span style="color:#E06C75;">j</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 定义aBall</span></span>
<span class="line"><span style="color:#C678DD;">				var</span><span style="color:#E06C75;"> aBall</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 这个圆心的计算和数字时间生成的圆心一样</span></span>
<span class="line"><span style="color:#E06C75;">					x</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> j</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> *</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#E06C75;">					y</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#56B6C2;"> *</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">radius</span><span style="color:#56B6C2;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">					// 幂运算</span></span>
<span class="line"><span style="color:#E06C75;">					vx</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pow</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 1000</span><span style="color:#ABB2BF;">)) </span><span style="color:#56B6C2;">*</span><span style="color:#D19A66;"> 5</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">					vy</span><span style="color:#ABB2BF;">: </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 下落的速度</span></span>
<span class="line"><span style="color:#E06C75;">					g</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1.5</span><span style="color:#56B6C2;"> +</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#E06C75;">					color</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">colors</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">random</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">*</span><span style="color:#E5C07B;"> colors</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">)],</span></span>
<span class="line"><span style="color:#ABB2BF;">				};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">				// 将小球push进集合中，后面的操作和生成彩色小球的方法都需要用到</span></span>
<span class="line"><span style="color:#E5C07B;">				balls</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">aBall</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">			}</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><hr><h3 id="ball-motion-彩色小球的运动物理现象" tabindex="-1">Ball Motion - 彩色小球的运动物理现象 <a class="header-anchor" href="#ball-motion-彩色小球的运动物理现象" aria-label="Permalink to &quot;Ball Motion - 彩色小球的运动物理现象&quot;">​</a></h3><h4 id="下一次倒计时变化-对生成的彩色小球进行运动更新" tabindex="-1">下一次倒计时变化，对生成的彩色小球进行运动更新 <a class="header-anchor" href="#下一次倒计时变化-对生成的彩色小球进行运动更新" aria-label="Permalink to &quot;下一次倒计时变化，对生成的彩色小球进行运动更新&quot;">​</a></h4><ul><li>小球的物理抛物线运动和物理碰撞原理</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 对生成的彩色小球进行运动更新</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> updateBalls</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E5C07B;"> balls</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E06C75;">		balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> +=</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">vx</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">		balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> +=</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">vy</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">		balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">vy</span><span style="color:#56B6C2;"> +=</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">g</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 当小球碰地后会反弹</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#E06C75;"> radius</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E06C75;">			balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> canvasHeight</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> radius</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 添加阻力系数：物理碰撞现象（每次碰撞的反弹是上一次的倍数系数）</span></span>
<span class="line"><span style="color:#E06C75;">			balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">vy</span><span style="color:#56B6C2;"> =</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;">balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">vy</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 0.75</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 及时清空跳出画布的小球，优化页面的内存</span></span>
<span class="line"><span style="color:#C678DD;">	var</span><span style="color:#E06C75;"> cnt</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E5C07B;"> balls</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> radius</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#D19A66;"> 0</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> radius</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> canvasWidth</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			// 小球数组中的第0个到cnt-1个是在canvas画布中</span></span>
<span class="line"><span style="color:#E06C75;">			balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">cnt</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// Math.min();两个数取最小值</span></span>
<span class="line"><span style="color:#C678DD;">	while</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">balls</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">min</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">250</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">cnt</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#E5C07B;">		balls</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pop</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">// 删除第cnt个到balls.length-1个数组</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 删除前面的数组使用balls.shift();</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// while(balls.length&gt;cnt){</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	//   balls.pop();</span><span style="color:#7F848E;font-style:italic;"> // 删除第cnt个到balls.length-1个数组</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ul><li>小球的运动的物理碰撞原理：初中物理课上的抛物线一样，有初始速度，重力加速度，摩擦系数。</li><li>小球的运动也需要借助<code>setInterval()</code>方法来更新，类似时钟的动画效果</li><li>小球触底后反弹使用<code>if</code>语句来判断</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 当小球触底后会反弹</span></span>
<span class="line"><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">canvasHeight</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> ball</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> &lt;=</span><span style="color:#E5C07B;"> ball</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">r</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">	ball</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> canvasHeight</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> ball</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">r</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">	ball</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">vy</span><span style="color:#56B6C2;"> =</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;">ball</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">vy</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 0.5</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 添加阻力系数</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="performance-optimization-及时清空-canvas-画布外面的小球" tabindex="-1">Performance Optimization - 及时清空 Canvas 画布外面的小球 <a class="header-anchor" href="#performance-optimization-及时清空-canvas-画布外面的小球" aria-label="Permalink to &quot;Performance Optimization - 及时清空 Canvas 画布外面的小球&quot;">​</a></h4><ul><li>核心是<code>balls[cnt++]=balls[i]</code>这个表达式</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 及时清空跳出画布的小球，优化页面的内存</span></span>
<span class="line"><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> cnt</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">var</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E5C07B;"> balls</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> radius</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#D19A66;"> 0</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> radius</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> canvasWidth</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 小球数组中的第0个到cnt-1个是在canvas画布中</span></span>
<span class="line"><span style="color:#E06C75;">		balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">cnt</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> balls</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">i</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// Math.min();两个数取最小值</span></span>
<span class="line"><span style="color:#C678DD;">while</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">balls</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">min</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">250</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">cnt</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#E5C07B;">	balls</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pop</span><span style="color:#ABB2BF;">(); </span><span style="color:#7F848E;font-style:italic;">// 删除第cnt个到balls.length-1个数组</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 删除前面的数组使用balls.shift();</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><hr><h3 id="clock-effect-将倒计时的效果换成正常时钟效果" tabindex="-1">Clock Effect - 将倒计时的效果换成正常时钟效果 <a class="header-anchor" href="#clock-effect-将倒计时的效果换成正常时钟效果" aria-label="Permalink to &quot;Clock Effect - 将倒计时的效果换成正常时钟效果&quot;">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 当前的时间计算</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> getCurrentShowTimeSeconds</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">	var</span><span style="color:#E06C75;"> currentTime</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Date</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// getTime() 方法可返回距 1970 年 1 月 1 日之间的毫秒数。</span></span>
<span class="line"><span style="color:#C678DD;">	var</span><span style="color:#E06C75;"> ret</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> endTime</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTime</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">-</span><span style="color:#E5C07B;"> currentTime</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getTime</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 将毫秒化成秒,ret要加上</span></span>
<span class="line"><span style="color:#E06C75;">	ret</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">round</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">ret</span><span style="color:#56B6C2;"> /</span><span style="color:#D19A66;"> 1000</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#E06C75;"> ret</span><span style="color:#56B6C2;"> &gt;=</span><span style="color:#D19A66;"> 0</span><span style="color:#C678DD;"> ?</span><span style="color:#E06C75;"> ret</span><span style="color:#C678DD;"> :</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-label="Permalink to &quot;案例&quot;">​</a></h2><h3 id="_1-canvas实现时钟转动" tabindex="-1">1. canvas实现时钟转动 <a class="header-anchor" href="#_1-canvas实现时钟转动" aria-label="Permalink to &quot;1. canvas实现时钟转动&quot;">​</a></h3><p>实现以下效果，分为几步：</p><ul><li>1、找到canvas的<code>中心</code>，画出<code>表心</code>，以及<code>表框</code></li><li>2、获取<code>当前时间</code>，并根据时间画出<code>时针，分针，秒针</code>，还有<code>刻度</code></li><li>3、使用定时器，每过一秒<code>获取新的时间</code>，并重新绘图，达到时钟<code>转动的效果</code></li></ul><p><img src="`+y+`" alt="图片"></p><h4 id="_1-1-表心-表框" tabindex="-1">1.1 表心，表框 <a class="header-anchor" href="#_1-1-表心-表框" aria-label="Permalink to &quot;1.1 表心，表框&quot;">​</a></h4><p>画表心，表框有两个知识点：</p><ul><li>1、找到canvas的<code>中心位置</code></li><li>2、绘制<code>圆形</code></li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>//html</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;canvas id=&quot;canvas&quot; width=&quot;600&quot; height=&quot;600&quot;&gt;&lt;/canvas&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// js</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 设置中心点，此时300，300变成了坐标的0，0</span></span>
<span class="line"><span>ctx.translate(300, 300)</span></span>
<span class="line"><span>// 画圆线使用arc(中心点X,中心点Y,半径,起始角度,结束角度)</span></span>
<span class="line"><span>ctx.arc(0, 0, 100, 0, 2 * Math.PI)</span></span>
<span class="line"><span>ctx.arc(0, 0, 5, 0, 2 * Math.PI)</span></span>
<span class="line"><span>// 执行画线段的操作stroke</span></span>
<span class="line"><span>ctx.stroke()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>让我们来看看效果，发现了，好像不对啊，我们是想画<code>两个独立的圆线</code>，怎么画出来的两个圆<code>连到一起了</code>：</p><p><img src="`+i+`" alt="图片">原因是：上面代码画连个圆时，是连着画的，所以画完大圆后，线还没斩断，就接着画小圆，那肯定会大圆小圆连一起，解决办法就是：<code>beginPath，closePath</code></p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>ctx.translate(300, 300) // 设置中心点，此时300，300变成了坐标的0，0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 画大圆</span></span>
<span class="line"><span>+ ctx.beginPath()</span></span>
<span class="line"><span>// 画圆线使用arc(中心点X,中心点Y,半径,起始角度,结束角度)</span></span>
<span class="line"><span>  ctx.arc(0, 0, 100, 0, 2 * Math.PI)</span></span>
<span class="line"><span>  ctx.stroke() // 执行画线段的操作</span></span>
<span class="line"><span>+ ctx.closePath()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 画小圆</span></span>
<span class="line"><span>+ ctx.beginPath()</span></span>
<span class="line"><span>  ctx.arc(0, 0, 5, 0, 2 * Math.PI)</span></span>
<span class="line"><span>  ctx.stroke()</span></span>
<span class="line"><span>+ ctx.closePath()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_1-2-时针-分针-秒针" tabindex="-1">1.2 时针，分针，秒针 <a class="header-anchor" href="#_1-2-时针-分针-秒针" aria-label="Permalink to &quot;1.2 时针，分针，秒针&quot;">​</a></h4><p>画这三个指针，有两个知识点：</p><ul><li>1、根据当前<code>时，分，秒</code>去<code>计算角度</code></li><li>2、在计算好的角度上去画出<code>时针，分针，秒针</code> 如何根据算好的角度去画线呢，比如算出当前是<code>3点</code>，那么时针就应该以<code>12点</code>为起始点，<code>顺时针</code>旋转<code>2 * Math.PI / 12 * 3 = 90°</code>，分针和秒针也是同样的道理，只不过跟时针不同的是<code>比例问题</code>而已，因为<code>时在表上有12份</code>，而<code>分针和秒针都是60份</code></li></ul><p><img src="`+A+'" alt="图片">截屏2021-07-19 下午10.07.19.png</p><p>这时候又有一个新问题，还是以上面的例子为例，我算出了<code>90°</code>，那我们怎么画出时针呢？我们可以使用<code>moveTo和lineTo</code>去画线段。至于90°，我们只需要将<code>x轴</code>顺时针旋转<code>90°</code>，然后再画出这条线段，那就得到了指定角度的指针了。但是上面说了，是要以<code>12点为起始点</code>，我们的<code>默认x轴确是水平</code>的，所以我们时分秒针算出角度后，每次都要<code>减去90°</code>。可能这有点绕，我们通过下面的图演示一下，还是以上面<code>3点</code>的例子：</p><p><img src="'+b+'" alt="图片">截屏2021-07-19 下午10.30.23.png</p><p><img src="'+F+'" alt="图片">这样就得出了3点指针的画线角度了。</p><p>又又又有新问题了，比如现在我画完了时针，然后我想画分针，x轴已经在我画时针的时候偏转了，这时候肯定要让x轴恢复到原来的模样，我们才能继续画分针，否则画出来的分针是不准的。这时候<code>save和restore</code>就派上用场了，<code>save是把ctx当前的状态打包压入栈中，restore是取出栈顶的状态并赋值给ctx</code>，<code>save可多次，但是restore取状态的次数必须等于save次数</code></p><p><img src="'+C+`" alt="图片">截屏2021-07-19 下午10.42.06.png</p><p>懂得了上面所说，剩下画<code>刻度</code>了，起始刻度的道理跟时分秒针道理一样，只不过刻度是死的，不需要计算，只需要规则画出<code>60个小刻度</code>，和<code>12个大刻度</code>就行</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>const canvas = document.getElementById(&#39;canvas&#39;)</span></span>
<span class="line"><span>const ctx = canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ctx.translate(300, 300) // 设置中心点，此时300，300变成了坐标的0，0</span></span>
<span class="line"><span>// 把状态保存起来</span></span>
<span class="line"><span>+ ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 画大圆</span></span>
<span class="line"><span>ctx.beginPath()</span></span>
<span class="line"><span>// 画圆线使用arc(中心点X,中心点Y,半径,起始角度,结束角度)</span></span>
<span class="line"><span>ctx.arc(0, 0, 100, 0, 2 * Math.PI)</span></span>
<span class="line"><span>ctx.stroke() // 执行画线段的操作</span></span>
<span class="line"><span>ctx.closePath()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 画小圆</span></span>
<span class="line"><span>ctx.beginPath()</span></span>
<span class="line"><span>ctx.arc(0, 0, 5, 0, 2 * Math.PI)</span></span>
<span class="line"><span>ctx.stroke()</span></span>
<span class="line"><span>ctx.closePath()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>----- 新加代码  ------</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 获取当前 时，分，秒</span></span>
<span class="line"><span>let time = new Date()</span></span>
<span class="line"><span>let hour = time.getHours() % 12</span></span>
<span class="line"><span>let min = time.getMinutes()</span></span>
<span class="line"><span>let sec = time.getSeconds()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 时针</span></span>
<span class="line"><span>ctx.rotate(2 * Math.PI / 12 * hour + 2 * Math.PI / 12 * (min / 60) - Math.PI / 2)</span></span>
<span class="line"><span>ctx.beginPath()</span></span>
<span class="line"><span>// moveTo设置画线起点</span></span>
<span class="line"><span>ctx.moveTo(-10, 0)</span></span>
<span class="line"><span>// lineTo设置画线经过点</span></span>
<span class="line"><span>ctx.lineTo(40, 0)</span></span>
<span class="line"><span>// 设置线宽</span></span>
<span class="line"><span>ctx.lineWidth = 10</span></span>
<span class="line"><span>ctx.stroke()</span></span>
<span class="line"><span>ctx.closePath()</span></span>
<span class="line"><span>// 恢复成上一次save的状态</span></span>
<span class="line"><span>ctx.restore()</span></span>
<span class="line"><span>// 恢复完再保存一次</span></span>
<span class="line"><span>ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 分针</span></span>
<span class="line"><span>ctx.rotate(2 * Math.PI / 60 * min + 2 * Math.PI / 60 * (sec / 60) - Math.PI / 2)</span></span>
<span class="line"><span>ctx.beginPath()</span></span>
<span class="line"><span>ctx.moveTo(-10, 0)</span></span>
<span class="line"><span>ctx.lineTo(60, 0)</span></span>
<span class="line"><span>ctx.lineWidth = 5</span></span>
<span class="line"><span>ctx.strokeStyle = &#39;blue&#39;</span></span>
<span class="line"><span>ctx.stroke()</span></span>
<span class="line"><span>ctx.closePath()</span></span>
<span class="line"><span>ctx.restore()</span></span>
<span class="line"><span>ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//秒针</span></span>
<span class="line"><span>ctx.rotate(2 * Math.PI / 60 * sec -  - Math.PI / 2)</span></span>
<span class="line"><span>ctx.beginPath()</span></span>
<span class="line"><span>ctx.moveTo(-10, 0)</span></span>
<span class="line"><span>ctx.lineTo(80, 0)</span></span>
<span class="line"><span>ctx.strokeStyle = &#39;red&#39;</span></span>
<span class="line"><span>ctx.stroke()</span></span>
<span class="line"><span>ctx.closePath()</span></span>
<span class="line"><span>ctx.restore()</span></span>
<span class="line"><span>ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 绘制刻度，也是跟绘制时分秒针一样，只不过刻度是死的</span></span>
<span class="line"><span>ctx.lineWidth = 1</span></span>
<span class="line"><span>for (let i = 0; i &lt; 60; i++) {</span></span>
<span class="line"><span>    ctx.rotate(2 * Math.PI / 60)</span></span>
<span class="line"><span>    ctx.beginPath()</span></span>
<span class="line"><span>    ctx.moveTo(90, 0)</span></span>
<span class="line"><span>    ctx.lineTo(100, 0)</span></span>
<span class="line"><span>    // ctx.strokeStyle = &#39;red&#39;</span></span>
<span class="line"><span>    ctx.stroke()</span></span>
<span class="line"><span>    ctx.closePath()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>ctx.restore()</span></span>
<span class="line"><span>ctx.save()</span></span>
<span class="line"><span>ctx.lineWidth = 5</span></span>
<span class="line"><span>for (let i = 0; i &lt; 12; i++) {</span></span>
<span class="line"><span>    ctx.rotate(2 * Math.PI / 12)</span></span>
<span class="line"><span>    ctx.beginPath()</span></span>
<span class="line"><span>    ctx.moveTo(85, 0)</span></span>
<span class="line"><span>    ctx.lineTo(100, 0)</span></span>
<span class="line"><span>    ctx.stroke()</span></span>
<span class="line"><span>    ctx.closePath()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ctx.restore()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br></div></div><p><img src="`+u+'" alt="图片">截屏2021-07-19 下午10.53.53.png</p><p>最后一步就是更新视图，使时钟转动起来，第一想到的肯定是定时器<code>setInterval</code>，但是注意一个问题：每次更新视图的时候都要把上一次的画布清除，再开始画新的视图，不然就会出现<code>千手观音</code>的景象</p><p><img src="'+m+`" alt="图片">截屏2021-07-19 下午10.57.05.png</p><p>附上最终代码：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>const canvas = document.getElementById(&#39;canvas&#39;)</span></span>
<span class="line"><span>const ctx = canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>setInterval(() =&gt; {</span></span>
<span class="line"><span>    ctx.save()</span></span>
<span class="line"><span>    ctx.clearRect(0, 0, 600, 600)</span></span>
<span class="line"><span>    ctx.translate(300, 300) // 设置中心点，此时300，300变成了坐标的0，0</span></span>
<span class="line"><span>    ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 画大圆</span></span>
<span class="line"><span>    ctx.beginPath()</span></span>
<span class="line"><span>    // 画圆线使用arc(中心点X,中心点Y,半径,起始角度,结束角度)</span></span>
<span class="line"><span>    ctx.arc(0, 0, 100, 0, 2 * Math.PI)</span></span>
<span class="line"><span>    ctx.stroke() // 执行画线段的操作</span></span>
<span class="line"><span>    ctx.closePath()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 画小圆</span></span>
<span class="line"><span>    ctx.beginPath()</span></span>
<span class="line"><span>    ctx.arc(0, 0, 5, 0, 2 * Math.PI)</span></span>
<span class="line"><span>    ctx.stroke()</span></span>
<span class="line"><span>    ctx.closePath()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 获取当前 时，分，秒</span></span>
<span class="line"><span>    let time = new Date()</span></span>
<span class="line"><span>    let hour = time.getHours() % 12</span></span>
<span class="line"><span>    let min = time.getMinutes()</span></span>
<span class="line"><span>    let sec = time.getSeconds()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 时针</span></span>
<span class="line"><span>    ctx.rotate(2 * Math.PI / 12 * hour + 2 * Math.PI / 12 * (min / 60) - Math.PI / 2)</span></span>
<span class="line"><span>    ctx.beginPath()</span></span>
<span class="line"><span>    // moveTo设置画线起点</span></span>
<span class="line"><span>    ctx.moveTo(-10, 0)</span></span>
<span class="line"><span>    // lineTo设置画线经过点</span></span>
<span class="line"><span>    ctx.lineTo(40, 0)</span></span>
<span class="line"><span>    // 设置线宽</span></span>
<span class="line"><span>    ctx.lineWidth = 10</span></span>
<span class="line"><span>    ctx.stroke()</span></span>
<span class="line"><span>    ctx.closePath()</span></span>
<span class="line"><span>    ctx.restore()</span></span>
<span class="line"><span>    ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 分针</span></span>
<span class="line"><span>    ctx.rotate(2 * Math.PI / 60 * min + 2 * Math.PI / 60 * (sec / 60) - Math.PI / 2)</span></span>
<span class="line"><span>    ctx.beginPath()</span></span>
<span class="line"><span>    ctx.moveTo(-10, 0)</span></span>
<span class="line"><span>    ctx.lineTo(60, 0)</span></span>
<span class="line"><span>    ctx.lineWidth = 5</span></span>
<span class="line"><span>    ctx.strokeStyle = &#39;blue&#39;</span></span>
<span class="line"><span>    ctx.stroke()</span></span>
<span class="line"><span>    ctx.closePath()</span></span>
<span class="line"><span>    ctx.restore()</span></span>
<span class="line"><span>    ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //秒针</span></span>
<span class="line"><span>    ctx.rotate(2 * Math.PI / 60 * sec - Math.PI / 2)</span></span>
<span class="line"><span>    ctx.beginPath()</span></span>
<span class="line"><span>    ctx.moveTo(-10, 0)</span></span>
<span class="line"><span>    ctx.lineTo(80, 0)</span></span>
<span class="line"><span>    ctx.strokeStyle = &#39;red&#39;</span></span>
<span class="line"><span>    ctx.stroke()</span></span>
<span class="line"><span>    ctx.closePath()</span></span>
<span class="line"><span>    ctx.restore()</span></span>
<span class="line"><span>    ctx.save()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 绘制刻度，也是跟绘制时分秒针一样，只不过刻度是死的</span></span>
<span class="line"><span>    ctx.lineWidth = 1</span></span>
<span class="line"><span>    for (let i = 0; i &lt; 60; i++) {</span></span>
<span class="line"><span>        ctx.rotate(2 * Math.PI / 60)</span></span>
<span class="line"><span>        ctx.beginPath()</span></span>
<span class="line"><span>        ctx.moveTo(90, 0)</span></span>
<span class="line"><span>        ctx.lineTo(100, 0)</span></span>
<span class="line"><span>        // ctx.strokeStyle = &#39;red&#39;</span></span>
<span class="line"><span>        ctx.stroke()</span></span>
<span class="line"><span>        ctx.closePath()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    ctx.restore()</span></span>
<span class="line"><span>    ctx.save()</span></span>
<span class="line"><span>    ctx.lineWidth = 5</span></span>
<span class="line"><span>    for (let i = 0; i &lt; 12; i++) {</span></span>
<span class="line"><span>        ctx.rotate(2 * Math.PI / 12)</span></span>
<span class="line"><span>        ctx.beginPath()</span></span>
<span class="line"><span>        ctx.moveTo(85, 0)</span></span>
<span class="line"><span>        ctx.lineTo(100, 0)</span></span>
<span class="line"><span>        // ctx.strokeStyle = &#39;red&#39;</span></span>
<span class="line"><span>        ctx.stroke()</span></span>
<span class="line"><span>        ctx.closePath()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ctx.restore()</span></span>
<span class="line"><span>    ctx.restore()</span></span>
<span class="line"><span>}, 1000)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br></div></div><p>效果 <code>very good</code>啊：</p><p><img src="`+E+'" alt="图片">clock的副本.gif</p><h3 id="_2-canvas实现刮刮卡" tabindex="-1">2. canvas实现刮刮卡 <a class="header-anchor" href="#_2-canvas实现刮刮卡" aria-label="Permalink to &quot;2. canvas实现刮刮卡&quot;">​</a></h3><p>小时候很多人都买过充值卡把，懂的都懂啊哈，用指甲刮开这层灰皮，就能看底下的答案了。<img src="'+d+`" alt="图片"></p><p>思路是这样的：</p><ul><li>1、底下答案是一个<code>div</code>，顶部灰皮是一个<code>canvas</code>，<code>canvas</code>一开始盖住<code>div</code></li><li>2、鼠标事件，点击时并移动时，鼠标经过的路径都<code>画圆形</code>开路，并且设置<code>globalCompositeOperation</code>为<code>destination-out</code>，使鼠标经过的路径都<code>变成透明</code>，一透明，自然就显示出下方的答案信息。</li></ul><p>关于<code>fill</code>这个方法，其实是对标<code>stroke</code>的，<code>fill</code>是把图形填充，<code>stroke</code>只是画出边框线</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>// html</span></span>
<span class="line"><span>&lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;100&quot;&gt;&lt;/canvas&gt;</span></span>
<span class="line"><span>&lt;div class=&quot;text&quot;&gt;恭喜您获得100w&lt;/div&gt;</span></span>
<span class="line"><span>&lt;style&gt;</span></span>
<span class="line"><span>        * {</span></span>
<span class="line"><span>            margin: 0;</span></span>
<span class="line"><span>            padding: 0;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        .text {</span></span>
<span class="line"><span>            position: absolute;</span></span>
<span class="line"><span>            left: 130px;</span></span>
<span class="line"><span>            top: 35px;</span></span>
<span class="line"><span>            z-index: -1;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>&lt;/style&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// js</span></span>
<span class="line"><span>const canvas = document.getElementById(&#39;canvas&#39;)</span></span>
<span class="line"><span>const ctx = canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 填充的颜色</span></span>
<span class="line"><span>ctx.fillStyle = &#39;darkgray&#39;</span></span>
<span class="line"><span>// 填充矩形 fillRect(起始X,起始Y,终点X,终点Y)</span></span>
<span class="line"><span>ctx.fillRect(0, 0, 400, 100)</span></span>
<span class="line"><span>ctx.fillStyle = &#39;#fff&#39;</span></span>
<span class="line"><span>// 绘制填充文字</span></span>
<span class="line"><span>ctx.fillText(&#39;刮刮卡&#39;, 180, 50)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let isDraw = false</span></span>
<span class="line"><span>canvas.onmousedown = function () {</span></span>
<span class="line"><span>    isDraw = true</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>canvas.onmousemove = function (e) {</span></span>
<span class="line"><span>    if (!isDraw) return</span></span>
<span class="line"><span>    // 计算鼠标在canvas里的位置</span></span>
<span class="line"><span>    const x = e.pageX - canvas.offsetLeft</span></span>
<span class="line"><span>    const y = e.pageY - canvas.offsetTop</span></span>
<span class="line"><span>    // 设置globalCompositeOperation</span></span>
<span class="line"><span>    ctx.globalCompositeOperation = &#39;destination-out&#39;</span></span>
<span class="line"><span>    // 画圆</span></span>
<span class="line"><span>    ctx.arc(x, y, 10, 0, 2 * Math.PI)</span></span>
<span class="line"><span>    // 填充圆形</span></span>
<span class="line"><span>    ctx.fill()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>canvas.onmouseup = function () {</span></span>
<span class="line"><span>    isDraw = false</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p>效果如下：</p><p><img src="`+h+'" alt="图片">guaguaka.gif</p><h3 id="_3-canvas实现画板和保存" tabindex="-1">3. canvas实现画板和保存 <a class="header-anchor" href="#_3-canvas实现画板和保存" aria-label="Permalink to &quot;3. canvas实现画板和保存&quot;">​</a></h3><p>框架：使用<code>vue + elementUI</code></p><p>其实很简单，难点有以下几点：</p><ul><li>1、鼠标拖拽画正方形和圆形</li><li>2、画完一个保存画布，下次再画的时候叠加</li><li>3、保存图片</li></ul><p>第一点，只需要计算出鼠标点击的点坐标，以及鼠标的当前坐标，就可以计算了，矩形长宽计算：<code>x - beginX, y - beginY</code>，圆形则要利用勾股定理：<code>Math.sqrt((x - beginX) * (x - beginX) + (y - beginY) * (y - beginY))</code></p><p>第二点，则要利用canvas的<code>getImageData</code>和<code>putImageData</code>方法</p><p>第三点，思路是将<code>canvas</code>生成图片链接，并赋值给具有下载功能的<code>a标签</code>，并主动点击<code>a标签</code>进行<code>图片下载</code></p><p>看看效果吧：</p><p><img src="'+g+'" alt="图片">截屏2021-07-19 下午11.16.24.png</p><p><img src="'+D+`" alt="图片">截屏2021-07-19 下午11.17.41.png</p><p>具体代码我就不过多讲解了，说难也不难，只要前面两个项目理解了，这个项目很容易就懂了：</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">div</span><span style="color:#D19A66;"> style</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;margin-bottom: 10px; display: flex; align-items: center&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">el-button</span><span style="color:#D19A66;"> @click</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;changeType(&#39;huabi&#39;)&quot;</span><span style="color:#D19A66;"> type</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;primary&quot;</span><span style="color:#ABB2BF;">&gt;画笔&lt;/</span><span style="color:#E06C75;">el-button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">el-button</span><span style="color:#D19A66;"> @click</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;changeType(&#39;rect&#39;)&quot;</span><span style="color:#D19A66;"> type</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;success&quot;</span><span style="color:#ABB2BF;">&gt;正方形&lt;/</span><span style="color:#E06C75;">el-button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">el-button</span></span>
<span class="line"><span style="color:#D19A66;">        @click</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;changeType(&#39;arc&#39;)&quot;</span></span>
<span class="line"><span style="color:#D19A66;">        type</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;warning&quot;</span></span>
<span class="line"><span style="color:#D19A66;">        style</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;margin-right: 10px&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">        &gt;圆形&lt;/</span><span style="color:#E06C75;">el-button</span></span>
<span class="line"><span style="color:#ABB2BF;">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;颜色：&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">el-color-picker</span><span style="color:#D19A66;"> v-model</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;color&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">el-color-picker</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">el-button</span><span style="color:#D19A66;"> @click</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;clear&quot;</span><span style="color:#ABB2BF;">&gt;清空&lt;/</span><span style="color:#E06C75;">el-button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">el-button</span><span style="color:#D19A66;"> @click</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;saveImg&quot;</span><span style="color:#ABB2BF;">&gt;保存&lt;/</span><span style="color:#E06C75;">el-button</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">canvas</span></span>
<span class="line"><span style="color:#D19A66;">      id</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;canvas&quot;</span></span>
<span class="line"><span style="color:#D19A66;">      width</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;800&quot;</span></span>
<span class="line"><span style="color:#D19A66;">      height</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;400&quot;</span></span>
<span class="line"><span style="color:#D19A66;">      @mousedown</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;canvasDown&quot;</span></span>
<span class="line"><span style="color:#D19A66;">      @mousemove</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;canvasMove&quot;</span></span>
<span class="line"><span style="color:#D19A66;">      @mouseout</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;canvasUp&quot;</span></span>
<span class="line"><span style="color:#D19A66;">      @mouseup</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;canvasUp&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">canvas</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#61AFEF;">  data</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">      type</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;huabi&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      isDraw</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      canvasDom</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">null</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      ctx</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">null</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      beginX</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      beginY</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      color</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;#000&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">      imageData</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">null</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    };</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#61AFEF;">  mounted</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;">    this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasDom</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getElementById</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;canvas&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">    this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvasDom</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getContext</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;2d&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#E06C75;">  methods</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#61AFEF;">    changeType</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">type</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">type</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> type</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    canvasDown</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">e</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">isDraw</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> canvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasDom</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">beginX</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">pageX</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">offsetLeft</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">beginY</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">pageY</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">offsetTop</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    canvasMove</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">e</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">      if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">isDraw</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> canvas</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">canvasDom</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> ctx</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">ctx</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> x</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">pageX</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">offsetLeft</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> y</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> e</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">pageY</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> canvas</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">offsetTop</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">[</span><span style="color:#98C379;">\`</span><span style="color:#C678DD;">\${</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">type</span><span style="color:#C678DD;">}</span><span style="color:#98C379;">Fn\`</span><span style="color:#ABB2BF;">](</span><span style="color:#E06C75;">ctx</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    canvasUp</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageData</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getImageData</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">800</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">isDraw</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    huabiFn</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">ctx</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">y</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">fillStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    rectFn</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">ctx</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">y</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> beginX</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">beginX</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> beginY</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">beginY</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">800</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageData</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">putImageData</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageData</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">800</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">rect</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">beginX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">beginY</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> beginX</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> beginY</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    arcFn</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">ctx</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">y</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> beginX</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">beginX</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> beginY</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">beginY</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">isDraw</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">800</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageData</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">putImageData</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageData</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">800</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">beginPath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">strokeStyle</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">arc</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E06C75;">        beginX</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">        beginY</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E5C07B;">        Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">round</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#E5C07B;">          Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">sqrt</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> beginX</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> beginX</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> beginY</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">*</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">y</span><span style="color:#56B6C2;"> -</span><span style="color:#E06C75;"> beginY</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#ABB2BF;">        ),</span></span>
<span class="line"><span style="color:#D19A66;">        0</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;">        2</span><span style="color:#56B6C2;"> *</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span></span>
<span class="line"><span style="color:#ABB2BF;">      );</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stroke</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">      ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">closePath</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    saveImg</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> url</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">canvasDom</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toDataURL</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">      const</span><span style="color:#E5C07B;"> a</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> document</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createElement</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      a</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">download</span><span style="color:#56B6C2;"> =</span><span style="color:#98C379;"> &quot;sunshine&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      a</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">href</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> url</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">      document</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">body</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">appendChild</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">      a</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">click</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">      document</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">body</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">removeChild</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#61AFEF;">    clear</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;">        this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">imageData</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> null</span></span>
<span class="line"><span style="color:#E5C07B;">        this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ctx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">clearRect</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">800</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">400</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">style</span><span style="color:#D19A66;"> lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;scss&quot;</span><span style="color:#D19A66;"> scoped</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#61AFEF;">#canvas</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  border: </span><span style="color:#D19A66;">1</span><span style="color:#E06C75;">px</span><span style="color:#D19A66;"> solid</span><span style="color:#D19A66;"> black</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br></div></div><h2 id="canvas-在-web-游戏开发的应用" tabindex="-1">canvas 在 web 游戏开发的应用 <a class="header-anchor" href="#canvas-在-web-游戏开发的应用" aria-label="Permalink to &quot;canvas 在 web 游戏开发的应用&quot;">​</a></h2><p>MDN 的 HTML5 游戏开发教程：<a href="https://developer.mozilla.org/zh-CN/docs/Games/Introduction_to_HTML5_Game_Development" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Games/Introduction_to_HTML5_Game_Development</a></p><p>Canvas 游戏开发教程：</p><ul><li><p>1.白鹭游戏引擎：egret 引擎</p><p>Egret 引擎是一个开源免费的游戏框架，用于构建二维游戏、演示程序和其他图形界面交互应用等。Egret 使用<strong>TypeScript</strong>脚本语言开发。当游戏完成最终的打包后，可以将程序转换为 HTML5 游戏。实现跨平台特性。</p><p>Egret 不仅仅是一个基于 HTML5 技术的游戏引擎，我们的产品线中除了 Egret 引擎还提供了很多辅助游戏开发的工具。<strong>准确的来说，Egret 是一套游戏开发的解决方案</strong>。你可以使用 Egret 引擎来帮助你开发 HTML5 游戏，并运行在手机和 PC 端的浏览器中，同时也你可以使用 Egret 提供的相关工具搭建你自己的游戏开发工作流。</p><ul><li>Egret 官网：<a href="https://www.egret.com/products" target="_blank" rel="noreferrer">白鹭科技-Egret</a></li><li>开源地址：<a href="https://github.com/egret-labs/egret-core" target="_blank" rel="noreferrer">egret-labs/egret-core</a></li><li>cocos 官网：<a href="https://www.cocos.com/" target="_blank" rel="noreferrer">Cocos - 全球领先的 2D&amp;3D 引擎，游戏/智能座舱/AR/VR/角色/教育</a></li></ul></li></ul><h2 id="canvas-库" tabindex="-1">Canvas 库 <a class="header-anchor" href="#canvas-库" aria-label="Permalink to &quot;Canvas 库&quot;">​</a></h2><ul><li><p><strong>konva</strong>：Konva.js 是一个 HTML5 Canvas JavaScript 框架，它通过为桌面和移动应用程序启用画布交互性来扩展 2D 上下文</p><ul><li><p>GitHub：<a href="https://github.com/konvajs/konva" target="_blank" rel="noreferrer">konvajs/konva</a></p></li><li><p>npm：<a href="https://www.npmjs.com/package/konva" target="_blank" rel="noreferrer">konva - npm (npmjs.com)</a></p></li><li><p>官网：<a href="https://konvajs.org/" target="_blank" rel="noreferrer">Konva - JavaScript 2d canvas library (konvajs.org)</a></p></li><li><p>特点：</p><ul><li>小巧、使用方便、支持移动端和 pc 端</li><li>支持丰富的事件处理操作</li><li>支持类似 JQuery 的操作方式</li><li>开源，可以随意更改</li><li>社区更新比较活跃，github 托管源码</li><li>性能也不错</li></ul></li></ul></li></ul><h2 id="webgl" tabindex="-1">WebGL <a class="header-anchor" href="#webgl" aria-label="Permalink to &quot;WebGL&quot;">​</a></h2><ul><li><p>WebGL 是一种 Javascript 的 3D 图形接口，把 JavaScript 和 OpenGL ES 2.0 结合在一起。</p></li><li><p>Canvas 是 HTML5 的画布元素，在使用 Canvas 时，需要用到 Canvas 的上下文，可以用 2D 上下文绘制二维的图像，也可以使用 3D 上下文绘制三维的图像，其中 3D 上下文就是指 WebGL。</p><ul><li>getContext()方法的四个参数(&quot;webgl&quot;就是其中之一)：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext#%E5%8F%82%E6%95%B0" target="_blank" rel="noreferrer">HTMLCanvasElement.getContext() - Web API 接口参考 | MDN (mozilla.org)</a></li></ul></li><li><p>OpenGL 是开放式图形标准，跨编程语言、跨平台，Javascript、Java 、C、C++ 、 python 等都能支持 OpenGL ，OpenGL 的 Javascript 实现就是 WebGL。OpenGL ES 2.0 是 OpenGL 的子集，针对手机、游戏主机等嵌入式设备而设计。</p></li></ul><hr><p>OpenGL、WebGL、Canvas、Three.js 四者关系</p><p>OpenGL：3D 绘图标准</p><p>WebGL：OpenGL + JavaScript</p><p>Canvas：WebGL + Canvas 2D</p><p>Three.js：一个基于 WebGL 封装的库</p><p>类似于：</p><p>ECMAscript：脚本语言规范</p><p>JavaScript：脚本语言</p><p>jQuery: 一个基于 JavaScript 封装的库</p><p>简单一句话概括：WebGL 和 Three.js 的关系，相当于 JavaScript 和 jQuery 的关系。</p><hr><p>MDN 的 WebGL 文档：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API" target="_blank" rel="noreferrer">WebGL - Web API 接口参考 | MDN (mozilla.org)</a></p><p>WebGL 库：</p><ul><li><p>three.js：Three.js 是基于 webGL 的封装的一个易于使用且轻量级的 3D 库，Three.js 对 WebGL 提供的接口进行了非常好的封装，简化了很多细节，大大降低了学习成本，极大地提高了性能，功能也非常强大。</p><p>Three.js 应用场景有哪些？</p><p>Web 3D 游戏、3D 物体模型展示、数据可视化、Web VR、其它特殊效果展示。</p><ul><li><p>官网：<a href="https://threejs.org/" target="_blank" rel="noreferrer">Three.js – JavaScript 3D Library (threejs.org)</a></p></li><li><p>GitHub：<a href="https://github.com/mrdoob/three.js" target="_blank" rel="noreferrer">mrdoob/three.js: JavaScript 3D Library. (github.com)</a></p></li><li><p>中文网：</p><ul><li><p><a href="http://www.webgl3d.cn/" target="_blank" rel="noreferrer">Three.js 中文网 (webgl3d.cn)</a></p></li><li><p><a href="https://techbrood.com/threejs/docs/" target="_blank" rel="noreferrer">Three.js 中文教程 | 参考手册 | 使用指南 | 动画特效实例 | 踏得网 (techbrood.com)</a></p></li><li><p><a href="https://www.threejs.online/" target="_blank" rel="noreferrer">three.js 中文 - Javascript 3D 库 (threejs.online)</a></p></li><li><p><a href="https://sogrey.top/Three.js-start/start/#top" target="_blank" rel="noreferrer">入门 · Three.js 入门 (sogrey.top)</a></p></li><li><p><a href="http://www.webgl3d.cn/Three.js/" target="_blank" rel="noreferrer">Three.js 教程 (webgl3d.cn)</a></p></li></ul></li></ul></li><li><p>d3.js：图表库</p><ul><li><p>官网：<a href="https://d3js.org/" target="_blank" rel="noreferrer">D3.js - Data-Driven Documents (d3js.org)</a></p></li><li><p>GitHub：<a href="https://github.com/d3/d3" target="_blank" rel="noreferrer">d3/d3: Bring data to life with SVG, Canvas and HTML. (github.com)</a></p></li><li><p>中文网：</p><ul><li><p><a href="https://www.d3js.org.cn/" target="_blank" rel="noreferrer">D3js: Data-Driven Documents</a></p></li><li><p><a href="https://github.com/xswei/d3js_doc" target="_blank" rel="noreferrer">xswei/d3js_doc: D3js 中文文档 D3 中文 (github.com)</a></p></li></ul></li></ul></li><li><p>PlayCanvas：</p><ul><li><p>官网：<a href="https://developer.playcanvas.com/zh/" target="_blank" rel="noreferrer">PlayCanvas 开发者资源 | Learn PlayCanvas</a></p></li><li><p>GitHub：<a href="https://github.com/playcanvas/engine" target="_blank" rel="noreferrer">playcanvas/engine: Fast and lightweight JavaScript game engine built on WebGL and glTF (github.com)</a></p></li></ul></li><li><p>Babylon.js：</p><ul><li>GitHub：<a href="https://github.com/BabylonJS/Babylon.js" target="_blank" rel="noreferrer">BabylonJS/Babylon.js：Babylon.js 是一个强大、美观、简单、开放的游戏和渲染引擎，它被打包在一个友好的 JavaScript 框架中。 (github.com)</a></li></ul></li><li><p>filament：</p><ul><li>GitHub：<a href="https://github.com/google/filament" target="_blank" rel="noreferrer">google/filament：Filament 是一个基于物理的实时渲染引擎，适用于 Android，iOS，Windows，Linux，macOS 和 WebGL2。 (github.com)</a></li></ul></li><li><p>ClayGL：</p><ul><li>GitHub：<a href="https://github.com/pissang/claygl" target="_blank" rel="noreferrer">pissang/claygl: A WebGL graphic library for building scalable Web3D applications (github.com)</a></li></ul></li></ul><h1 id="three-js" tabindex="-1">Three.js <a class="header-anchor" href="#three-js" aria-label="Permalink to &quot;Three.js&quot;">​</a></h1><h2 id="three-js-个人站点" tabindex="-1">Three.js 个人站点 <a class="header-anchor" href="#three-js-个人站点" aria-label="Permalink to &quot;Three.js 个人站点&quot;">​</a></h2><p>“ 优秀的 Three.js 项目层出不穷，今天我带领大家探索 Web3D 前沿，揭秘那些运用 Three.js 打造的惊艳个人网站。一起来领略这些站点的魅力，感受它们如何打破传统网页的二维边界，开启一场视觉与交互的盛宴。 ”</p><h3 id="_01-carsten-mell" tabindex="-1">01 CARSTEN MELL <a class="header-anchor" href="#_01-carsten-mell" aria-label="Permalink to &quot;01 CARSTEN MELL&quot;">​</a></h3><p>最酷、最可爱的 Three.js 个人网站。</p><p>该网站主要展示插画师 Carsten Mell 的个人作品与服务，包括插图、漫画和相关艺术项目。内容专业且专注于插画领域，提供了丰富的插画实例，展现了作者独特的艺术风格和扎实的绘画技艺。作品类别多样，覆盖不同的主题和媒介，显示出 Carsten Mell 在插画创作上的广泛涉猎和深厚功底。从呈现的专业作品来看，网站体现了较高的艺术水准和行业针对性。</p><p>网站设计简洁明快，色彩搭配与插画师的作品风格保持一致，营造出和谐统一的艺术氛围。页面布局清晰，导航栏直观，用户能够轻松访问作品集、服务介绍、联系方式等重要板块。作品展示采用网格布局，每幅作品配有简短的文字说明，便于快速浏览和理解。滚动浏览过程中加载流畅，没有明显的技术故障或加载延迟，整体用户体验较好。</p><p><img src="`+v+'" alt="图片.png"></p><p>在线演示：<a href="https://www.carstenmell.com" target="_blank" rel="noreferrer">www.carstenmell.com</a></p><h3 id="_02-yanne-sidibe" tabindex="-1">02 Yanne Sidibe <a class="header-anchor" href="#_02-yanne-sidibe" aria-label="Permalink to &quot;02 Yanne Sidibe&quot;">​</a></h3><p>交互式 3D 作品集 - 滚动体验。</p><p>这是一个 GSAP 滚动体验，带你穿过作者的房间，预览作者的一些作品。所有的建模和动画都是在 Blender 中完成的，然后我应用了压缩和优化技术，以减小整个场景的大小。</p><p><img src="'+f+'" alt="图片.png"></p><p>在线演示：<a href="https://www.yannesidibe.com" target="_blank" rel="noreferrer">www.yannesidibe.com</a></p><h3 id="_03-victor-marin" tabindex="-1">03 Victor Marin <a class="header-anchor" href="#_03-victor-marin" aria-label="Permalink to &quot;03 Victor Marin&quot;">​</a></h3><p>这是一份交互式简历。</p><p>作者受到布鲁诺·西蒙（Bruno Simon）的出色网站（<a href="https://bruno-simon.xn--com-yw3evq741o" target="_blank" rel="noreferrer">https://bruno-simon.com的启发</a>，并决定使用相同的技术 Three.js 构建自己的网站。</p><p><img src="'+x+'" alt="图片.png"></p><p>在线演示：<a href="https://victor-marin.dev" target="_blank" rel="noreferrer">victor-marin.dev</a></p><h3 id="_04-rahul-vuppala" tabindex="-1">04 Rahul Vuppala <a class="header-anchor" href="#_04-rahul-vuppala" aria-label="Permalink to &quot;04 Rahul Vuppala&quot;">​</a></h3><p>简约干净的作品集网站。</p><p>作者使用 react-three-fiber、blender 构建的个人网站。网站的设计风格简洁明了，没有过多的装饰元素，使得页面看起来清晰、整洁。</p><p><img src="'+q+'" alt="图片.png"></p><p>在线演示：<a href="https://rahulvuppala.in" target="_blank" rel="noreferrer">rahulvuppala.in</a></p><h3 id="_05-toby" tabindex="-1">05 Toby <a class="header-anchor" href="#_05-toby" aria-label="Permalink to &quot;05 Toby&quot;">​</a></h3><p>作者是一名创意开发人员，专注工作了几个月制作的个人网站，它主要使用了 react-three-fiber 和 framer-motion 构建的动画。</p><p><img src="'+w+'" alt="图片.png"></p><p>在线演示：<a href="https://nhtoby.com" target="_blank" rel="noreferrer">nhtoby.com</a></p><h3 id="_06-neon-city" tabindex="-1">06 Neon City <a class="header-anchor" href="#_06-neon-city" aria-label="Permalink to &quot;06 Neon City&quot;">​</a></h3><p>个人作品集 – 霓虹城。</p><p>作者用 Three.js 和 Blender 制作的 3D 交互式作品集。灯红酒绿的霓虹城，鲜艳夺目的色彩、动态变幻的图案和文字装点着建筑物的轮廓、招牌、广告牌以及街头巷尾，在夜晚展现出独特的魅力。创意十足。</p><p><img src="'+k+'" alt="图片.png"></p><p>在线演示：<a href="https://neon-city.netlify.app" target="_blank" rel="noreferrer">neon-city.netlify.app</a></p><h3 id="_07-ivan-kapunac" tabindex="-1">07 Ivan Kapunac <a class="header-anchor" href="#_07-ivan-kapunac" aria-label="Permalink to &quot;07 Ivan Kapunac&quot;">​</a></h3><p>作者是一位充满激情的高级前端开发人员和全栈开发人员。凭借多年创造令人惊叹的用户体验的经验，渴望继续创作革命性的项目。</p><p>露营小屋为主题的个人网站，采用Three.js作为核心技术，将呈现出一个沉浸式、交互式的3D虚拟环境，让用户仿佛置身于宁静而充满自然气息的露营场景之中。</p><p><img src="'+T+'" alt="图片.png"></p><p>在线演示：<a href="https://ivankapunac.com" target="_blank" rel="noreferrer">ivankapunac.com</a></p><h3 id="_08-thesigner" tabindex="-1">08 thesigner <a class="header-anchor" href="#_08-thesigner" aria-label="Permalink to &quot;08 thesigner&quot;">​</a></h3><p>一个具有 Three.js 背景的简单个人展示页面。在滚动中过渡两个简单的元素，加上光影效果，科技感十足。</p><p><img src="'+P+'" alt="图片.png"></p><p>在线演示：<a href="https://thesigner.pl" target="_blank" rel="noreferrer">thesigner.pl</a></p><h3 id="_09-yapac" tabindex="-1">09 Yapac <a class="header-anchor" href="#_09-yapac" aria-label="Permalink to &quot;09 Yapac&quot;">​</a></h3><p>作者从使用纯 HTML + JS + Three.js 更新为使用 React.js + Three.js。一个非常年轻的软件工程师，02年出生在摩洛哥。</p><p><img src="'+_+'" alt="图片.png"></p><p>在线演示：<a href="https://yapacdev.com" target="_blank" rel="noreferrer">yapacdev.com</a></p><h3 id="_10-pavelboytchev" tabindex="-1">10 PavelBoytchev <a class="header-anchor" href="#_10-pavelboytchev" aria-label="Permalink to &quot;10 PavelBoytchev&quot;">​</a></h3><p>作者一看就是一位充满故事的男人。</p><p><img src="'+M+'" alt="图片.png"></p><p>在线演示：<a href="https://www.pranavaa.com" target="_blank" rel="noreferrer">www.pranavaa.com</a></p>',336)]))}const N=n(I,[["render",L]]);export{X as __pageData,N as default};
