import{_ as n,c as a,o as l,ah as p}from"./chunks/framework.DqD713j2.js";const o="data:image/webp;base64,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",e="data:image/webp;base64,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",r="data:image/webp;base64,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",t="data:image/webp;base64,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",c="data:image/webp;base64,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",B="data:image/webp;base64,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",y="data:image/webp;base64,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",i="data:image/webp;base64,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",f=JSON.parse('{"title":"ECMAScript-14(ES2023)","description":"","frontmatter":{},"headers":[],"relativePath":"Document/JavaScript笔记/ECMAScript语法/ECMAScript-14(ES2023).md","filePath":"Document/JavaScript笔记/ECMAScript语法/ECMAScript-14(ES2023).md","lastUpdated":1750954157000}'),A={name:"Document/JavaScript笔记/ECMAScript语法/ECMAScript-14(ES2023).md"};function F(d,s,b,u,C,E){return l(),a("div",null,s[0]||(s[0]=[p(`<h1 id="ecmascript-14-es2023" tabindex="-1">ECMAScript-14(ES2023) <a class="header-anchor" href="#ecmascript-14-es2023" aria-label="Permalink to &quot;ECMAScript-14(ES2023)&quot;">​</a></h1><h2 id="提案" tabindex="-1">提案 <a class="header-anchor" href="#提案" aria-label="Permalink to &quot;提案&quot;">​</a></h2><p><strong>提案地址</strong>：<a href="https://github.com/tc39/proposal-array-from-async" target="_blank" rel="noreferrer">https://github.com/tc39/proposal-array-from-async</a></p><p>根据 <strong>Erick Wendel</strong>（微软 MVP、谷歌开发专家、@nodejs 合作者）的预测，ECMAScript 2023 可能会新增以下数组方法（3️⃣、4️⃣ 为所处提案阶段）：</p><ul><li>3️⃣ Array.prototype.toReversed()</li><li>3️⃣ Array.prototype.toSorted()</li><li>3️⃣ Array.prototype.toSpliced()</li><li>3️⃣ Array.prototype.with()</li><li>3️⃣ Array.prototype.group()</li><li>3️⃣ Array.prototype.groupToMap()</li><li>4️⃣ Array.prototype.findLast()</li><li>4️⃣ Array.prototype.findLastIndex()</li><li>3️⃣ Array.fromAsync()</li></ul><h2 id="特性" tabindex="-1">特性 <a class="header-anchor" href="#特性" aria-label="Permalink to &quot;特性&quot;">​</a></h2><p>2023 年 6 月 27 日，第 125 届 ECMA 大会正式批准了 ECMAScript 2023 语言规范。总而言之，本次 ECMAScript 2023 并没有新增大的改动点，更多是对 JavaScript 原来语法的完善与增补。而笔者认为其中比较有意义的更新主要有以下两个：</p><h3 id="_1、weakmap-支持-symbol-作为-key。" tabindex="-1">1、WeakMap 支持 Symbol 作为 Key。 <a class="header-anchor" href="#_1、weakmap-支持-symbol-作为-key。" aria-label="Permalink to &quot;1、WeakMap 支持 Symbol 作为 Key。&quot;">​</a></h3><p>总所周知， WeakMap 的 Key 是弱引用，且要求是唯一的值。由 Symbol 具有唯一性，保证不可重建，因此在今年的 ECMAScript 2023 新特性中扩展了 WeakMap API，WeakMaps 允许使用唯一的 Symbol 作为键。不过值得注意的是，通过 Symbol.for 创建的 Symbol 是不可以作为弱引用的，因为 Symbol.for 会在全局注册 Symbol，并支持在任何地方通过 Symbol.for 再次引用。</p><h3 id="_2、新增四个通过副本修改数组的方法-toreversed-、tosorted-、tospliced-、with" tabindex="-1">2、新增四个通过副本修改数组的方法：toReversed()、toSorted()、toSpliced()、with()， <a class="header-anchor" href="#_2、新增四个通过副本修改数组的方法-toreversed-、tosorted-、tospliced-、with" aria-label="Permalink to &quot;2、新增四个通过副本修改数组的方法：toReversed()、toSorted()、toSpliced()、with()，&quot;">​</a></h3><p>目前大多数的数组方法都是非破坏性的，当然也存在一些对原数组具有破坏性的方法，例如 reverse()、sort() 以及 splice() 。当我们想要使用这些方法又不想对原数组造成影响的话，通常需要先拷贝一份数组再调用相应的方法，由此可见，这种开发体验不友好的。因此在今年的 ECMAScript 2023 优化了开发体验，新增了相应的非破坏性方法。</p><p>关于更多 ECMAScript 2023 其他改动的完整信息，请参考官方文档，此处不再赘述：ECMAScript® 2023 Language Specification：<a href="https://tc39.es/ecma262/2023/" target="_blank" rel="noreferrer">https://tc39.es/ecma262/2023/</a></p><p>参考内容：</p><p>ES2023（ES14）新标准详解 - IT 深客：<a href="https://www.itthink.tech/article/03e3d5cb-c817-41e9-918b-095fe6ace04b/d081bab2-1200-4fe3-a037-1abb8e6b8ba4#h2-SymbolsE58FAFE4BBA5E4BD9CE4B8BAweakE99B86E59088E79A84key" target="_blank" rel="noreferrer">https://www.itthink.tech/article/03e3d5cb-c817-41e9-918b-095fe6ace04b/d081bab2-1200-4fe3-a037-1abb8e6b8ba4#h2-SymbolsE58FAFE4BBA5E4BD9CE4B8BAweakE99B86E59088E79A84key</a></p><h2 id="_1-通过副本更改数组" tabindex="-1">1. 通过副本更改数组 <a class="header-anchor" href="#_1-通过副本更改数组" aria-label="Permalink to &quot;1. 通过副本更改数组&quot;">​</a></h2><p>通过副本更改数组的提案目前处于第 3 阶段。该提案为数组和类型化数组提出了四种新的方法：</p><ul><li>Array.prototype.toReversed()</li><li>Array.prototype.toSorted()</li><li>Array.prototype.toSpliced()</li><li>Array.prototype.with()</li></ul><blockquote><p><strong>提案地址</strong>：<a href="https://github.com/tc39/proposal-change-array-by-copy" target="_blank" rel="noreferrer">https://github.com/tc39/proposal-change-array-by-copy</a></p></blockquote><p>为什么会有这个提案呢？我们知道，大多数的数组方法都是非破坏性的，也就是说，在数组执行该方法时，不会改变原数组，比如 <code>filter()</code> 方法：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;b&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;b&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">filter</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E06C75;"> x</span><span style="color:#56B6C2;"> !==</span><span style="color:#98C379;"> &quot;b&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">result</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;a&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当然，也有一些是破坏性的方法，它们在执行时会改变原数组，比如 <code>sort()</code> 方法：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;c&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;b&quot;</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">result</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在数组的方法中，下面的方法是具有破坏性的：</p><ul><li><code>reverse()</code></li><li><code>sort()</code></li><li><code>splice()</code></li></ul><p>如果我们想要这些数组方法应用于数组而不改变它，可以使用下面任意一种形式：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> sorted1</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">slice</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> sorted2</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [...</span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">].</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> sorted3</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Array</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">from</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以看到，我们首先需要创建数组的副本，再对这个副本进行修改。</p><p>因此改提案就引入了这三个方法的非破坏性版本，因此不需要手动创建副本再进行操作：</p><ul><li><code>reverse()</code> 的非破坏性版本：<code>toReversed()</code></li><li><code>sort()</code> 非破坏性版本：<code>toSorted(compareFn)</code></li><li><code>splice()</code> 非破坏性版本：<code>toSpliced(start, deleteCount, ...items)</code></li></ul><p>该提案将这些函数属性引入到 <code>Array.prototype</code>：</p><ul><li>Array.prototype.toReversed() -&gt; Array</li><li>Array.prototype.toSorted(compareFn) -&gt; Array</li><li>Array.prototype.toSpliced(start, deleteCount, ...items) -&gt; Array</li><li>Array.prototype.with(index, value) -&gt; Array</li></ul><p>除此之外，该提案还还提出了一个新的非破坏性方法：<code>with()</code>。该方法会以非破坏性的方式替换给定 index 处的数组元素，即 <code>arr[index]=value</code> 的非破坏性版本。</p><p>所有这些方法都将保持目标数组不变，并返回它的副本并执行更改。这些方法适用于数组，也适用于类型化数组，即以下类的实例：</p><ul><li>Int8Array</li><li>Uint8Array</li><li>Uint8ClampedArray</li><li>Int16Array</li><li>Uint16Array</li><li>Int32Array</li><li>Uint32Array</li><li>Float32Array</li><li>Float64Array</li><li>BigInt64Array</li><li>BigUint64Array</li></ul><blockquote><p>TypedArray 是一种通用的固定长度缓冲区类型，允许读取缓冲区中的二进制数据。其在 WEBGL 规范中被引入用于解决 Javascript 处理二进制数据的问题。类型化数组也是数组，只不过其元素被设置为特定类型的值。</p><p>类型化数组的核心就是一个名为 ArrayBuffer 的类型。每个 ArrayBuffer 对象表示的只是内存中指定的字节数，但不会指定这些字节用于保存什么类型的数据。通过 ArrayBuffer 能做的就是为了将来使用而分配一定数量的字节。</p></blockquote><p>这些提案也适用于元组，元组相当于不可变的数组。它们拥有数组的所有方法——除了破坏性的方法。因此，将后者的非破坏性版本添加到数组对元组是有帮助的，这意味着我们可以使用相同的方法来非破坏性地更改数组和元组。</p><h3 id="_1-array-prototype-toreversed" tabindex="-1">（1）Array.prototype.toReversed() <a class="header-anchor" href="#_1-array-prototype-toreversed" aria-label="Permalink to &quot;（1）Array.prototype.toReversed()&quot;">​</a></h3><p><code>toReversed()</code> 是 <code>reverse()</code> 方法的非破坏性版本：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;b&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;c&quot;</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toReversed</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">result</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;c&#39;, &#39;b&#39;, &#39;a&#39;]</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下面是 <code>toReversed()</code> 方法的一个简单的 polyfill：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">toReversed</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">	Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toReversed</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">slice</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">reverse</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">	};</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-array-prototype-tosorted" tabindex="-1">（2）Array.prototype.toSorted() <a class="header-anchor" href="#_2-array-prototype-tosorted" aria-label="Permalink to &quot;（2）Array.prototype.toSorted()&quot;">​</a></h3><p><code>toSorted()</code> 是 <code>sort()</code> 方法的非破坏性版本：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;c&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;b&quot;</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toSorted</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">result</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;c&#39;, &#39;a&#39;, &#39;b&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下面是 <code>toSorted()</code> 方法的一个简单的 polyfill：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">toSorted</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">	Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toSorted</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">compareFn</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">slice</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">compareFn</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">	};</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-array-prototype-tospliced" tabindex="-1">（3）Array.prototype.toSpliced() <a class="header-anchor" href="#_3-array-prototype-tospliced" aria-label="Permalink to &quot;（3）Array.prototype.toSpliced()&quot;">​</a></h3><p><code>splice()</code> 方法比其他几种方法都复杂，其使用形式：<code>splice(start, deleteCount, ...items)</code>。该方法会从从 <code>start</code> 索引处开始删除 <code>deleteCount</code>个元素，然后在 <code>start</code> 索引处开始插入<code>item</code> 中的元素，最后返回已经删除的元素。</p><p><code>toSpliced</code> 是 <code>splice()</code> 方法的非破坏性版本，它会返回更新后的数组，原数组不会变化，并且我们无法再得到已经删除的元素：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;b&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;c&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;d&quot;</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toSpliced</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;X&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">result</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;X&#39;, &#39;d&#39;]</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下面是 <code>toSpliced()</code> 方法的一个简单的 polyfill：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">toSpliced</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">	Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toSpliced</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">start</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">deleteCount</span><span style="color:#ABB2BF;">, ...</span><span style="color:#E06C75;font-style:italic;">items</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		const</span><span style="color:#E5C07B;"> copy</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">slice</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">		copy</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">splice</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">start</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">deleteCount</span><span style="color:#ABB2BF;">, ...</span><span style="color:#E06C75;">items</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#E06C75;"> copy</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">	};</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_4-array-prototype-with" tabindex="-1">（4）Array.prototype.with() <a class="header-anchor" href="#_4-array-prototype-with" aria-label="Permalink to &quot;（4）Array.prototype.with()&quot;">​</a></h3><p><code>with()</code>方法的使用形式：<code>with(index, value)</code>，它是 <code>arr[index] = value</code> 的非破坏性版本。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#98C379;">&quot;a&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;b&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;c&quot;</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">with</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;X&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">result</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;X&#39;, &#39;c&#39;]</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下面是 <code>with()</code> 方法的一个简单的 polyfill：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">with</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">	Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">with</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">value</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		const</span><span style="color:#E5C07B;"> copy</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">slice</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E06C75;">		copy</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> value</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#E06C75;"> copy</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">	};</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_2-数组分组" tabindex="-1">2. 数组分组 <a class="header-anchor" href="#_2-数组分组" aria-label="Permalink to &quot;2. 数组分组&quot;">​</a></h2><h3 id="_1-概述" tabindex="-1">（1）概述 <a class="header-anchor" href="#_1-概述" aria-label="Permalink to &quot;（1）概述&quot;">​</a></h3><p>在日常开发中，数组分组是一种极其常见的操作。因此，proposal-array-grouping 提案就提出了两个新的数组方法：</p><ul><li>array.group(callback, thisArg?)</li><li>array.groupToMap(callback, thisArg?)</li></ul><blockquote><p><strong>提案地址</strong>：<a href="https://github.com/tc39/proposal-array-grouping" target="_blank" rel="noreferrer">https://github.com/tc39/proposal-array-grouping</a></p></blockquote><p>下面是这两个方法的类型签名：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E06C75;">Array</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">Elem</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">group</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">GroupKey</span><span style="color:#C678DD;"> extends</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">string</span><span style="color:#ABB2BF;">|</span><span style="color:#E5C07B;">symbol</span><span style="color:#ABB2BF;">)&gt;(</span></span>
<span class="line"><span style="color:#61AFEF;">  callback</span><span style="color:#ABB2BF;">: (</span><span style="color:#E06C75;font-style:italic;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">Elem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">index</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">number</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">array</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">Elem</span><span style="color:#ABB2BF;">&gt;) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> GroupKey</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;font-style:italic;">  thisArg</span><span style="color:#C678DD;">?</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">any</span></span>
<span class="line"><span style="color:#ABB2BF;">): {[</span><span style="color:#E06C75;font-style:italic;">k</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">GroupKey</span><span style="color:#ABB2BF;">]: </span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">Elem</span><span style="color:#ABB2BF;">&gt;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">Elem</span><span style="color:#ABB2BF;">&gt;.</span><span style="color:#E5C07B;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">groupToMap</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">GroupKey</span><span style="color:#ABB2BF;">&gt;(</span></span>
<span class="line"><span style="color:#61AFEF;">  callback</span><span style="color:#ABB2BF;">: (</span><span style="color:#E06C75;font-style:italic;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">Elem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">index</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">number</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">array</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">Elem</span><span style="color:#ABB2BF;">&gt;) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> GroupKey</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;font-style:italic;">  thisArg</span><span style="color:#C678DD;">?</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">any</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span><span style="color:#C678DD;">:</span><span style="color:#E5C07B;"> Map</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">GroupKey</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">Elem</span><span style="color:#ABB2BF;">&gt;&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这两个方法都用来对数组进行分组：</p><ul><li>输入：一个数组；</li><li>输出：组，每个组都有一个组 key，以及一个包含组成员的数组。</li></ul><p>这两个方法都会对数组进行遍历，它们会向其回调请求组键并将元素添加到相应的组中。这两个方法在表示组的方式上有所不同：</p><ul><li><code>group()</code>：将组存储在对象中：组键存储为属性键，组成员存储为属性值；</li><li><code>groupToMap()</code>：将组存储在 Map 中：组键存储为 Map 键，组成员存储为 Map 值。</li></ul><p>那这两个方法该如何选择呢？我们知道，JavaScript 中对象是支持解构的，如果想要使用解构来获取数组中的值，比如，对于上面对象，可以通过解构获取三个不同组的值：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> { </span><span style="color:#E5C07B;">vegetables</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">fruit</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">meat</span><span style="color:#ABB2BF;"> } </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> result</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>而 Map 的好处就是它的 <code>key</code> 不限于字符串和<code>symbol</code>，更加自由。</p><h3 id="_2-使用" tabindex="-1">（2）使用 <a class="header-anchor" href="#_2-使用" aria-label="Permalink to &quot;（2）使用&quot;">​</a></h3><p>下面来看几个实用例子。假如执行 <code>Promise.allSettled()</code> 方法返回的数组如下：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> settled</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;rejected&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">reason</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jhon&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;fulfilled&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jane&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;fulfilled&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;John&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;rejected&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">reason</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jaen&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;rejected&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">reason</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jnoh&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> {</span><span style="color:#E5C07B;">fulfilled</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">rejected</span><span style="color:#ABB2BF;">} </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> settled</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">group</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">x</span><span style="color:#C678DD;"> =&gt;</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// fulfilled 结果如下：</span></span>
<span class="line"><span style="color:#ABB2BF;">[</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;fulfilled&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jane&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;fulfilled&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;John&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// rejected 结果如下：</span></span>
<span class="line"><span style="color:#ABB2BF;">[</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;rejected&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">reason</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jhon&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;rejected&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">reason</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jaen&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">status</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;rejected&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">reason</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Jnoh&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>在这个例子中，使用 <code>group()</code> 的效果会更好，因为可以使用解构轻松获取需要组的值。</p><p>假如想要对以下数组中人根据国家进行分组：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> persons</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Louise&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;France&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Felix&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Germany&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Ava&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;USA&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Léo&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;France&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Oliver&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;USA&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Leni&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Germany&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> persons</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">groupToMap</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">person</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> person</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// result 的执行结果和以下 Map 是等价的：</span></span>
<span class="line"><span style="color:#C678DD;">new</span><span style="color:#61AFEF;"> Map</span><span style="color:#ABB2BF;">([</span></span>
<span class="line"><span style="color:#ABB2BF;">	[</span></span>
<span class="line"><span style="color:#98C379;">		&quot;France&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span></span>
<span class="line"><span style="color:#ABB2BF;">			{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Louise&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;France&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">			{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Léo&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;France&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">		],</span></span>
<span class="line"><span style="color:#ABB2BF;">	],</span></span>
<span class="line"><span style="color:#ABB2BF;">	[</span></span>
<span class="line"><span style="color:#98C379;">		&quot;Germany&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span></span>
<span class="line"><span style="color:#ABB2BF;">			{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Felix&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Germany&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">			{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Leni&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Germany&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">		],</span></span>
<span class="line"><span style="color:#ABB2BF;">	],</span></span>
<span class="line"><span style="color:#ABB2BF;">	[</span></span>
<span class="line"><span style="color:#98C379;">		&quot;USA&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span></span>
<span class="line"><span style="color:#ABB2BF;">			{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Ava&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;USA&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">			{ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Oliver&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">country</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;USA&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">		],</span></span>
<span class="line"><span style="color:#ABB2BF;">	],</span></span>
<span class="line"><span style="color:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>在这个例子中，<code>groupToMap()</code> 是更好的选择，因为我们可以在 Map 中使用任何类型的键，而在对象中，键只能是字符串或<code>symbol</code>。</p><h3 id="_3-polyfill" tabindex="-1">（3）polyfill <a class="header-anchor" href="#_3-polyfill" aria-label="Permalink to &quot;（3）polyfill&quot;">​</a></h3><p>下面来实现一下这两个方法：</p><ul><li><strong>Array.prototype.group</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">group</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">callback</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">thisArg</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Object</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">create</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">null</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [</span><span style="color:#E5C07B;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">elem</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">of</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">entries</span><span style="color:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#C678DD;">		const</span><span style="color:#E5C07B;"> groupKey</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> callback</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">call</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">thisArg</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">elem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">groupKey</span><span style="color:#C678DD;"> in</span><span style="color:#E06C75;"> result</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#E06C75;">			result</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">groupKey</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [];</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#E06C75;">		result</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">groupKey</span><span style="color:#ABB2BF;">].</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">elem</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#E06C75;"> result</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><strong>Array.prototype.groupToMap</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">groupToMap</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">callback</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">thisArg</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> result</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> Map</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> [</span><span style="color:#E5C07B;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">elem</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">of</span><span style="color:#E5C07B;"> this</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">entries</span><span style="color:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#C678DD;">		const</span><span style="color:#E5C07B;"> groupKey</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> callback</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">call</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">thisArg</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">elem</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">		let</span><span style="color:#E06C75;"> group</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> result</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">get</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">groupKey</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">group</span><span style="color:#56B6C2;"> ===</span><span style="color:#D19A66;"> undefined</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E06C75;">			group</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [];</span></span>
<span class="line"><span style="color:#E5C07B;">			result</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">groupKey</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">group</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#E5C07B;">		group</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">elem</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#E06C75;"> result</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_3-从尾到头搜索数组" tabindex="-1">3. 从尾到头搜索数组 <a class="header-anchor" href="#_3-从尾到头搜索数组" aria-label="Permalink to &quot;3. 从尾到头搜索数组&quot;">​</a></h2><h3 id="_1-概述-1" tabindex="-1">（1）概述 <a class="header-anchor" href="#_1-概述-1" aria-label="Permalink to &quot;（1）概述&quot;">​</a></h3><p>在 JavaScript 中，通过 <code>find()</code> 和 <code>findIndex()</code> 查找数组中的值是一种常见做法。不过，这些方法从数组的开始进行遍历：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> array</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [{ </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;"> }];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">array</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">find</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">elem</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> elem</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">v</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// {v: 4}</span></span>
<span class="line"><span style="color:#E5C07B;">array</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findIndex</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">elem</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> elem</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">v</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果要从数组的末尾开始遍历，就必须反转数组并使用上述方法。这样做就需要一个额外的数组操作。幸运的是，Wenlu Wang 和 Daniel Rosenwasser 关于<code>findLast()</code> 和 <code>findLastIndex()</code> 的 ECMAScript 提案解决了这一问题。该提案的一个重要原因就是：<strong>语义</strong>。</p><blockquote><p>提案地址：<a href="https://github.com/tc39/proposal-array-find-from-last" target="_blank" rel="noreferrer">https://github.com/tc39/proposal-array-find-from-last</a></p></blockquote><h3 id="_2-使用-1" tabindex="-1">（2）使用 <a class="header-anchor" href="#_2-使用-1" aria-label="Permalink to &quot;（2）使用&quot;">​</a></h3><p>它们的用法和<code>find()</code>、<code>findIndex()</code>类似，唯一不同的是它们是 <strong>从后向前 **遍历数组，这两个方法适用于**数组</strong>和<strong>类数组</strong>。</p><ul><li><code>findLast()</code> 会返回第一个查找到的元素，如果没有找到，就会返回 <code>undefined</code>；</li><li><code>findLastIndex()</code> 会返回第一个查找到的元素的索引。如果没有找到，就会返回 -1；</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> array</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [{ </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;"> }, { </span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;"> }];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">array</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findLast</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">elem</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> elem</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">v</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// {v: 5}</span></span>
<span class="line"><span style="color:#E5C07B;">array</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findLastIndex</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">elem</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> elem</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">v</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#D19A66;"> 3</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 4</span></span>
<span class="line"><span style="color:#E5C07B;">array</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findLastIndex</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">elem</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> elem</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">v</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#D19A66;"> 5</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-polyfill-1" tabindex="-1">（3）polyfill <a class="header-anchor" href="#_3-polyfill-1" aria-label="Permalink to &quot;（3）polyfill&quot;">​</a></h3><p>下面来实现一下这两个方法：</p><ul><li><strong>Array.prototype.findLast</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findLast</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">arr</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">callback</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">thisArg</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> index</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;"> &gt;=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;">--</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		const</span><span style="color:#E5C07B;"> value</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> arr</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">callback</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">call</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">thisArg</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#C678DD;">			return</span><span style="color:#E06C75;"> value</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#D19A66;"> undefined</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><strong>Array.prototype.findLastIndex</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">Array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">prototype</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findLastIndex</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">arr</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">callback</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">thisArg</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> index</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;"> &gt;=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">index</span><span style="color:#56B6C2;">--</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		const</span><span style="color:#E5C07B;"> value</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> arr</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">callback</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">call</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">thisArg</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#C678DD;">			return</span><span style="color:#E06C75;"> index</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_4-参考源码" tabindex="-1">（4）参考源码 <a class="header-anchor" href="#_4-参考源码" aria-label="Permalink to &quot;（4）参考源码&quot;">​</a></h3><p>lodash 中也提供了类似方法，下面是相关源码：</p><ul><li><strong>findLast()</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> findLastIndex</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./findLastIndex.js&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> isArrayLike</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./isArrayLike.js&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * This method is like \`find\` except that it iterates over elements of</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * \`collection\` from right to left.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@since</span><span style="color:#7F848E;font-style:italic;"> 2.0.0</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@category</span><span style="color:#7F848E;font-style:italic;"> Collection</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@param</span><span style="color:#E5C07B;font-style:italic;"> {Array|Object}</span><span style="color:#E06C75;font-style:italic;"> collection</span><span style="color:#7F848E;font-style:italic;"> The collection to inspect.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@param</span><span style="color:#E5C07B;font-style:italic;"> {Function}</span><span style="color:#E06C75;font-style:italic;"> predicate</span><span style="color:#7F848E;font-style:italic;"> The function invoked per iteration.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@param</span><span style="color:#E5C07B;font-style:italic;"> {number}</span><span style="color:#E06C75;font-style:italic;"> [fromIndex</span><span style="color:#56B6C2;font-style:italic;">=</span><span style="color:#E06C75;font-style:italic;">collection.length-1]</span><span style="color:#7F848E;font-style:italic;"> The index to search from.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@returns</span><span style="color:#E5C07B;font-style:italic;"> {*}</span><span style="color:#7F848E;font-style:italic;"> Returns the matched element, else \`undefined\`.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@see</span><span style="color:#E5C07B;font-style:italic;"> find,</span><span style="color:#7F848E;font-style:italic;"> findIndex, findKey, findLastIndex, findLastKey</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@example</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * findLast([1, 2, 3, 4], n =&gt; n % 2 == 1)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *</span><span style="color:#7F848E;font-style:italic;"> // =&gt; 3</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> findLast</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">collection</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">predicate</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">fromIndex</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	let</span><span style="color:#E06C75;"> iteratee</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> iterable</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> Object</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">collection</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">isArrayLike</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">collection</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#E06C75;">		collection</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> Object</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">keys</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">collection</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E06C75;">		iteratee</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> predicate</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;">		predicate</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">key</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#61AFEF;"> iteratee</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">iterable</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">], </span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">iterable</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> index</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> findLastIndex</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">collection</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">predicate</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">fromIndex</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#E06C75;"> index</span><span style="color:#56B6C2;"> &gt;</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;">1</span></span>
<span class="line"><span style="color:#C678DD;">		?</span><span style="color:#E06C75;"> iterable</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">iteratee</span><span style="color:#C678DD;"> ?</span><span style="color:#E06C75;"> collection</span><span style="color:#ABB2BF;">[</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">:</span><span style="color:#E06C75;"> index</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#C678DD;">		:</span><span style="color:#D19A66;"> undefined</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#E06C75;"> findLast</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><ul><li><strong>findLastIndex()</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> baseFindIndex</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./.internal/baseFindIndex.js&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> toInteger</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./toInteger.js&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * This method is like \`findIndex\` except that it iterates over elements</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * of \`collection\` from right to left.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@since</span><span style="color:#7F848E;font-style:italic;"> 2.0.0</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@category</span><span style="color:#7F848E;font-style:italic;"> Array</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@param</span><span style="color:#E5C07B;font-style:italic;"> {Array}</span><span style="color:#E06C75;font-style:italic;"> array</span><span style="color:#7F848E;font-style:italic;"> The array to inspect.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@param</span><span style="color:#E5C07B;font-style:italic;"> {Function}</span><span style="color:#E06C75;font-style:italic;"> predicate</span><span style="color:#7F848E;font-style:italic;"> The function invoked per iteration.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@param</span><span style="color:#E5C07B;font-style:italic;"> {number}</span><span style="color:#E06C75;font-style:italic;"> [fromIndex</span><span style="color:#56B6C2;font-style:italic;">=</span><span style="color:#E06C75;font-style:italic;">array.length-1]</span><span style="color:#7F848E;font-style:italic;"> The index to search from.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@returns</span><span style="color:#E5C07B;font-style:italic;"> {number}</span><span style="color:#7F848E;font-style:italic;"> Returns the index of the found element, else \`-1\`.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@see</span><span style="color:#E5C07B;font-style:italic;"> find,</span><span style="color:#7F848E;font-style:italic;"> findIndex, findKey, findLast, findLastKey</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * </span><span style="color:#C678DD;font-style:italic;">@example</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * const users = [</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *   { &#39;user&#39;: &#39;barney&#39;,  &#39;active&#39;: true },</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *   { &#39;user&#39;: &#39;fred&#39;,    &#39;active&#39;: false },</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *   { &#39;user&#39;: &#39;pebbles&#39;, &#39;active&#39;: false }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * ]</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> * findLastIndex(users, ({ user }) =&gt; user == &#39;pebbles&#39;)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> *</span><span style="color:#7F848E;font-style:italic;"> // =&gt; 2</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#61AFEF;"> findLastIndex</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">array</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">predicate</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">fromIndex</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	const</span><span style="color:#E5C07B;"> length</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> array</span><span style="color:#56B6C2;"> ==</span><span style="color:#D19A66;"> null</span><span style="color:#C678DD;"> ?</span><span style="color:#D19A66;"> 0</span><span style="color:#C678DD;"> :</span><span style="color:#E5C07B;"> array</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	let</span><span style="color:#E06C75;"> index</span><span style="color:#56B6C2;"> =</span><span style="color:#E06C75;"> length</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">fromIndex</span><span style="color:#56B6C2;"> !==</span><span style="color:#D19A66;"> undefined</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E06C75;">		index</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> toInteger</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">fromIndex</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E06C75;">		index</span><span style="color:#56B6C2;"> =</span></span>
<span class="line"><span style="color:#E06C75;">			fromIndex</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#D19A66;"> 0</span><span style="color:#C678DD;"> ?</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">max</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">length</span><span style="color:#56B6C2;"> +</span><span style="color:#E06C75;"> index</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">:</span><span style="color:#E5C07B;"> Math</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">min</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">length</span><span style="color:#56B6C2;"> -</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#61AFEF;"> baseFindIndex</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">array</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">predicate</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">index</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#E06C75;"> findLastIndex</span><span style="color:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h2 id="_4-array-fromasync" tabindex="-1">4. Array.fromAsync <a class="header-anchor" href="#_4-array-fromasync" aria-label="Permalink to &quot;4. Array.fromAsync&quot;">​</a></h2><p>在 JavaScript 中内置了 Array.from 方法，它用于将类数组或者可迭代对象生成一个新的数组实例。在 ECMAScript 2018 中引入了异步可迭代对象。而 JavaScript 中一直缺少直接从异步可迭代对象生成数组的内置方法。</p><p>proposal-array-from-async 提案中提出来的 <code>Array.fromAsync</code> 方法就是为了解决这个问题而提出来的。</p><p>下面来看一个简单的例子：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">async</span><span style="color:#C678DD;"> function*</span><span style="color:#61AFEF;"> asyncGen</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">n</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">let</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;"> &lt;</span><span style="color:#E06C75;"> n</span><span style="color:#ABB2BF;">; </span><span style="color:#E06C75;">i</span><span style="color:#56B6C2;">++</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">yield</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> *</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// arr 将变为 [0, 2, 4, 6]\`</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [];</span></span>
<span class="line"><span style="color:#C678DD;">for</span><span style="color:#C678DD;"> await</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> v</span><span style="color:#C678DD;"> of</span><span style="color:#61AFEF;"> asyncGen</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#E5C07B;">	arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 与上述方式是等价的</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> await</span><span style="color:#E5C07B;"> Array</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fromAsync</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">asyncGen</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>Array.fromAsync</code> 可以将异步迭代转换为 <code>promise</code>，并将解析为新数组。在 <code>promise</code> 解析之前，它将从输入值中创建一个异步迭代器，进行惰性的迭代，并将每个产生的值添加到新数组中。</p><p>与其他基于 Promise 的 API 一样，<code>Array.fromAsync</code> 总是会立即返回一个 <code>promise</code>。当 <code>Array.fromAsync</code> 的输入在创建其异步或同步迭代器时引发错误时，则此 <code>promise</code> 状态将被置为 <code>rejected</code>。</p><h1 id="待定" tabindex="-1">待定 <a class="header-anchor" href="#待定" aria-label="Permalink to &quot;待定&quot;">​</a></h1><h3 id="array-扩展" tabindex="-1">Array 扩展 <a class="header-anchor" href="#array-扩展" aria-label="Permalink to &quot;Array 扩展&quot;">​</a></h3><h4 id="数组支持倒序查找" tabindex="-1">数组支持倒序查找 <a class="header-anchor" href="#数组支持倒序查找" aria-label="Permalink to &quot;数组支持倒序查找&quot;">​</a></h4><p>在<code>JS</code>中，我们可以使用数组的<code>find()</code>函数来在数组中找到第一个满足某个条件的元素。同样地，我们还可以通过<code>findIndex()</code>函数来返回这个元素的位置。可是，无论是<code>find()</code>还是<code>findIndex()</code>，它们都是从数组的头部开始查找元素的，可是在某些情况下，我们可能有从数组后面开始查找某个元素的需要。</p><p><code>ES13</code>出来后，我们终于有办法处理这种情况了，那就是使用新的<code>findLast()</code>和<code>findLastIndex()</code>函数。这两个函数都会从数组的末端开始寻找某个满足条件的元素。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> letters</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;z&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;y&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;x&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;y&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">	{ </span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;z&quot;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 倒序查找</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> found</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> letters</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findLast</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">value</span><span style="color:#56B6C2;"> ===</span><span style="color:#98C379;"> &quot;y&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> foundIndex</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> letters</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">findLastIndex</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">item</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#E5C07B;"> item</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">value</span><span style="color:#56B6C2;"> ===</span><span style="color:#98C379;"> &quot;y&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">found</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// { value: &#39;y&#39; }</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">foundIndex</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="tosorted" tabindex="-1">toSorted <a class="header-anchor" href="#tosorted" aria-label="Permalink to &quot;toSorted&quot;">​</a></h4><p><code>sort</code>方法的复制版本，区别就是<code>sort</code>是修改原数组，而<code>toSorted</code>是返回新数组。</p><p>我们先来看看<code>sort</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> newArr</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">sort</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;新数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">newArr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+o+`" alt="image.png"></p><p>我们再来看看<code>toSorted</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> newArr</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toSorted</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;新数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">newArr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>看出区别来了吧，新老数组不一样</p><p><img src="`+e+`" alt="image.png"></p><h4 id="toreversed" tabindex="-1">toReversed <a class="header-anchor" href="#toreversed" aria-label="Permalink to &quot;toReversed&quot;">​</a></h4><p><code>reverse</code>方法的复制版本，区别就是<code>reverse</code>是修改原数组，而<code>toReversed</code>是返回新数组</p><p>我们先来看看<code>reverse</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> newArr</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">reverse</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;新数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">newArr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+r+`" alt="image.png"></p><p>我们再来看看<code>toReversed</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> newArr</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toReversed</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;新数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">newArr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>看出区别来了吧，新老数组不一样</p><p><img src="`+t+`" alt="image.png"></p><h4 id="tospliced" tabindex="-1">toSpliced <a class="header-anchor" href="#tospliced" aria-label="Permalink to &quot;toSpliced&quot;">​</a></h4><p><code>toSpliced</code>与<code>splice</code>区别就很大了。<code>splice</code>是截取原数组的数据，并返回截取出来的数据。<code>toSpliced</code>是对原数组的副本进行操作，然后返回被截取完后的新数组，并不会修改原数组。</p><p>我们先来看看<code>splice</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> newArr</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">splice</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;新数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">newArr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+c+`" alt="image.png"></p><p>我们再来看看<code>toSpliced</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> newArr</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toSpliced</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;新数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">newArr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>看出区别了吧，<code>toSpliced</code>并不会影响原数组。返回的是截取后的数组。</p><p><img src="`+B+`" alt="image.png"></p><h4 id="with" tabindex="-1">with <a class="header-anchor" href="#with" aria-label="Permalink to &quot;with&quot;">​</a></h4><p><code>with</code>有点类似我们通过<code>[index]</code>来修改数组，区别就是<code>with</code>不是修改原数组，而是返回整个新数组。</p><p>我们先来看看通过下标来修改数组的</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;"> 10</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="`+y+`" alt="image.png"></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> arr</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> newArr</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> arr</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">with</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;原数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;新数组:&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">newArr</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+i+`" alt="image.png"></p><h3 id="weakmap-扩展" tabindex="-1">WeakMap 扩展 <a class="header-anchor" href="#weakmap-扩展" aria-label="Permalink to &quot;WeakMap 扩展&quot;">​</a></h3><h4 id="支持-symbol-作为键" tabindex="-1">支持 Symbol 作为键 <a class="header-anchor" href="#支持-symbol-作为键" aria-label="Permalink to &quot;支持 Symbol 作为键&quot;">​</a></h4><p>之前<code>WeakMap</code>是只支持对象作为键，现在还支持 <code>Symbol</code> 作为键</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> weak</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#61AFEF;"> WeakMap</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#E5C07B;"> key</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> Symbol</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;ref&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">weak</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;randy&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">weak</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">get</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">)); </span><span style="color:#7F848E;font-style:italic;">// randy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,157)]))}const D=n(A,[["render",F]]);export{f as __pageData,D as default};
