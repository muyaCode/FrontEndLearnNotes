import{_ as n,c as a,o as l,ah as p}from"./chunks/framework.DqD713j2.js";const e="/FrontEndLearnNotes/assets/1.B90vrywM.jpg",o="/FrontEndLearnNotes/assets/2.C6d9yuWY.jpg",t="/FrontEndLearnNotes/assets/3.DF8vlTAI.jpg",r="/FrontEndLearnNotes/assets/4.BLZ3CMYD.png",c="/FrontEndLearnNotes/assets/5.CHSTPPtH.png",i="/FrontEndLearnNotes/assets/6.6PJsyvbR.png",B="/FrontEndLearnNotes/assets/7.6l8C8A_q.jpg",y="/FrontEndLearnNotes/assets/8.Fq1BzwI3.jpg",u="/FrontEndLearnNotes/assets/2-1.OAoSZEC-.jpg",b="/FrontEndLearnNotes/assets/2-2.B8Yf5pgD.png",F="/FrontEndLearnNotes/assets/2-3.D4U-UkQo.jpg",m="/FrontEndLearnNotes/assets/2-4.BL2v5WYt.jpg",d="/FrontEndLearnNotes/assets/3-1.CCC1cLHU.jpg",A="/FrontEndLearnNotes/assets/3-2.CF2nIxMg.jpg",g="/FrontEndLearnNotes/assets/3-3.D5GI76wz.jpg",C="/FrontEndLearnNotes/assets/3-4.w4vPhM8a.png",j=JSON.parse('{"title":"02_给 VitePress 添加 algolia 搜索","description":"","frontmatter":{},"headers":[],"relativePath":"Document/搭建在线博客或文档网站/VitePress和VuePress搭建在线博客或文档/02_给VitePress添加algolia搜索.md","filePath":"Document/搭建在线博客或文档网站/VitePress和VuePress搭建在线博客或文档/02_给VitePress添加algolia搜索.md","lastUpdated":1750954157000}'),q={name:"Document/搭建在线博客或文档网站/VitePress和VuePress搭建在线博客或文档/02_给VitePress添加algolia搜索.md"};function E(h,s,_,f,P,D){return l(),a("div",null,s[0]||(s[0]=[p('<h1 id="_02-给-vitepress-添加-algolia-搜索" tabindex="-1">02_给 VitePress 添加 algolia 搜索 <a class="header-anchor" href="#_02-给-vitepress-添加-algolia-搜索" aria-label="Permalink to &quot;02\\_给 VitePress 添加 algolia 搜索&quot;">​</a></h1><p>VitePress 搭建静态网站并在 GitHub/Gitee Pages 部署：<a href="https://agangdundan.cn/origin/" target="_blank" rel="noreferrer">https://agangdundan.cn/origin/</a></p><h2 id="前期准备" tabindex="-1">前期准备 <a class="header-anchor" href="#前期准备" aria-label="Permalink to &quot;前期准备&quot;">​</a></h2><h3 id="_1、algolia-账号创建和应用" tabindex="-1">1、algolia 账号创建和应用 <a class="header-anchor" href="#_1、algolia-账号创建和应用" aria-label="Permalink to &quot;1、algolia 账号创建和应用&quot;">​</a></h3><p>1.在 <a href="https://www.algolia.com/doc/" target="_blank" rel="noreferrer">algolia 官网</a> 首页，点击蓝色按钮 &quot;SIGN UP&quot;</p><p><img src="'+e+'" alt="1.jpg"></p><p>2.使用邮箱注册一个账号，或者直接选择以 GitHub 身份登录。</p><p><img src="'+o+'" alt="2.jpg"></p><p>3.登录之后，会进入控制面板页面，点击右上角头像，会有一个 <code>Settings</code> 选项</p><p><img src="'+t+'" alt="3.jpg"></p><p>4.点击 <code>Applications</code> 应用实例选项</p><p><img src="'+r+'" alt="4.png"></p><p>5.新建应用实例</p><p><img src="'+c+'" alt="5.png"></p><p>6.创建应用步骤</p><p><img src="'+i+'" alt="6.png"></p><p>7.选择地区和创建</p><p><img src="'+B+'" alt="7.jpg"></p><p>8.全部打钩后创建应用</p><p><img src="'+y+`" alt="8.jpg"></p><p>至此应用创建成功</p><h3 id="_2、应用配置" tabindex="-1">2、应用配置 <a class="header-anchor" href="#_2、应用配置" aria-label="Permalink to &quot;2、应用配置&quot;">​</a></h3><p>在 VitePress 里面配置 algolia 搜索框，创建一个 <code>docs/.vitepress/algolia.js</code> 文件</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// algolia.js：展示 algolia 搜索框</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">	appId</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">//</span></span>
<span class="line"><span style="color:#E06C75;">	apiKey</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// Search-Only API Key</span></span>
<span class="line"><span style="color:#E06C75;">	indexName</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// algolia创建的实例应用名称：FrontEndLearnNotes</span></span>
<span class="line"><span style="color:#E06C75;">	placeholder</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;请输入关键词&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">//</span></span>
<span class="line"><span style="color:#E06C75;">	buttonText</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;搜索&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">//</span></span>
<span class="line"><span style="color:#E06C75;">	searchParameters</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		//</span></span>
<span class="line"><span style="color:#E06C75;">		faeFilters</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;tags:guide,api&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>在\`docs/.vitepress/config.js\`\` 中导入引用 algolia 的模块</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> socialLinks</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./socialLinks&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> nav</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./nav&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> algolia</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./algolia&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#E06C75;"> sidebar</span><span style="color:#C678DD;"> from</span><span style="color:#98C379;"> &quot;./sidebar&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">	lang</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;zh&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 中文，英文设置en</span></span>
<span class="line"><span style="color:#E06C75;">	title</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;牡涯前端学习笔记&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 浏览器标签标题</span></span>
<span class="line"><span style="color:#E06C75;">	description</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;记录前端学习过的笔记&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	base</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;/FrontEndLearnNotes/&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// url默认前缀</span></span>
<span class="line"><span style="color:#E06C75;">	appearance</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 暗黑模式</span></span>
<span class="line"><span style="color:#E06C75;">	ignoreDeadLinks</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 不会因死链接而使构建失败</span></span>
<span class="line"><span style="color:#E06C75;">	lastUpdated</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 使用 git 提交获取时间戳，使默认主题能够显示页面的上次更新时间</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// markdown主题</span></span>
<span class="line"><span style="color:#E06C75;">	markdown</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 主题选择：https://github.com/shikijs/shiki/blob/main/docs/themes.md#all-themes</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 主题预览：https://vscodethemes.com/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 添加自定义的主题(加载主题)：https://github.com/shikijs/shiki/blob/main/docs/themes.md#loading-theme</span></span>
<span class="line"><span style="color:#E06C75;">		theme</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;one-dark-pro&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		lineNumbers</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 显示代码行数</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// outDir: &quot;../dist&quot;,</span><span style="color:#7F848E;font-style:italic;"> // 打包输出的目录</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// titleTemplate: &#39;牧涯前端学习笔记&#39;,</span><span style="color:#7F848E;font-style:italic;"> // 标题后缀</span></span>
<span class="line"><span style="color:#E06C75;">	cleanUrls</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;without-subfolders&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// url设置</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// 浏览器标签图标设置</span></span>
<span class="line"><span style="color:#E06C75;">	head</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">		[</span></span>
<span class="line"><span style="color:#98C379;">			&quot;link&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">			{</span></span>
<span class="line"><span style="color:#E06C75;">				rel</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;icon&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">				href</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;https://avatars.githubusercontent.com/u/48587992?v=4&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">			},</span></span>
<span class="line"><span style="color:#ABB2BF;">		],</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// [&#39;link&#39;, { rel: &#39;icon&#39;, type: &#39;image/svg+xml&#39;, href: &#39;/logo.svg&#39; }],</span></span>
<span class="line"><span style="color:#ABB2BF;">	],</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	// ***** 主题设置 *****</span></span>
<span class="line"><span style="color:#E06C75;">	themeConfig</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">		logo</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;/img/buding.svg&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		siteTitle</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;牧涯前端学习笔记&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 网站左上角标题</span></span>
<span class="line"><span style="color:#E06C75;">		outlineTitle</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;⚡️内容大纲&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 右上角导航</span></span>
<span class="line"><span style="color:#E06C75;">		nav</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 右上角导航中显示带有图标的社交帐户链接</span></span>
<span class="line"><span style="color:#E06C75;">		socialLinks</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 展示 algolia 搜索框</span></span>
<span class="line"><span style="color:#E06C75;">		algolia</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// *****左边侧栏导航*****</span></span>
<span class="line"><span style="color:#E06C75;">		sidebar</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 编辑</span></span>
<span class="line"><span style="color:#E06C75;">		editLink</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">			pattern</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#98C379;">				&quot;https://github.com/muyaCode/FrontEndLearnNotes/edit/main/docs/:path&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">			text</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;在 GitHub 上编辑此页&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">		},</span></span>
<span class="line"><span style="color:#E06C75;">		lastUpdateText</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;上次更新时间：&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 卡片广告</span></span>
<span class="line"><span style="color:#E06C75;">		carbonAds</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">			code</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;卡片广告 code&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">			placement</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;卡片广告布置&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">		},</span></span>
<span class="line"><span style="color:#E06C75;">		docFooter</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">			prev</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;上一篇&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">			next</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;下一篇&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">		},</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		// 首页页脚配置。您可以添加消息和版权。仅当页面由于设计原因不包含边栏时，才会显示页脚。</span></span>
<span class="line"><span style="color:#E06C75;">		footer</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">			message</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Released under the MIT License.&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">			copyright</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Copyright © 2022-MuYa&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">		},</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><h4 id="上面-algolia-js-的配置-key-获取" tabindex="-1">上面 algolia.js 的配置 Key 获取 <a class="header-anchor" href="#上面-algolia-js-的配置-key-获取" aria-label="Permalink to &quot;上面 algolia.js 的配置 Key 获取&quot;">​</a></h4><p>1.重新进入 Settings 应用设置页面，点击对应的应用，进入到应用配置页面，点击 <code>API Keys</code> 获取 key</p><p><img src="`+u+'" alt="2-1.jpg"></p><p>会看到如下界面，<code>Search-Only API Key</code>  可公开的 key，是在 VitePress 项目中会使用的 Key；而  <code>Admin API Key</code>  是用于后端爬虫需要用到的的 key，因为是私有的，所以一会放在 Github Secrets 中</p><p><img src="'+b+`" alt="2-2.png"></p><p>2.复制公开的 key：<code>Search-Only API Key</code> 到 vitepress 项目的<code>docs/.vitepress/algolia.js</code></p><p>appId 字段填入：<code>Application ID</code></p><p>apiKey 字段填入：<code>Search-Only API Key</code></p><p>indexName 字段是：algolia 刚刚创建的实例应用名称</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 展示 algolia 搜索框</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#C678DD;"> default</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;">	appId</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;1L6FRXPKEM&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// Application ID</span></span>
<span class="line"><span style="color:#E06C75;">	apiKey</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;934b4c2e67a08d72d379c9af236c5859&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// Search-Only API Key</span></span>
<span class="line"><span style="color:#E06C75;">	indexName</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;FrontEndLearnNotes&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// algolia创建的实例应用名称：FrontEndLearnNotes</span></span>
<span class="line"><span style="color:#E06C75;">	placeholder</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;请输入关键词&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	buttonText</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;搜索&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	searchParameters</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">		faeFilters</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;tags:guide,api&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>3.执行 ci 配置，打开 VitePress 项目的 github 地址，点击 Setting 选项，点击 <code>Secrets</code> 中的 <code>Actions</code>。</p><p><img src="`+F+'" alt="2-3.jpg"></p><p>3.1 创建  <code>API_KEY</code> 字段，将 algolia 应用的<code>Admin API Key</code> 复制到<code>API_KEY</code> 中</p><p>3.2 创建  <code>APPLICATION_ID</code> 字段，将 algolia 应用的  <code>Application ID</code>  复制到  <code>APPLICATION_ID</code>中</p><p><img src="'+m+`" alt="2-4.jpg"></p><p>4.在 VitePress 项目中，创建 <code>crawlerConfig.json</code> 文件</p><p>在项目的根目录下创建  <code>crawlerConfig.json</code>  文件，内容如下，注意前两个字段需要进行替换。这是告诉  <code>algolia</code>  需要爬取的配置</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;index_name&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;FrontEndLearnNotes&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;start_urls&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;https://muyacode.github.io/FrontEndLearnNotes/&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;rateLimit&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">8</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;maxDepth&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;selectors&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;lvl0&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;">			&quot;selector&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">			&quot;defaultValue&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;Documentation&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">		},</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;lvl1&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;.content h1&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;lvl2&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;.content h2&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;lvl3&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;.content h3&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;lvl4&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;.content h4&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;lvl5&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;.content h5&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;">		&quot;content&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;.content p, .content li&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">	},</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;selectors_exclude&quot;</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;">		&quot;aside&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">		&quot;.page-footer&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">		&quot;.next-and-prev-link&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;">		&quot;.table-of-contents&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">	],</span></span>
<span class="line"><span style="color:#E06C75;">	&quot;js_render&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>5.编写 CI 脚本</p><p>在项目根目录<code>.github/workflows</code>  文件夹下，创建  <code>algolia.yml</code>  文件（名称可更改，自定义），粘贴如下内容：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">name: algolia</span></span>
<span class="line"><span style="color:#ABB2BF;">on:</span></span>
<span class="line"><span style="color:#ABB2BF;">  push:</span></span>
<span class="line"><span style="color:#ABB2BF;">    branches:</span></span>
<span class="line"><span style="color:#ABB2BF;">      - main</span></span>
<span class="line"><span style="color:#ABB2BF;">jobs:</span></span>
<span class="line"><span style="color:#ABB2BF;">  algolia:</span></span>
<span class="line"><span style="color:#ABB2BF;">    runs-on: ubuntu-latest</span></span>
<span class="line"><span style="color:#ABB2BF;">    steps:</span></span>
<span class="line"><span style="color:#ABB2BF;">      - uses: actions/checkout@v</span><span style="color:#D19A66;">3</span></span>
<span class="line"><span style="color:#ABB2BF;">      - name: Get the content of algolia.json as config</span></span>
<span class="line"><span style="color:#ABB2BF;">        id: algolia_config</span></span>
<span class="line"><span style="color:#ABB2BF;">        run: echo </span><span style="color:#98C379;">&quot;config=$(cat crawlerConfig.json | jq -r tostring)&quot;</span><span style="color:#ABB2BF;"> &gt;&gt; $GITHUB_OUTPUT</span></span>
<span class="line"><span style="color:#ABB2BF;">      - name: Push indices to Algolia</span></span>
<span class="line"><span style="color:#ABB2BF;">        uses: signcl/docsearch-scraper-action@master</span></span>
<span class="line"><span style="color:#ABB2BF;">        env:</span></span>
<span class="line"><span style="color:#ABB2BF;">          APPLICATION_ID: \${</span><span style="color:#FFFFFF;">{</span><span style="color:#FFFFFF;"> secrets.APPLICATION_ID</span><span style="color:#ABB2BF;"> }}</span></span>
<span class="line"><span style="color:#ABB2BF;">          API_KEY: \${</span><span style="color:#FFFFFF;">{</span><span style="color:#FFFFFF;"> secrets.API_KEY</span><span style="color:#ABB2BF;"> }}</span></span>
<span class="line"><span style="color:#ABB2BF;">          CONFIG: \${</span><span style="color:#FFFFFF;">{</span><span style="color:#FFFFFF;"> steps.algolia_config.outputs.config</span><span style="color:#ABB2BF;"> }}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>这里 yml 就是使用 Github Actions 在 Docker 中执行的 AlgoliaDocSearch scraper action，当我们推送到 main 分支时就会立即执行这个任务，当然如果你是 master 分支只需要修改 branches 那里的值即可</p></blockquote><h2 id="项目提交-algolia-搜索配置后的应用结构爬虫数据" tabindex="-1">项目提交 algolia 搜索配置后的应用结构爬虫数据 <a class="header-anchor" href="#项目提交-algolia-搜索配置后的应用结构爬虫数据" aria-label="Permalink to &quot;项目提交 algolia 搜索配置后的应用结构爬虫数据&quot;">​</a></h2><p>1.回到项目提交代码到 GitHub，然后打开 GitHub 项目链接，点击 <code>Actions</code> ，选择刚刚提交的记录带有 algolia 的</p><p><img src="`+d+'" alt="3-1.jpg"></p><p>2.点击 algolia，发现正在执行爬虫工作</p><p><img src="'+A+'" alt="3-2.jpg"></p><p>3.回到 algolia 的 Applications 应用列表</p><p><img src="'+g+'" alt="3-3.jpg"></p><p>4.点击后发现，应用已经在爬取数据</p><p><img src="'+C+'" alt="3-4.png"></p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2>',58)]))}const k=n(q,[["render",E]]);export{j as __pageData,k as default};
